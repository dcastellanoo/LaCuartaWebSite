(self.webpackChunkLaCuartaAngular=self.webpackChunkLaCuartaAngular||[]).push([[179],{440:(nn,ht,L)=>{"use strict";L.d(ht,{nm:()=>X});var b=L(5813);L(5e3),L(5867);var lt=L(5861),Qe=L(9681),We=L(4859),Ye=L(2090),Ae=L(1877);const Ke=new Map,Se={activated:!1,tokenObservers:[]},ke={initialized:!1,enabled:!1};function De(ut){return Ke.get(ut)||Se}function Re(ut,et){Ke.set(ut,et)}function rt(){return ke}class Et{constructor(et,xt,Wt,on,An){if(this.operation=et,this.retryPolicy=xt,this.getWaitDuration=Wt,this.lowerBound=on,this.upperBound=An,this.pending=null,this.nextErrorWaitInterval=on,on>An)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(et){var xt=this;return(0,lt.Z)(function*(){xt.stop();try{xt.pending=new Ye.BH,yield function pt(ut){return new Promise(et=>{setTimeout(et,ut)})}(xt.getNextRun(et)),xt.pending.resolve(),yield xt.pending.promise,xt.pending=new Ye.BH,yield xt.operation(),xt.pending.resolve(),yield xt.pending.promise,xt.process(!0).catch(()=>{})}catch(Wt){xt.retryPolicy(Wt)?xt.process(!1).catch(()=>{}):xt.stop()}})()}getNextRun(et){if(et)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const xt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),xt}}}const _t=new Ye.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ot(ut){if(!De(ut).activated)throw _t.create("use-before-activation",{appName:ut.name})}function Zn(ut,et){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,lt.Z)(function*({url:ut,body:et},xt){const Wt={"Content-Type":"application/json"},on=xt.getImmediate({optional:!0});if(on){const io=yield on.getHeartbeatsHeader();io&&(Wt["X-Firebase-Client"]=io)}const An={method:"POST",body:JSON.stringify(et),headers:Wt};let dr,Wr;try{dr=yield fetch(ut,An)}catch(io){throw _t.create("fetch-network-error",{originalErrorMessage:io.message})}if(200!==dr.status)throw _t.create("fetch-status-error",{httpStatus:dr.status});try{Wr=yield dr.json()}catch(io){throw _t.create("fetch-parse-error",{originalErrorMessage:io.message})}const ji=Wr.ttl.match(/^([\d.]+)(s)$/);if(!ji||!ji[2]||isNaN(Number(ji[1])))throw _t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Wr.ttl}`});const Mr=1e3*Number(ji[1]),Ao=Date.now();return{token:Wr.attestationToken,expireTimeMillis:Ao+Mr,issuedAtTimeMillis:Ao}})).apply(this,arguments)}function ki(ut,et){const{projectId:xt,appId:Wt,apiKey:on}=ut.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${xt}/apps/${Wt}:exchangeDebugToken?key=${on}`,body:{debug_token:et}}}const Qn="firebase-app-check-store";let Kt=null;function Di(){return Kt||(Kt=new Promise((ut,et)=>{try{const xt=indexedDB.open("firebase-app-check-database",1);xt.onsuccess=Wt=>{ut(Wt.target.result)},xt.onerror=Wt=>{var on;et(_t.create("storage-open",{originalErrorMessage:null===(on=Wt.target.error)||void 0===on?void 0:on.message}))},xt.onupgradeneeded=Wt=>{0===Wt.oldVersion&&Wt.target.result.createObjectStore(Qn,{keyPath:"compositeKey"})}}catch(xt){et(_t.create("storage-open",{originalErrorMessage:xt.message}))}}),Kt)}function ni(){return(ni=(0,lt.Z)(function*(ut,et){const Wt=(yield Di()).transaction(Qn,"readwrite"),An=Wt.objectStore(Qn).put({compositeKey:ut,value:et});return new Promise((dr,Wr)=>{An.onsuccess=ji=>{dr()},Wt.onerror=ji=>{var Mr;Wr(_t.create("storage-set",{originalErrorMessage:null===(Mr=ji.target.error)||void 0===Mr?void 0:Mr.message}))}})})).apply(this,arguments)}const jr=new Ae.Yd("@firebase/app-check");function Ti(ut,et){return(0,Ye.hl)()?function zi(ut,et){return function cr(ut,et){return ni.apply(this,arguments)}(function ur(ut){return`${ut.options.appId}-${ut.name}`}(ut),et)}(ut,et).catch(xt=>{jr.warn(`Failed to write token to IndexedDB. Error: ${xt}`)}):Promise.resolve()}function or(){return rt().enabled}function ci(){return cn.apply(this,arguments)}function cn(){return(cn=(0,lt.Z)(function*(){const ut=rt();if(ut.enabled&&ut.token)return ut.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const mn={error:"UNKNOWN_ERROR"};function ln(ut){return Ye.US.encodeString(JSON.stringify(ut),!1)}function Bn(ut){return zn.apply(this,arguments)}function zn(){return(zn=(0,lt.Z)(function*(ut,et=!1){const xt=ut.app;Ot(xt);const Wt=De(xt);let An,on=Wt.token;if(!on){const ji=yield Wt.cachedTokenPromise;ji&&Me(ji)&&(on=ji)}if(!et&&on&&Me(on))return{token:on.token};let Wr,dr=!1;if(or()){Wt.exchangeTokenPromise||(Wt.exchangeTokenPromise=Zn(ki(xt,yield ci()),ut.heartbeatServiceProvider).then(Mr=>(Wt.exchangeTokenPromise=void 0,Mr)),dr=!0);const ji=yield Wt.exchangeTokenPromise;return yield Ti(xt,ji),Re(xt,Object.assign(Object.assign({},Wt),{token:ji})),{token:ji.token}}try{Wt.exchangeTokenPromise||(Wt.exchangeTokenPromise=Wt.provider.getToken().then(ji=>(Wt.exchangeTokenPromise=void 0,ji)),dr=!0),on=yield Wt.exchangeTokenPromise}catch(ji){"appCheck/throttled"===ji.code?jr.warn(ji.message):jr.error(ji),An=ji}return on?(Wr={token:on.token},Re(xt,Object.assign(Object.assign({},Wt),{token:on})),yield Ti(xt,on)):Wr=ye(An),dr&&ue(xt,Wr),Wr})).apply(this,arguments)}function ve(ut,et){const xt=De(ut),Wt=xt.tokenObservers.filter(on=>on.next!==et);0===Wt.length&&xt.tokenRefresher&&xt.tokenRefresher.isRunning()&&xt.tokenRefresher.stop(),Re(ut,Object.assign(Object.assign({},xt),{tokenObservers:Wt}))}function Xe(ut){const{app:et}=ut,xt=De(et);let Wt=xt.tokenRefresher;Wt||(Wt=function Tt(ut){const{app:et}=ut;return new Et((0,lt.Z)(function*(){let Wt;if(Wt=De(et).token?yield Bn(ut,!0):yield Bn(ut),Wt.error)throw Wt.error}),()=>!0,()=>{const xt=De(et);if(xt.token){let Wt=xt.token.issuedAtTimeMillis+.5*(xt.token.expireTimeMillis-xt.token.issuedAtTimeMillis)+3e5;return Wt=Math.min(Wt,xt.token.expireTimeMillis-3e5),Math.max(0,Wt-Date.now())}return 0},3e4,96e4)}(ut),Re(et,Object.assign(Object.assign({},xt),{tokenRefresher:Wt}))),!Wt.isRunning()&&xt.isTokenAutoRefreshEnabled&&Wt.start()}function ue(ut,et){const xt=De(ut).tokenObservers;for(const Wt of xt)try{"EXTERNAL"===Wt.type&&null!=et.error?Wt.error(et.error):Wt.next(et)}catch(on){}}function Me(ut){return ut.expireTimeMillis-Date.now()>0}function ye(ut){return{token:ln(mn),error:ut}}class St{constructor(et,xt){this.app=et,this.heartbeatServiceProvider=xt}_delete(){const{tokenObservers:et}=De(this.app);for(const xt of et)ve(this.app,xt.next);return Promise.resolve()}}const er="app-check-internal";!function pr(){(0,Qe._registerComponent)(new We.wA("app-check",ut=>function Xt(ut,et){return new St(ut,et)}(ut.getProvider("app").getImmediate(),ut.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ut,et,xt)=>{ut.getProvider(er).initialize()})),(0,Qe._registerComponent)(new We.wA(er,ut=>function un(ut){return{getToken:et=>Bn(ut,et),addTokenListener:et=>function qe(ut,et,xt,Wt){const{app:on}=ut,An=De(on),dr={next:xt,error:Wt,type:et};if(Re(on,Object.assign(Object.assign({},An),{tokenObservers:[...An.tokenObservers,dr]})),An.token&&Me(An.token)){const Wr=An.token;Promise.resolve().then(()=>{xt({token:Wr.token}),Xe(ut)}).catch(()=>{})}An.cachedTokenPromise.then(()=>Xe(ut))}(ut,"INTERNAL",et),removeTokenListener:et=>ve(ut.app,et)}}(ut.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Qe.registerVersion)("@firebase/app-check","0.5.6")}();class X{constructor(){return(0,b.vb)("app-check")}}"undefined"!=typeof window&&window},1205:(nn,ht,L)=>{"use strict";L.d(ht,{zQ:()=>tt,rT:()=>ke,f7:()=>Re,L6:()=>Ke,_Q:()=>Se,lh:()=>De,Qv:()=>Ae,nw:()=>rt});var b=L(5e3),s=L(7579),Q=L(9646),Ce=L(8306),Ie=L(8996),ae=L(6451),ge=L(6063);class Pe extends s.x{constructor(mt=1/0,nt=1/0,Je=ge.l){super(),this._bufferSize=mt,this._windowTime=nt,this._timestampProvider=Je,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=nt===1/0,this._bufferSize=Math.max(1,mt),this._windowTime=Math.max(1,nt)}next(mt){const{isStopped:nt,_buffer:Je,_infiniteTimeWindow:Et,_timestampProvider:pt,_windowTime:Dt}=this;nt||(Je.push(mt),!Et&&Je.push(pt.now()+Dt)),this._trimBuffer(),super.next(mt)}_subscribe(mt){this._throwIfClosed(),this._trimBuffer();const nt=this._innerSubscribe(mt),{_infiniteTimeWindow:Je,_buffer:Et}=this,pt=Et.slice();for(let Dt=0;Dt<pt.length&&!mt.closed;Dt+=Je?1:2)mt.next(pt[Dt]);return this._checkFinalizedStatuses(mt),nt}_trimBuffer(){const{_bufferSize:mt,_timestampProvider:nt,_buffer:Je,_infiniteTimeWindow:Et}=this,pt=(Et?1:2)*mt;if(mt<1/0&&pt<Je.length&&Je.splice(0,Je.length-pt),!Et){const Dt=nt.now();let _t=0;for(let Ft=1;Ft<Je.length&&Je[Ft]<=Dt;Ft+=2)_t=Ft;_t&&Je.splice(0,_t+1)}}}var Ze=L(3099);function Ne(Gt,mt,nt){let Je,Et=!1;return Gt&&"object"==typeof Gt?({bufferSize:Je=1/0,windowTime:mt=1/0,refCount:Et=!1,scheduler:nt}=Gt):Je=null!=Gt?Gt:1/0,(0,Ze.B)({connector:()=>new Pe(Je,mt,nt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Et})}var de=L(3900),Be=L(576);function Te(Gt,mt){return(0,Be.m)(mt)?(0,de.w)(()=>Gt,mt):(0,de.w)(()=>Gt)}var je=L(5363),it=L(4004),Le=L(590),Ve=L(9468),fe=L(9300),_e=L(5813),vt=L(2011),lt=L(9808),Qe=L(440);L(127);const Ae=new b.OlP("angularfire2.auth.use-emulator"),Ke=new b.OlP("angularfire2.auth.settings"),Se=new b.OlP("angularfire2.auth.tenant-id"),ke=new b.OlP("angularfire2.auth.langugage-code"),De=new b.OlP("angularfire2.auth.use-device-language"),Re=new b.OlP("angularfire.auth.persistence"),rt=(Gt,mt,nt,Je,Et,pt,Dt,_t)=>(0,vt.cc)(`${Gt.name}.auth`,"AngularFireAuth",Gt.name,()=>{const Ft=mt.runOutsideAngular(()=>Gt.auth());if(nt&&Ft.useEmulator(...nt),Je&&(Ft.tenantId=Je),Ft.languageCode=Et,pt&&Ft.useDeviceLanguage(),Dt)for(const[Ot,Cn]of Object.entries(Dt))Ft.settings[Ot]=Cn;return _t&&Ft.setPersistence(_t),Ft},[nt,Je,Et,pt,Dt,_t]);let tt=(()=>{class Gt{constructor(nt,Je,Et,pt,Dt,_t,Ft,Ot,Cn,ti,$n,Zn){const Hn=new s.x,ai=(0,Q.of)(void 0).pipe((0,je.Q)(Dt.outsideAngular),(0,de.w)(()=>pt.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,5881)))),(0,it.U)(()=>(0,vt.on)(nt,pt,Je)),(0,it.U)(jn=>rt(jn,pt,_t,Ot,Cn,ti,Ft,$n)),Ne({bufferSize:1,refCount:!1}));if((0,lt.PM)(Et))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Q.of)(null);else{ai.pipe((0,Le.P)()).subscribe();const ki=ai.pipe((0,de.w)(Qn=>Qn.getRedirectResult().then(Gn=>Gn,()=>null)),_e.iC,Ne({bufferSize:1,refCount:!1})),gi=ai.pipe((0,de.w)(Qn=>new Ce.y(Gn=>({unsubscribe:pt.runOutsideAngular(()=>Qn.onAuthStateChanged(Kt=>Gn.next(Kt),Kt=>Gn.error(Kt),()=>Gn.complete()))})))),bn=ai.pipe((0,de.w)(Qn=>new Ce.y(Gn=>({unsubscribe:pt.runOutsideAngular(()=>Qn.onIdTokenChanged(Kt=>Gn.next(Kt),Kt=>Gn.error(Kt),()=>Gn.complete()))}))));this.authState=ki.pipe(Te(gi),(0,Ve.R)(Dt.outsideAngular),(0,je.Q)(Dt.insideAngular)),this.user=ki.pipe(Te(bn),(0,Ve.R)(Dt.outsideAngular),(0,je.Q)(Dt.insideAngular)),this.idToken=this.user.pipe((0,de.w)(Qn=>Qn?(0,Ie.D)(Qn.getIdToken()):(0,Q.of)(null))),this.idTokenResult=this.user.pipe((0,de.w)(Qn=>Qn?(0,Ie.D)(Qn.getIdTokenResult()):(0,Q.of)(null))),this.credential=(0,ae.T)(ki,Hn,this.authState.pipe((0,fe.h)(Qn=>!Qn))).pipe((0,it.U)(Qn=>(null==Qn?void 0:Qn.user)?Qn:null),(0,Ve.R)(Dt.outsideAngular),(0,je.Q)(Dt.insideAngular))}return(0,vt.pX)(this,ai,pt,{spy:{apply:(jn,ki,gi)=>{(jn.startsWith("signIn")||jn.startsWith("createUser"))&&gi.then(bn=>Hn.next(bn))}}})}}return Gt.\u0275fac=function(nt){return new(nt||Gt)(b.LFG(vt.Dh),b.LFG(vt.xv,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(_e.HU),b.LFG(Ae,8),b.LFG(Ke,8),b.LFG(Se,8),b.LFG(ke,8),b.LFG(De,8),b.LFG(Re,8),b.LFG(Qe.nm,8))},Gt.\u0275prov=b.Yz7({token:Gt,factory:Gt.\u0275fac,providedIn:"any"}),Gt})()},7407:(nn,ht,L)=>{"use strict";L.d(ht,{ST:()=>I_,yb:()=>Zh});var b=L(5e3),s=L(4986),Q=L(8306),Ce=L(8996),Ie=L(9646),ae=L(5813),ge=L(4482),Pe=L(5403);function Ze(){return(0,ge.e)((c,i)=>{let o,h=!1;c.subscribe((0,Pe.x)(i,g=>{const y=o;o=g,h&&i.next([y,g]),h=!0}))})}var Ke,Ne=L(8675),de=L(4004),Be=L(5026),Te=L(1884),je=L(9300),it=L(2011),Le=L(9808),fe=(L(5881),L(3942)),_e=L(5861),vt=L(9681),lt=L(4859),Qe=L(1877),We=L(2090),Ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ae={},Se=Se||{},ke=Ye||self;function De(){}function Re(c){var i=typeof c;return"array"==(i="object"!=i?i:c?Array.isArray(c)?"array":i:"null")||"object"==i&&"number"==typeof c.length}function rt(c){var i=typeof c;return"object"==i&&null!=c||"function"==i}var Jt="closure_uid_"+(1e9*Math.random()>>>0),Gt=0;function mt(c,i,o){return c.call.apply(c.bind,arguments)}function nt(c,i,o){if(!c)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,h),c.apply(i,g)}}return function(){return c.apply(i,arguments)}}function Je(c,i,o){return(Je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mt:nt).apply(null,arguments)}function Et(c,i){var o=Array.prototype.slice.call(arguments,1);return function(){var h=o.slice();return h.push.apply(h,arguments),c.apply(this,h)}}function pt(c,i){function o(){}o.prototype=i.prototype,c.Z=i.prototype,c.prototype=new o,c.prototype.constructor=c,c.Vb=function(h,g,y){for(var D=Array(arguments.length-2),B=2;B<arguments.length;B++)D[B-2]=arguments[B];return i.prototype[g].apply(h,D)}}function Dt(){this.s=this.s,this.o=this.o}var Ft={};Dt.prototype.s=!1,Dt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var c=function tt(c){return Object.prototype.hasOwnProperty.call(c,Jt)&&c[Jt]||(c[Jt]=++Gt)}(this);delete Ft[c]}},Dt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ot=Array.prototype.indexOf?function(c,i){return Array.prototype.indexOf.call(c,i,void 0)}:function(c,i){if("string"==typeof c)return"string"!=typeof i||1!=i.length?-1:c.indexOf(i,0);for(let o=0;o<c.length;o++)if(o in c&&c[o]===i)return o;return-1},Cn=Array.prototype.forEach?function(c,i,o){Array.prototype.forEach.call(c,i,o)}:function(c,i,o){const h=c.length,g="string"==typeof c?c.split(""):c;for(let y=0;y<h;y++)y in g&&i.call(o,g[y],y,c)};function $n(c){return Array.prototype.concat.apply([],arguments)}function Zn(c){const i=c.length;if(0<i){const o=Array(i);for(let h=0;h<i;h++)o[h]=c[h];return o}return[]}function Hn(c){return/^[\s\xa0]*$/.test(c)}var gi,ai=String.prototype.trim?function(c){return c.trim()}:function(c){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(c)[1]};function jn(c,i){return-1!=c.indexOf(i)}function ki(c,i){return c<i?-1:c>i?1:0}e:{var bn=ke.navigator;if(bn){var Qn=bn.userAgent;if(Qn){gi=Qn;break e}}gi=""}function Gn(c,i,o){for(const h in c)i.call(o,c[h],h,c)}function Kt(c){const i={};for(const o in c)i[o]=c[o];return i}var Di="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sr(c,i){let o,h;for(let g=1;g<arguments.length;g++){for(o in h=arguments[g],h)c[o]=h[o];for(let y=0;y<Di.length;y++)o=Di[y],Object.prototype.hasOwnProperty.call(h,o)&&(c[o]=h[o])}}function zi(c){return zi[" "](c),c}zi[" "]=De;var xn,c,Nr=jn(gi,"Opera"),cr=jn(gi,"Trident")||jn(gi,"MSIE"),ni=jn(gi,"Edge"),hn=ni||cr,pn=jn(gi,"Gecko")&&!(jn(gi.toLowerCase(),"webkit")&&!jn(gi,"Edge"))&&!(jn(gi,"Trident")||jn(gi,"MSIE"))&&!jn(gi,"Edge"),ur=jn(gi.toLowerCase(),"webkit")&&!jn(gi,"Edge");function jr(){var c=ke.document;return c?c.documentMode:void 0}e:{var Fi="",Ti=(c=gi,pn?/rv:([^\);]+)(\)|;)/.exec(c):ni?/Edge\/([\d\.]+)/.exec(c):cr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(c):ur?/WebKit\/(\S+)/.exec(c):Nr?/(?:Version)[ \/]?(\S+)/.exec(c):void 0);if(Ti&&(Fi=Ti?Ti[1]:""),cr){var Li=jr();if(null!=Li&&Li>parseFloat(Fi)){xn=String(Li);break e}}xn=Fi}var Ln={};var zt=ke.document&&cr&&(jr()||parseInt(xn,10))||void 0,mn=function(){if(!ke.addEventListener||!Object.defineProperty)return!1;var c=!1,i=Object.defineProperty({},"passive",{get:function(){c=!0}});try{ke.addEventListener("test",De,i),ke.removeEventListener("test",De,i)}catch(o){}return c}();function ln(c,i){this.type=c,this.g=this.target=i,this.defaultPrevented=!1}function Bn(c,i){if(ln.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var o=this.type=c.type,h=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=i,i=c.relatedTarget){if(pn){e:{try{zi(i.nodeName);var g=!0;break e}catch(y){}g=!1}g||(i=null)}}else"mouseover"==o?i=c.fromElement:"mouseout"==o&&(i=c.toElement);this.relatedTarget=i,h?(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType="string"==typeof c.pointerType?c.pointerType:zn[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Bn.Z.h.call(this)}}ln.prototype.h=function(){this.defaultPrevented=!0},pt(Bn,ln);var zn={2:"touch",3:"pen",4:"mouse"};Bn.prototype.h=function(){Bn.Z.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),ve=0;function Xe(c,i,o,h,g){this.listener=c,this.proxy=null,this.src=i,this.type=o,this.capture=!!h,this.ia=g,this.key=++ve,this.ca=this.fa=!1}function Tt(c){c.ca=!0,c.listener=null,c.proxy=null,c.src=null,c.ia=null}function ue(c){this.src=c,this.g={},this.h=0}function Me(c,i){var o=i.type;if(o in c.g){var y,h=c.g[o],g=Ot(h,i);(y=0<=g)&&Array.prototype.splice.call(h,g,1),y&&(Tt(i),0==c.g[o].length&&(delete c.g[o],c.h--))}}function ye(c,i,o,h){for(var g=0;g<c.length;++g){var y=c[g];if(!y.ca&&y.listener==i&&y.capture==!!o&&y.ia==h)return g}return-1}ue.prototype.add=function(c,i,o,h,g){var y=c.toString();(c=this.g[y])||(c=this.g[y]=[],this.h++);var D=ye(c,i,h,g);return-1<D?(i=c[D],o||(i.fa=!1)):((i=new Xe(i,this.src,y,!!h,g)).fa=o,c.push(i)),i};var St="closure_lm_"+(1e6*Math.random()|0),Xt={};function un(c,i,o,h,g){if(h&&h.once)return Un(c,i,o,h,g);if(Array.isArray(i)){for(var y=0;y<i.length;y++)un(c,i[y],o,h,g);return null}return o=Jr(o),c&&c[qe]?c.N(i,o,rt(h)?!!h.capture:!!h,g):En(c,i,o,!1,h,g)}function En(c,i,o,h,g,y){if(!i)throw Error("Invalid event type");var D=rt(g)?!!g.capture:!!g,B=Xi(c);if(B||(c[St]=B=new ue(c)),(o=B.add(i,o,h,D,y)).proxy)return o;if(h=function sn(){var i=Hi;return function c(o){return i.call(c.src,c.listener,o)}}(),o.proxy=h,h.src=c,h.listener=o,c.addEventListener)mn||(g=D),void 0===g&&(g=!1),c.addEventListener(i.toString(),h,g);else if(c.attachEvent)c.attachEvent(fi(i.toString()),h);else{if(!c.addListener||!c.removeListener)throw Error("addEventListener and attachEvent are unavailable.");c.addListener(h)}return o}function Un(c,i,o,h,g){if(Array.isArray(i)){for(var y=0;y<i.length;y++)Un(c,i[y],o,h,g);return null}return o=Jr(o),c&&c[qe]?c.O(i,o,rt(h)?!!h.capture:!!h,g):En(c,i,o,!0,h,g)}function Qi(c,i,o,h,g){if(Array.isArray(i))for(var y=0;y<i.length;y++)Qi(c,i[y],o,h,g);else h=rt(h)?!!h.capture:!!h,o=Jr(o),c&&c[qe]?(c=c.i,(i=String(i).toString())in c.g&&-1<(o=ye(y=c.g[i],o,h,g))&&(Tt(y[o]),Array.prototype.splice.call(y,o,1),0==y.length&&(delete c.g[i],c.h--))):c&&(c=Xi(c))&&(i=c.g[i.toString()],c=-1,i&&(c=ye(i,o,h,g)),(o=-1<c?i[c]:null)&&Mi(o))}function Mi(c){if("number"!=typeof c&&c&&!c.ca){var i=c.src;if(i&&i[qe])Me(i.i,c);else{var o=c.type,h=c.proxy;i.removeEventListener?i.removeEventListener(o,h,c.capture):i.detachEvent?i.detachEvent(fi(o),h):i.addListener&&i.removeListener&&i.removeListener(h),(o=Xi(i))?(Me(o,c),0==o.h&&(o.src=null,i[St]=null)):Tt(c)}}}function fi(c){return c in Xt?Xt[c]:Xt[c]="on"+c}function Hi(c,i){if(c.ca)c=!0;else{i=new Bn(i,this);var o=c.listener,h=c.ia||c.src;c.fa&&Mi(c),c=o.call(h,i)}return c}function Xi(c){return(c=c[St])instanceof ue?c:null}var qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jr(c){return"function"==typeof c?c:(c[qi]||(c[qi]=function(i){return c.handleEvent(i)}),c[qi])}function Yn(){Dt.call(this),this.i=new ue(this),this.P=this,this.I=null}function Ht(c,i){var o,h=c.I;if(h)for(o=[];h;h=h.I)o.push(h);if(c=c.P,h=i.type||i,"string"==typeof i)i=new ln(i,c);else if(i instanceof ln)i.target=i.target||c;else{var g=i;sr(i=new ln(h,c),g)}if(g=!0,o)for(var y=o.length-1;0<=y;y--){var D=i.g=o[y];g=ii(D,h,!0,i)&&g}if(g=ii(D=i.g=c,h,!0,i)&&g,g=ii(D,h,!1,i)&&g,o)for(y=0;y<o.length;y++)g=ii(D=i.g=o[y],h,!1,i)&&g}function ii(c,i,o,h){if(!(i=c.i.g[String(i)]))return!0;i=i.concat();for(var g=!0,y=0;y<i.length;++y){var D=i[y];if(D&&!D.ca&&D.capture==o){var B=D.listener,J=D.ia||D.src;D.fa&&Me(c.i,D),g=!1!==B.call(J,h)&&g}}return g&&!h.defaultPrevented}pt(Yn,Dt),Yn.prototype[qe]=!0,Yn.prototype.removeEventListener=function(c,i,o,h){Qi(this,c,i,o,h)},Yn.prototype.M=function(){if(Yn.Z.M.call(this),this.i){var i,c=this.i;for(i in c.g){for(var o=c.g[i],h=0;h<o.length;h++)Tt(o[h]);delete c.g[i],c.h--}}this.I=null},Yn.prototype.N=function(c,i,o,h){return this.i.add(String(c),i,!1,o,h)},Yn.prototype.O=function(c,i,o,h){return this.i.add(String(c),i,!0,o,h)};var hi=ke.JSON.stringify;function fr(){var c=Sr;let i=null;return c.g&&(i=c.g,c.g=c.g.next,c.g||(c.h=null),i.next=null),i}var ui,wi=new class{constructor(c,i){this.i=c,this.j=i,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}(()=>new Ar,c=>c.reset());class Ar{constructor(){this.next=this.g=this.h=null}set(i,o){this.h=i,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function Vi(c){ke.setTimeout(()=>{throw c},0)}function Bi(c,i){ui||function Wn(){var c=ke.Promise.resolve(void 0);ui=function(){c.then(Is)}}(),Rr||(ui(),Rr=!0),Sr.add(c,i)}var Rr=!1,Sr=new class Ir{constructor(){this.h=this.g=null}add(i,o){const h=wi.get();h.set(i,o),this.h?this.h.next=h:this.g=h,this.h=h}};function Is(){for(var c;c=fr();){try{c.h.call(c.g)}catch(o){Vi(o)}var i=wi;i.j(c),100>i.h&&(i.h++,c.next=i.g,i.g=c)}Rr=!1}function er(c,i){Yn.call(this),this.h=c||1,this.g=i||ke,this.j=Je(this.kb,this),this.l=Date.now()}function pr(c){c.da=!1,c.S&&(c.g.clearTimeout(c.S),c.S=null)}function zr(c,i,o){if("function"==typeof c)o&&(c=Je(c,o));else{if(!c||"function"!=typeof c.handleEvent)throw Error("Invalid listener argument");c=Je(c.handleEvent,c)}return 2147483647<Number(i)?-1:ke.setTimeout(c,i||0)}function Lr(c){c.g=zr(()=>{c.g=null,c.i&&(c.i=!1,Lr(c))},c.j);const i=c.h;c.h=null,c.m.apply(null,i)}pt(er,Yn),(Ke=er.prototype).da=!1,Ke.S=null,Ke.kb=function(){if(this.da){var c=Date.now()-this.l;0<c&&c<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-c):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ht(this,"tick"),this.da&&(pr(this),this.start()))}},Ke.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ke.M=function(){er.Z.M.call(this),pr(this),delete this.g};class X extends Dt{constructor(i,o){super(),this.m=i,this.j=o,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:Lr(this)}M(){super.M(),this.g&&(ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function he(c){Dt.call(this),this.h=c,this.g={}}pt(he,Dt);var ct=[];function yt(c,i,o,h){Array.isArray(o)||(o&&(ct[0]=o.toString()),o=ct);for(var g=0;g<o.length;g++){var y=un(i,o[g],h||c.handleEvent,!1,c.h||c);if(!y)break;c.g[y.key]=y}}function be(c){Gn(c.g,function(i,o){this.g.hasOwnProperty(o)&&Mi(i)},c),c.g={}}function $e(){this.g=!0}function Lt(c,i,o,h){c.info(function(){return"XMLHTTP TEXT ("+i+"): "+function fn(c,i){if(!c.g)return i;if(!i)return null;try{var o=JSON.parse(i);if(o)for(c=0;c<o.length;c++)if(Array.isArray(o[c])){var h=o[c];if(!(2>h.length)){var g=h[1];if(Array.isArray(g)&&!(1>g.length)){var y=g[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var D=1;D<g.length;D++)g[D]=""}}}return hi(o)}catch(B){return i}}(c,o)+(h?" "+h:"")})}he.prototype.M=function(){he.Z.M.call(this),be(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$e.prototype.Aa=function(){this.g=!1},$e.prototype.info=function(){};var wn={},Xn=null;function oi(){return Xn=Xn||new Yn}function ns(c){ln.call(this,wn.Ma,c)}function vr(c){const i=oi();Ht(i,new ns(i,c))}function ut(c,i){ln.call(this,wn.STAT_EVENT,c),this.stat=i}function et(c){const i=oi();Ht(i,new ut(i,c))}function xt(c,i){ln.call(this,wn.Na,c),this.size=i}function Wt(c,i){if("function"!=typeof c)throw Error("Fn must not be null and must be a function");return ke.setTimeout(function(){c()},i)}wn.Ma="serverreachability",pt(ns,ln),wn.STAT_EVENT="statevent",pt(ut,ln),wn.Na="timingevent",pt(xt,ln);var on={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},An={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dr(){}function ji(){}dr.prototype.h=null;var Bs,Mr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ao(){ln.call(this,"d")}function io(){ln.call(this,"c")}function ro(){}function qs(c,i,o,h){this.l=c,this.j=i,this.m=o,this.X=h||1,this.V=new he(this),this.P=So,this.W=new er(c=hn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Br}function Br(){this.i=null,this.g="",this.h=!1}pt(Ao,ln),pt(io,ln),pt(ro,dr),ro.prototype.g=function(){return new XMLHttpRequest},ro.prototype.i=function(){return{}},Bs=new ro;var So=45e3,br={},Zs={};function gs(c,i,o){c.K=1,c.v=Pt(Zi(i)),c.s=o,c.U=!0,As(c,null)}function As(c,i){c.F=Date.now(),qr(c),c.A=Zi(c.v);var o=c.A,h=c.X;Array.isArray(h)||(h=[String(h)]),ss(o.h,"t",h),c.C=0,o=c.l.H,c.h=new Br,c.g=al(c.l,o?i:null,!c.s),0<c.O&&(c.L=new X(Je(c.Ia,c,c.g),c.O)),yt(c.V,c.g,"readystatechange",c.gb),i=c.H?Kt(c.H):{},c.s?(c.u||(c.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.s,i)):(c.u="GET",c.g.ea(c.A,c.u,null,i)),vr(1),function bt(c,i,o,h,g,y){c.info(function(){if(c.g)if(y)for(var D="",B=y.split("&"),J=0;J<B.length;J++){var ie=B[J].split("=");if(1<ie.length){var ze=ie[0];ie=ie[1];var dt=ze.split("_");D=2<=dt.length&&"type"==dt[1]?D+(ze+"=")+ie+"&":D+(ze+"=redacted&")}}else D=null;else D=y;return"XMLHTTP REQ ("+h+") [attempt "+g+"]: "+i+"\n"+o+"\n"+D})}(c.j,c.u,c.A,c.m,c.X,c.s)}function ma(c){return!!c.g&&"GET"==c.u&&2!=c.K&&c.l.Ba}function Ss(c,i,o){let g,h=!0;for(;!c.I&&c.C<o.length;){if(g=Qo(c,o),g==Zs){4==i&&(c.o=4,et(14),h=!1),Lt(c.j,c.m,null,"[Incomplete Response]");break}if(g==br){c.o=4,et(15),Lt(c.j,c.m,o,"[Invalid Chunk]"),h=!1;break}Lt(c.j,c.m,g,null),Ys(c,g)}ma(c)&&g!=Zs&&g!=br&&(c.h.g="",c.C=0),4!=i||0!=o.length||c.h.h||(c.o=1,et(16),h=!1),c.i=c.i&&h,h?0<o.length&&!c.aa&&(c.aa=!0,(i=c.l).g==c&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+o.length),jo(i),i.L=!0,et(11))):(Lt(c.j,c.m,o,"[Invalid Chunked Response]"),ar(c),ho(c))}function Qo(c,i){var o=c.C,h=i.indexOf("\n",o);return-1==h?Zs:(o=Number(i.substring(o,h)),isNaN(o)?br:(h+=1)+o>i.length?Zs:(i=i.substr(h,o),c.C=h+o,i))}function qr(c){c.Y=Date.now()+c.P,us(c,c.P)}function us(c,i){if(null!=c.B)throw Error("WatchDog timer not null");c.B=Wt(Je(c.eb,c),i)}function ds(c){c.B&&(ke.clearTimeout(c.B),c.B=null)}function ho(c){0==c.l.G||c.I||Ql(c.l,c)}function ar(c){ds(c);var i=c.L;i&&"function"==typeof i.na&&i.na(),c.L=null,pr(c.W),be(c.V),c.g&&(i=c.g,c.g=null,i.abort(),i.na())}function Ys(c,i){try{var o=c.l;if(0!=o.G&&(o.g==c||Ee(o.i,c)))if(o.I=c.N,!c.J&&Ee(o.i,c)&&3==o.G){try{var h=o.Ca.g.parse(i)}catch(ie){h=null}if(Array.isArray(h)&&3==h.length){var g=h;if(0==g[0])e:if(o.u)o.ta=g[1],0<o.ta-o.U&&37500>g[2]&&o.N&&0==o.A&&!o.v&&(o.v=Wt(Je(o.ab,o),6e3));else{if(o.g){if(!(o.g.F+3e3<c.F))break e;sl(o),Oa(o)}Ra(o),et(18)}if(1>=re(o.i)&&o.ka){try{o.ka()}catch(ie){}o.ka=void 0}}else Go(o,11)}else if((c.J||o.g==c)&&sl(o),!Hn(i))for(g=o.Ca.g.parse(i),i=0;i<g.length;i++){let ie=g[i];if(o.U=ie[0],ie=ie[1],2==o.G)if("c"==ie[0]){o.J=ie[1],o.la=ie[2];const ze=ie[3];null!=ze&&(o.ma=ze,o.h.info("VER="+o.ma));const dt=ie[4];null!=dt&&(o.za=dt,o.h.info("SVER="+o.za));const kt=ie[5];null!=kt&&"number"==typeof kt&&0<kt&&(o.K=h=1.5*kt,o.h.info("backChannelRequestTimeoutMs_="+h)),h=o;const Qt=c.g;if(Qt){const rn=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rn){var y=h.i;!y.g&&(jn(rn,"spdy")||jn(rn,"quic")||jn(rn,"h2"))&&(y.j=y.l,y.g=new Set,y.h&&(st(y,y.h),y.h=null))}if(h.D){const Fn=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fn&&(h.sa=Fn,He(h.F,h.D,Fn))}}o.G=3,o.j&&o.j.xa(),o.$&&(o.O=Date.now()-c.F,o.h.info("Handshake RTT: "+o.O+"ms"));var D=c;if((h=o).oa=ol(h,h.H?h.la:null,h.W),D.J){Mt(h.i,D);var B=D,J=h.K;J&&B.setTimeout(J),B.B&&(ds(B),qr(B)),h.g=D}else ya(h);0<o.l.length&&Xc(o)}else"stop"!=ie[0]&&"close"!=ie[0]||Go(o,7);else 3==o.G&&("stop"==ie[0]||"close"==ie[0]?"stop"==ie[0]?Go(o,7):Qs(o):"noop"!=ie[0]&&o.j&&o.j.wa(ie),o.A=0)}vr(4)}catch(ie){}}function Us(c,i){if(c.forEach&&"function"==typeof c.forEach)c.forEach(i,void 0);else if(Re(c)||"string"==typeof c)Cn(c,i,void 0);else{if(c.T&&"function"==typeof c.T)var o=c.T();else if(c.R&&"function"==typeof c.R)o=void 0;else if(Re(c)||"string"==typeof c){o=[];for(var h=c.length,g=0;g<h;g++)o.push(g)}else for(g in o=[],h=0,c)o[h++]=g;h=function Sa(c){if(c.R&&"function"==typeof c.R)return c.R();if("string"==typeof c)return c.split("");if(Re(c)){for(var i=[],o=c.length,h=0;h<o;h++)i.push(c[h]);return i}for(h in i=[],o=0,c)i[o++]=c[h];return i}(c),g=h.length;for(var y=0;y<g;y++)i.call(void 0,h[y],o&&o[y],c)}}function xe(c,i){this.h={},this.g=[],this.i=0;var o=arguments.length;if(1<o){if(o%2)throw Error("Uneven number of arguments");for(var h=0;h<o;h+=2)this.set(arguments[h],arguments[h+1])}else if(c)if(c instanceof xe)for(o=c.T(),h=0;h<o.length;h++)this.set(o[h],c.get(o[h]));else for(h in c)this.set(h,c[h])}function is(c){if(c.i!=c.g.length){for(var i=0,o=0;i<c.g.length;){var h=c.g[i];Vs(c.h,h)&&(c.g[o++]=h),i++}c.g.length=o}if(c.i!=c.g.length){var g={};for(o=i=0;i<c.g.length;)Vs(g,h=c.g[i])||(c.g[o++]=h,g[h]=1),i++;c.g.length=o}}function Vs(c,i){return Object.prototype.hasOwnProperty.call(c,i)}(Ke=qs.prototype).setTimeout=function(c){this.P=c},Ke.gb=function(c){c=c.target;const i=this.L;i&&3==na(c)?i.l():this.Ia(c)},Ke.Ia=function(c){try{if(c==this.g)e:{const ze=na(this.g);var i=this.g.Da();const dt=this.g.ba();if(!(3>ze)&&(3!=ze||hn||this.g&&(this.h.h||this.g.ga()||Yl(this.g)))){this.I||4!=ze||7==i||vr(8==i||0>=dt?3:2),ds(this);var o=this.g.ba();this.N=o;t:if(ma(this)){var h=Yl(this.g);c="";var g=h.length,y=4==na(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ar(this),ho(this);var D="";break t}this.h.i=new ke.TextDecoder}for(i=0;i<g;i++)this.h.h=!0,c+=this.h.i.decode(h[i],{stream:y&&i==g-1});h.splice(0,g),this.h.g+=c,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==o,function Rt(c,i,o,h,g,y,D){c.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+g+"]: "+i+"\n"+o+"\n"+y+" "+D})}(this.j,this.u,this.A,this.m,this.X,ze,o),this.i){if(this.$&&!this.J){t:{if(this.g){var B,J=this.g;if((B=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hn(B)){var ie=B;break t}}ie=null}if(!(o=ie)){this.i=!1,this.o=3,et(12),ar(this),ho(this);break e}Lt(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ys(this,o)}this.U?(Ss(this,ze,D),hn&&this.i&&3==ze&&(yt(this.V,this.W,"tick",this.fb),this.W.start())):(Lt(this.j,this.m,D,null),Ys(this,D)),4==ze&&ar(this),this.i&&!this.I&&(4==ze?Ql(this.l,this):(this.i=!1,qr(this)))}else 400==o&&0<D.indexOf("Unknown SID")?(this.o=3,et(12)):(this.o=0,et(13)),ar(this),ho(this)}}}catch(ze){}},Ke.fb=function(){if(this.g){var c=na(this.g),i=this.g.ga();this.C<i.length&&(ds(this),Ss(this,c,i),this.i&&4!=c&&qr(this))}},Ke.cancel=function(){this.I=!0,ar(this)},Ke.eb=function(){this.B=null;const c=Date.now();0<=c-this.Y?(function jt(c,i){c.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(vr(3),et(17)),ar(this),this.o=2,ho(this)):us(this,this.Y-c)},(Ke=xe.prototype).R=function(){is(this);for(var c=[],i=0;i<this.g.length;i++)c.push(this.h[this.g[i]]);return c},Ke.T=function(){return is(this),this.g.concat()},Ke.get=function(c,i){return Vs(this.h,c)?this.h[c]:i},Ke.set=function(c,i){Vs(this.h,c)||(this.i++,this.g.push(c)),this.h[c]=i},Ke.forEach=function(c,i){for(var o=this.T(),h=0;h<o.length;h++){var g=o[h],y=this.get(g);c.call(i,y,g,this)}};var rs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ms(c,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,c instanceof Ms){this.g=void 0!==i?i:c.g,z(this,c.j),this.s=c.s,oe(this,c.i),G(this,c.m),this.l=c.l,i=c.h;var o=new Gr;o.i=i.i,i.g&&(o.g=new xe(i.g),o.h=i.h),ce(this,o),this.o=c.o}else c&&(o=String(c).match(rs))?(this.g=!!i,z(this,o[1]||"",!0),this.s=yi(o[2]||""),oe(this,o[3]||"",!0),G(this,o[4]),this.l=yi(o[5]||"",!0),ce(this,o[6]||"",!0),this.o=yi(o[7]||"")):(this.g=!!i,this.h=new Gr(null,this.g))}function Zi(c){return new Ms(c)}function z(c,i,o){c.j=o?yi(i,!0):i,c.j&&(c.j=c.j.replace(/:$/,""))}function oe(c,i,o){c.i=o?yi(i,!0):i}function G(c,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);c.m=i}else c.m=null}function ce(c,i,o){i instanceof Gr?(c.h=i,function q(c,i){i&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(o,h){var g=h.toLowerCase();h!=g&&(xs(this,h),ss(this,g,o))},c)),c.j=i}(c.h,c.g)):(o||(i=xi(i,tr)),c.h=new Gr(i,c.g))}function He(c,i,o){c.h.set(i,o)}function Pt(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function yi(c,i){return c?i?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xi(c,i,o){return"string"==typeof c?(c=encodeURI(c).replace(i,Ii),o&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ii(c){return"%"+((c=c.charCodeAt(0))>>4&15).toString(16)+(15&c).toString(16)}Ms.prototype.toString=function(){var c=[],i=this.j;i&&c.push(xi(i,ei,!0),":");var o=this.i;return(o||"file"==i)&&(c.push("//"),(i=this.s)&&c.push(xi(i,ei,!0),"@"),c.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&c.push(":",String(o))),(o=this.l)&&(this.i&&"/"!=o.charAt(0)&&c.push("/"),c.push(xi(o,"/"==o.charAt(0)?gr:xr,!0))),(o=this.h.toString())&&c.push("?",o),(o=this.o)&&c.push("#",xi(o,Er)),c.join("")};var ei=/[#\/\?@]/g,xr=/[#\?:]/g,gr=/[#\?]/g,tr=/[#\?@]/g,Er=/#/g;function Gr(c,i){this.h=this.g=null,this.i=c||null,this.j=!!i}function Rn(c){c.g||(c.g=new xe,c.h=0,c.i&&function Ks(c,i){if(c){c=c.split("&");for(var o=0;o<c.length;o++){var h=c[o].indexOf("="),g=null;if(0<=h){var y=c[o].substring(0,h);g=c[o].substring(h+1)}else y=c[o];i(y,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(c.i,function(i,o){c.add(decodeURIComponent(i.replace(/\+/g," ")),o)}))}function xs(c,i){Rn(c),i=os(c,i),Vs(c.g.h,i)&&(c.i=null,c.h-=c.g.get(i).length,Vs((c=c.g).h,i)&&(delete c.h[i],c.i--,c.g.length>2*c.i&&is(c)))}function Js(c,i){return Rn(c),i=os(c,i),Vs(c.g.h,i)}function ss(c,i,o){xs(c,i),0<o.length&&(c.i=null,c.g.set(os(c,i),Zn(o)),c.h+=o.length)}function os(c,i){return i=String(i),c.j&&(i=i.toLowerCase()),i}function V(c){this.l=c||T,c=ke.PerformanceNavigationTiming?0<(c=ke.performance.getEntriesByType("navigation")).length&&("hq"==c[0].nextHopProtocol||"h2"==c[0].nextHopProtocol):!!(ke.g&&ke.g.Ea&&ke.g.Ea()&&ke.g.Ea().Zb),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ke=Gr.prototype).add=function(c,i){Rn(this),this.i=null,c=os(this,c);var o=this.g.get(c);return o||this.g.set(c,o=[]),o.push(i),this.h+=1,this},Ke.forEach=function(c,i){Rn(this),this.g.forEach(function(o,h){Cn(o,function(g){c.call(i,g,h,this)},this)},this)},Ke.T=function(){Rn(this);for(var c=this.g.R(),i=this.g.T(),o=[],h=0;h<i.length;h++)for(var g=c[h],y=0;y<g.length;y++)o.push(i[h]);return o},Ke.R=function(c){Rn(this);var i=[];if("string"==typeof c)Js(this,c)&&(i=$n(i,this.g.get(os(this,c))));else{c=this.g.R();for(var o=0;o<c.length;o++)i=$n(i,c[o])}return i},Ke.set=function(c,i){return Rn(this),this.i=null,Js(this,c=os(this,c))&&(this.h-=this.g.get(c).length),this.g.set(c,[i]),this.h+=1,this},Ke.get=function(c,i){return c&&0<(c=this.R(c)).length?String(c[0]):i},Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var c=[],i=this.g.T(),o=0;o<i.length;o++){var h=i[o],g=encodeURIComponent(String(h));h=this.R(h);for(var y=0;y<h.length;y++){var D=g;""!==h[y]&&(D+="="+encodeURIComponent(String(h[y]))),c.push(D)}}return this.i=c.join("&")};var T=10;function R(c){return!!c.h||!!c.g&&c.g.size>=c.j}function re(c){return c.h?1:c.g?c.g.size:0}function Ee(c,i){return c.h?c.h==i:!!c.g&&c.g.has(i)}function st(c,i){c.g?c.g.add(i):c.h=i}function Mt(c,i){c.h&&c.h==i?c.h=null:c.g&&c.g.has(i)&&c.g.delete(i)}function Yt(c){if(null!=c.h)return c.i.concat(c.h.D);if(null!=c.g&&0!==c.g.size){let i=c.i;for(const o of c.g.values())i=i.concat(o.D);return i}return Zn(c.i)}function Dn(){}function _n(){this.g=new Dn}function pi(c,i,o){const h=o||"";try{Us(c,function(g,y){let D=g;rt(g)&&(D=hi(g)),i.push(h+y+"="+encodeURIComponent(D))})}catch(g){throw i.push(h+"type="+encodeURIComponent("_badmap")),g}}function Tr(c,i,o,h,g){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,g(h)}catch(y){}}function nr(c){this.l=c.$b||null,this.j=c.ib||!1}function Wi(c,i){Yn.call(this),this.D=c,this.u=i,this.m=void 0,this.readyState=wr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}V.prototype.cancel=function(){if(this.i=Yt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const c of this.g.values())c.cancel();this.g.clear()}},Dn.prototype.stringify=function(c){return ke.JSON.stringify(c,void 0)},Dn.prototype.parse=function(c){return ke.JSON.parse(c,void 0)},pt(nr,dr),nr.prototype.g=function(){return new Wi(this.l,this.j)},nr.prototype.i=function(c){return function(){return c}}({}),pt(Wi,Yn);var wr=0;function Qr(c){c.j.read().then(c.Sa.bind(c)).catch(c.ha.bind(c))}function mr(c){c.readyState=4,c.l=null,c.j=null,c.A=null,Ur(c)}function Ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}(Ke=Wi.prototype).open=function(c,i){if(this.readyState!=wr)throw this.abort(),Error("Error reopening a connection");this.C=c,this.B=i,this.readyState=1,Ur(this)},Ke.send=function(c){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};c&&(i.body=c),(this.D||ke).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mr(this)),this.readyState=wr},Ke.Va=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if("arraybuffer"===this.responseType)c.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ke.ReadableStream&&"body"in c){if(this.j=c.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qr(this)}else c.text().then(this.Ua.bind(this),this.ha.bind(this))},Ke.Sa=function(c){if(this.g){if(this.u&&c.value)this.response.push(c.value);else if(!this.u){var i=c.value?c.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!c.done}))&&(this.response=this.responseText+=i)}c.done?mr(this):Ur(this),3==this.readyState&&Qr(this)}},Ke.Ua=function(c){this.g&&(this.response=this.responseText=c,mr(this))},Ke.Ta=function(c){this.g&&(this.response=c,mr(this))},Ke.ha=function(){this.g&&mr(this)},Ke.setRequestHeader=function(c,i){this.v.append(c,i)},Ke.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},Ke.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],i=this.h.entries();for(var o=i.next();!o.done;)c.push((o=o.value)[0]+": "+o[1]),o=i.next();return c.join("\r\n")},Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(c){this.m=c?"include":"same-origin"}});var Xo=ke.JSON.parse;function Pi(c){Yn.call(this),this.headers=new xe,this.u=c||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=as,this.K=this.L=!1}pt(Pi,Yn);var as="",Co=/^https?$/i,$o=["POST","PUT"];function _a(c){return"content-type"==c.toLowerCase()}function Ma(c,i){c.h=!1,c.g&&(c.l=!0,c.g.abort(),c.l=!1),c.j=i,c.m=5,Sl(c),Wa(c)}function Sl(c){c.D||(c.D=!0,Ht(c,"complete"),Ht(c,"error"))}function xa(c){if(c.h&&void 0!==Se&&(!c.C[1]||4!=na(c)||2!=c.ba()))if(c.v&&4==na(c))zr(c.Fa,0,c);else if(Ht(c,"readystatechange"),4==na(c)){c.h=!1;try{const B=c.ba();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var o;if(!(o=i)){var h;if(h=0===B){var g=String(c.H).match(rs)[1]||null;if(!g&&ke.self&&ke.self.location){var y=ke.self.location.protocol;g=y.substr(0,y.length-1)}h=!Co.test(g?g.toLowerCase():"")}o=h}if(o)Ht(c,"complete"),Ht(c,"success");else{c.m=6;try{var D=2<na(c)?c.g.statusText:""}catch(J){D=""}c.j=D+" ["+c.ba()+"]",Sl(c)}}finally{Wa(c)}}}function Wa(c,i){if(c.g){ta(c);const o=c.g,h=c.C[0]?De:null;c.g=null,c.C=null,i||Ht(c,"ready");try{o.onreadystatechange=h}catch(g){}}}function ta(c){c.g&&c.K&&(c.g.ontimeout=null),c.A&&(ke.clearTimeout(c.A),c.A=null)}function na(c){return c.g?c.g.readyState:0}function Yl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.J){case as:case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch(i){return null}}function Ho(c,i,o){e:{for(h in o){var h=!1;break e}h=!0}h||(o=function Kl(c){let i="";return Gn(c,function(o,h){i+=h,i+=":",i+=o,i+="\r\n"}),i}(o),"string"==typeof c?null!=o&&encodeURIComponent(String(o)):He(c,i,o))}function Ml(c,i,o){return o&&o.internalChannelParams&&o.internalChannelParams[c]||i}function Dc(c){this.za=0,this.l=[],this.h=new $e,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ml("failFast",!1,c),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ml("baseRetryDelayMs",5e3,c),this.$a=Ml("retryDelaySeedMs",1e4,c),this.Ya=Ml("forwardChannelMaxRetries",2,c),this.ra=Ml("forwardChannelRequestTimeoutMs",2e4,c),this.qa=c&&c.xmlHttpFactory||void 0,this.Ba=c&&c.Yb||!1,this.K=void 0,this.H=c&&c.supportsCrossDomainXhr||!1,this.J="",this.i=new V(c&&c.concurrentRequestLimit),this.Ca=new _n,this.ja=c&&c.fastHandshake||!1,this.Ra=c&&c.Wb||!1,c&&c.Aa&&this.h.Aa(),c&&c.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&c&&c.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!c||!1!==c.Xb}function Qs(c){if(ms(c),3==c.G){var i=c.V++,o=Zi(c.F);He(o,"SID",c.J),He(o,"RID",i),He(o,"TYPE","terminate"),rl(c,o),(i=new qs(c,c.h,i,void 0)).K=2,i.v=Pt(Zi(o)),o=!1,ke.navigator&&ke.navigator.sendBeacon&&(o=ke.navigator.sendBeacon(i.v.toString(),"")),!o&&ke.Image&&((new Image).src=i.v,o=!0),o||(i.g=al(i.l,null),i.g.ea(i.v)),i.F=Date.now(),qr(i)}Mo(c)}function Oa(c){c.g&&(jo(c),c.g.cancel(),c.g=null)}function ms(c){Oa(c),c.u&&(ke.clearTimeout(c.u),c.u=null),sl(c),c.i.cancel(),c.m&&("number"==typeof c.m&&ke.clearTimeout(c.m),c.m=null)}function Jl(c,i){c.l.push(new class{constructor(c,i){this.h=c,this.g=i}}(c.Za++,i)),3==c.G&&Xc(c)}function Xc(c){R(c.i)||c.m||(c.m=!0,Bi(c.Ha,c),c.C=0)}function $s(c,i){var o;o=i?i.m:c.V++;const h=Zi(c.F);He(h,"SID",c.J),He(h,"RID",o),He(h,"AID",c.U),rl(c,h),c.o&&c.s&&Ho(h,c.o,c.s),o=new qs(c,c.h,o,c.C+1),null===c.o&&(o.H=c.s),i&&(c.l=i.D.concat(c.l)),i=Na(c,o,1e3),o.setTimeout(Math.round(.5*c.ra)+Math.round(.5*c.ra*Math.random())),st(c.i,o),gs(o,h,i)}function rl(c,i){c.j&&Us({},function(o,h){He(i,h,o)})}function Na(c,i,o){o=Math.min(c.l.length,o);var h=c.j?Je(c.j.Oa,c.j,c):null;e:{var g=c.l;let y=-1;for(;;){const D=["count="+o];-1==y?0<o?(y=g[0].h,D.push("ofs="+y)):y=0:D.push("ofs="+y);let B=!0;for(let J=0;J<o;J++){let ie=g[J].h;const ze=g[J].g;if(ie-=y,0>ie)y=Math.max(0,g[J].h-100),B=!1;else try{pi(ze,D,"req"+ie+"_")}catch(dt){h&&h(ze)}}if(B){h=D.join("&");break e}}}return c=c.l.splice(0,o),i.D=c,h}function ya(c){c.g||c.u||(c.Y=1,Bi(c.Ga,c),c.A=0)}function Ra(c){return!(c.g||c.u||3<=c.A||(c.Y++,c.u=Wt(Je(c.Ga,c),ia(c,c.A)),c.A++,0))}function jo(c){null!=c.B&&(ke.clearTimeout(c.B),c.B=null)}function hs(c){c.g=new qs(c,c.h,"rpc",c.Y),null===c.o&&(c.g.H=c.s),c.g.O=0;var i=Zi(c.oa);He(i,"RID","rpc"),He(i,"SID",c.J),He(i,"CI",c.N?"0":"1"),He(i,"AID",c.U),rl(c,i),He(i,"TYPE","xmlhttp"),c.o&&c.s&&Ho(i,c.o,c.s),c.K&&c.g.setTimeout(c.K);var o=c.g;c=c.la,o.K=1,o.v=Pt(Zi(i)),o.s=null,o.U=!0,As(o,c)}function sl(c){null!=c.v&&(ke.clearTimeout(c.v),c.v=null)}function Ql(c,i){var o=null;if(c.g==i){sl(c),jo(c),c.g=null;var h=2}else{if(!Ee(c.i,i))return;o=i.D,Mt(c.i,i),h=1}if(c.I=i.N,0!=c.G)if(i.i)if(1==h){o=i.s?i.s.length:0,i=Date.now()-i.F;var g=c.C;Ht(h=oi(),new xt(h,o,i,g)),Xc(c)}else ya(c);else if(3==(g=i.o)||0==g&&0<c.I||!(1==h&&function ih(c,i){return!(re(c.i)>=c.i.j-(c.m?1:0)||(c.m?(c.l=i.D.concat(c.l),0):1==c.G||2==c.G||c.C>=(c.Xa?0:c.Ya)||(c.m=Wt(Je(c.Ha,c,i),ia(c,c.C)),c.C++,0)))}(c,i)||2==h&&Ra(c)))switch(o&&0<o.length&&(i=c.i,i.i=i.i.concat(o)),g){case 1:Go(c,5);break;case 4:Go(c,10);break;case 3:Go(c,6);break;default:Go(c,2)}}function ia(c,i){let o=c.Pa+Math.floor(Math.random()*c.$a);return c.j||(o*=2),o*i}function Go(c,i){if(c.h.info("Error code "+i),2==i){var o=null;c.j&&(o=null);var h=Je(c.jb,c);o||(o=new Ms("//www.google.com/images/cleardot.gif"),ke.location&&"http"==ke.location.protocol||z(o,"https"),Pt(o)),function Ri(c,i){const o=new $e;if(ke.Image){const h=new Image;h.onload=Et(Tr,o,h,"TestLoadImage: loaded",!0,i),h.onerror=Et(Tr,o,h,"TestLoadImage: error",!1,i),h.onabort=Et(Tr,o,h,"TestLoadImage: abort",!1,i),h.ontimeout=Et(Tr,o,h,"TestLoadImage: timeout",!1,i),ke.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=c}else i(!1)}(o.toString(),h)}else et(2);c.G=0,c.j&&c.j.va(i),Mo(c),ms(c)}function Mo(c){c.G=0,c.I=-1,c.j&&((0!=Yt(c.i).length||0!=c.l.length)&&(c.i.i.length=0,Zn(c.l),c.l.length=0),c.j.ua())}function ol(c,i,o){let h=function qt(c){return c instanceof Ms?Zi(c):new Ms(c,void 0)}(o);if(""!=h.i)i&&oe(h,i+"."+h.i),G(h,h.m);else{const g=ke.location;h=function dn(c,i,o,h){var g=new Ms(null,void 0);return c&&z(g,c),i&&oe(g,i),o&&G(g,o),h&&(g.l=h),g}(g.protocol,i?i+"."+g.hostname:g.hostname,+g.port,o)}return c.aa&&Gn(c.aa,function(g,y){He(h,y,g)}),o=c.sa,(i=c.D)&&o&&He(h,i,o),He(h,"VER",c.ma),rl(c,h),h}function al(c,i,o){if(i&&!c.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new Pi(o&&c.Ba&&!c.qa?new nr({ib:!0}):c.qa)).L=c.H,i}function va(){}function Pa(){if(cr&&!(10<=Number(zt)))throw Error("Environmental error: no available transport.")}function so(c,i){Yn.call(this),this.g=new Dc(i),this.l=c,this.h=i&&i.messageUrlParams||null,c=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.s=c,c=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(c?c["X-WebChannel-Content-Type"]=i.messageContentType:c={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(c?c["X-WebChannel-Client-Profile"]=i.ya:c={"X-WebChannel-Client-Profile":i.ya}),this.g.P=c,(c=i&&i.httpHeadersOverwriteParam)&&!Hn(c)&&(this.g.o=c),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Hn(i)&&(this.g.D=i,null!==(c=this.h)&&i in c&&i in(c=this.h)&&delete c[i]),this.j=new ra(this)}function Ic(c){Ao.call(this);var i=c.__sm__;if(i){e:{for(const o in i){c=o;break e}c=void 0}(this.i=c)&&(c=this.i,i=null!==i&&c in i?i[c]:void 0),this.data=i}else this.data=c}function zo(){io.call(this),this.status=1}function ra(c){this.g=c}(Ke=Pi.prototype).ea=function(c,i,o,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+c);i=i?i.toUpperCase():"GET",this.H=c,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bs.g(),this.C=function Wr(c){return c.h||(c.h=c.i())}(this.u?this.u:Bs),this.g.onreadystatechange=Je(this.Fa,this);try{this.F=!0,this.g.open(i,String(c),!0),this.F=!1}catch(y){return void Ma(this,y)}c=o||"";const g=new xe(this.headers);h&&Us(h,function(y,D){g.set(D,y)}),h=function ti(c){e:{var i=_a;const o=c.length,h="string"==typeof c?c.split(""):c;for(let g=0;g<o;g++)if(g in h&&i.call(void 0,h[g],g,c)){i=g;break e}i=-1}return 0>i?null:"string"==typeof c?c.charAt(i):c[i]}(g.T()),o=ke.FormData&&c instanceof ke.FormData,!(0<=Ot($o,i))||h||o||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(y,D){this.g.setRequestHeader(D,y)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ta(this),0<this.B&&((this.K=function ea(c){return cr&&function or(){return function rr(c){var i=Ln;return Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=c(9)}(function(){let c=0;const i=ai(String(xn)).split("."),o=ai("9").split("."),h=Math.max(i.length,o.length);for(let D=0;0==c&&D<h;D++){var g=i[D]||"",y=o[D]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==g[0].length&&0==y[0].length)break;c=ki(0==g[1].length?0:parseInt(g[1],10),0==y[1].length?0:parseInt(y[1],10))||ki(0==g[2].length,0==y[2].length)||ki(g[2],y[2]),g=g[3],y=y[3]}while(0==c)}return 0<=c})}()&&"number"==typeof c.timeout&&void 0!==c.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Je(this.pa,this)):this.A=zr(this.pa,this.B,this)),this.v=!0,this.g.send(c),this.v=!1}catch(y){Ma(this,y)}},Ke.pa=function(){void 0!==Se&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))},Ke.abort=function(c){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=c||7,Ht(this,"complete"),Ht(this,"abort"),Wa(this))},Ke.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wa(this,!0)),Pi.Z.M.call(this)},Ke.Fa=function(){this.s||(this.F||this.v||this.l?xa(this):this.cb())},Ke.cb=function(){xa(this)},Ke.ba=function(){try{return 2<na(this)?this.g.status:-1}catch(c){return-1}},Ke.ga=function(){try{return this.g?this.g.responseText:""}catch(c){return""}},Ke.Qa=function(c){if(this.g){var i=this.g.responseText;return c&&0==i.indexOf(c)&&(i=i.substring(c.length)),Xo(i)}},Ke.Da=function(){return this.m},Ke.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ke=Dc.prototype).ma=8,Ke.G=1,Ke.hb=function(c){try{this.h.info("Origin Trials invoked: "+c)}catch(i){}},Ke.Ha=function(c){if(this.m)if(this.m=null,1==this.G){if(!c){this.V=Math.floor(1e5*Math.random()),c=this.V++;const g=new qs(this,this.h,c,void 0);let y=this.s;if(this.P&&(y?(y=Kt(y),sr(y,this.P)):y=this.P),null===this.o&&(g.H=y),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){var h=this.l[o];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(i+=h)){i=o;break e}if(4096===i||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=Na(this,g,i),He(o=Zi(this.F),"RID",c),He(o,"CVER",22),this.D&&He(o,"X-HTTP-Session-Id",this.D),rl(this,o),this.o&&y&&Ho(o,this.o,y),st(this.i,g),this.Ra&&He(o,"TYPE","init"),this.ja?(He(o,"$req",i),He(o,"SID","null"),g.$=!0,gs(g,o,null)):gs(g,o,i),this.G=2}}else 3==this.G&&(c?$s(this,c):0==this.l.length||R(this.i)||$s(this))},Ke.Ga=function(){if(this.u=null,hs(this),this.$&&!(this.L||null==this.g||0>=this.O)){var c=2*this.O;this.h.info("BP detection timer enabled: "+c),this.B=Wt(Je(this.bb,this),c)}},Ke.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,et(10),Oa(this),hs(this))},Ke.ab=function(){null!=this.v&&(this.v=null,Oa(this),Ra(this),et(19))},Ke.jb=function(c){c?(this.h.info("Successfully pinged google.com"),et(2)):(this.h.info("Failed to ping google.com"),et(1))},(Ke=va.prototype).xa=function(){},Ke.wa=function(){},Ke.va=function(){},Ke.ua=function(){},Ke.Oa=function(){},Pa.prototype.g=function(c,i){return new so(c,i)},pt(so,Yn),so.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var c=this.g,i=this.l,o=this.h||void 0;c.Wa&&(c.h.info("Origin Trials enabled."),Bi(Je(c.hb,c,i))),et(0),c.W=i,c.aa=o||{},c.N=c.X,c.F=ol(c,null,c.W),Xc(c)},so.prototype.close=function(){Qs(this.g)},so.prototype.u=function(c){if("string"==typeof c){var i={};i.__data__=c,Jl(this.g,i)}else this.v?((i={}).__data__=hi(c),Jl(this.g,i)):Jl(this.g,c)},so.prototype.M=function(){this.g.j=null,delete this.j,Qs(this.g),delete this.g,so.Z.M.call(this)},pt(Ic,Ao),pt(zo,io),pt(ra,va),ra.prototype.xa=function(){Ht(this.g,"a")},ra.prototype.wa=function(c){Ht(this.g,new Ic(c))},ra.prototype.va=function(c){Ht(this.g,new zo(c))},ra.prototype.ua=function(){Ht(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,so.prototype.send=so.prototype.u,so.prototype.open=so.prototype.m,so.prototype.close=so.prototype.close,on.NO_ERROR=0,on.TIMEOUT=8,on.HTTP_ERROR=6,An.COMPLETE="complete",ji.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",Yn.prototype.listen=Yn.prototype.N,Pi.prototype.listenOnce=Pi.prototype.O,Pi.prototype.getLastError=Pi.prototype.La,Pi.prototype.getLastErrorCode=Pi.prototype.Da,Pi.prototype.getStatus=Pi.prototype.ba,Pi.prototype.getResponseJson=Pi.prototype.Qa,Pi.prototype.getResponseText=Pi.prototype.ga,Pi.prototype.send=Pi.prototype.ea;var Fu=Ae.createWebChannelTransport=function(){return new Pa},eu=Ae.getStatEventTarget=function(){return oi()},Eo=Ae.ErrorCode=on,tu=Ae.EventType=An,Es=Ae.Event=wn,ba=Ae.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Xl=Ae.FetchXmlHttpFactory=nr,Wo=Ae.WebChannel=ji,ll=Ae.XhrIo=Pi;const ka="@firebase/firestore";class Xs{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Xs.UNAUTHENTICATED=new Xs(null),Xs.GOOGLE_CREDENTIALS=new Xs("google-credentials-uid"),Xs.FIRST_PARTY=new Xs("first-party-uid"),Xs.MOCK_USER=new Xs("mock-user");let cl="9.6.11";const k=new Qe.Yd("@firebase/firestore");function O(){return k.logLevel}function F(c,...i){if(k.logLevel<=Qe.in.DEBUG){const o=i.map(we);k.debug(`Firestore (${cl}): ${c}`,...o)}}function Y(c,...i){if(k.logLevel<=Qe.in.ERROR){const o=i.map(we);k.error(`Firestore (${cl}): ${c}`,...o)}}function le(c,...i){if(k.logLevel<=Qe.in.WARN){const o=i.map(we);k.warn(`Firestore (${cl}): ${c}`,...o)}}function we(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch(o){return c}}function pe(c="Unexpected state"){const i=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: `+c;throw Y(i),new Error(i)}function at(c,i){c||pe()}function Bt(c,i){return c}const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends We.ZR{constructor(i,o){super(i,o),this.code=i,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class di{constructor(){this.promise=new Promise((i,o)=>{this.resolve=i,this.reject=o})}}class Ca{constructor(i,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class _r{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,o){i.enqueueRetryable(()=>o(Xs.UNAUTHENTICATED))}shutdown(){}}class Oi{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,o){this.changeListener=o,i.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class oo{constructor(i){this.t=i,this.currentUser=Xs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,o){var h=this;let g=this.i;const y=ie=>this.i!==g?(g=this.i,o(ie)):Promise.resolve();let D=new di;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new di,i.enqueueRetryable(()=>y(this.currentUser))};const B=()=>{const ie=D;i.enqueueRetryable((0,_e.Z)(function*(){yield ie.promise,yield y(h.currentUser)}))},J=ie=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ie,this.auth.addAuthTokenListener(this.o),B()};this.t.onInit(ie=>J(ie)),setTimeout(()=>{if(!this.auth){const ie=this.t.getImmediate({optional:!0});ie?J(ie):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new di)}},0),B()}getToken(){const i=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(h=>this.i!==i?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):h?(at("string"==typeof h.accessToken),new Ca(h.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return at(null===i||"string"==typeof i),new Xs(i)}}class qa{constructor(i,o,h){this.type="FirstParty",this.user=Xs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",o);const g=i.auth.getAuthHeaderValueForFirstParty([]);g&&this.headers.set("Authorization",g),h&&this.headers.set("X-Goog-Iam-Authorization-Token",h)}}class xl{constructor(i,o,h){this.h=i,this.l=o,this.m=h}getToken(){return Promise.resolve(new qa(this.h,this.l,this.m))}start(i,o){i.enqueueRetryable(()=>o(Xs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hs{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yd{constructor(i){this.g=i,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(i,o){const h=y=>{null!=y.error&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const D=y.token!==this.p;return this.p=y.token,F("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?o(y.token):Promise.resolve()};this.o=y=>{i.enqueueRetryable(()=>h(y))};const g=y=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.g.onInit(y=>g(y)),setTimeout(()=>{if(!this.appCheck){const y=this.g.getImmediate({optional:!0});y?g(y):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(o=>o?(at("string"==typeof o.token),this.p=o.token,new Hs(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class xo{constructor(i,o){this.previousValue=i,o&&(o.sequenceNumberHandler=h=>this.I(h),this.T=h=>o.writeSequenceNumber(h))}I(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.T&&this.T(i),i}}function ul(c){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),o=new Uint8Array(c);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(o);else for(let h=0;h<c;h++)o[h]=Math.floor(256*Math.random());return o}xo.A=-1;class To{static R(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/i.length)*i.length;let h="";for(;h.length<20;){const g=ul(40);for(let y=0;y<g.length;++y)h.length<20&&g[y]<o&&(h+=i.charAt(g[y]%i.length))}return h}}function vi(c,i){return c<i?-1:c>i?1:0}function Za(c,i,o){return c.length===i.length&&c.every((h,g)=>o(h,i[g]))}function Lu(c){return c+"\0"}class Zr{constructor(i,o){if(this.seconds=i,this.nanoseconds=o,o<0)throw new Ut(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new Ut(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(i<-62135596800)throw new Ut(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Ut(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Zr.fromMillis(Date.now())}static fromDate(i){return Zr.fromMillis(i.getTime())}static fromMillis(i){const o=Math.floor(i/1e3),h=Math.floor(1e6*(i-1e3*o));return new Zr(o,h)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?vi(this.nanoseconds,i.nanoseconds):vi(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mi{constructor(i){this.timestamp=i}static fromTimestamp(i){return new mi(i)}static min(){return new mi(new Zr(0,0))}static max(){return new mi(new Zr(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function tf(c){let i=0;for(const o in c)Object.prototype.hasOwnProperty.call(c,o)&&i++;return i}function Xr(c,i){for(const o in c)Object.prototype.hasOwnProperty.call(c,o)&&i(o,c[o])}function nf(c){for(const i in c)if(Object.prototype.hasOwnProperty.call(c,i))return!1;return!0}class Bu{constructor(i,o,h){void 0===o?o=0:o>i.length&&pe(),void 0===h?h=i.length-o:h>i.length-o&&pe(),this.segments=i,this.offset=o,this.len=h}get length(){return this.len}isEqual(i){return 0===Bu.comparator(this,i)}child(i){const o=this.segments.slice(this.offset,this.limit());return i instanceof Bu?i.forEach(h=>{o.push(h)}):o.push(i),this.construct(o)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==i.get(o))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==i.get(o))return!1;return!0}forEach(i){for(let o=this.offset,h=this.limit();o<h;o++)i(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,o){const h=Math.min(i.length,o.length);for(let g=0;g<h;g++){const y=i.get(g),D=o.get(g);if(y<D)return-1;if(y>D)return 1}return i.length<o.length?-1:i.length>o.length?1:0}}class ir extends Bu{construct(i,o,h){return new ir(i,o,h)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const o=[];for(const h of i){if(h.indexOf("//")>=0)throw new Ut(gt.INVALID_ARGUMENT,`Invalid segment (${h}). Paths must not contain // in them.`);o.push(...h.split("/").filter(g=>g.length>0))}return new ir(o)}static emptyPath(){return new ir([])}}const lr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Os extends Bu{construct(i,o,h){return new Os(i,o,h)}static isValidIdentifier(i){return lr.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Os.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Os(["__name__"])}static fromServerFormat(i){const o=[];let h="",g=0;const y=()=>{if(0===h.length)throw new Ut(gt.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(h),h=""};let D=!1;for(;g<i.length;){const B=i[g];if("\\"===B){if(g+1===i.length)throw new Ut(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const J=i[g+1];if("\\"!==J&&"."!==J&&"`"!==J)throw new Ut(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);h+=J,g+=2}else"`"===B?(D=!D,g++):"."!==B||D?(h+=B,g++):(y(),g++)}if(y(),D)throw new Ut(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new Os(o)}static emptyPath(){return new Os([])}}class Ol{constructor(i){this.fields=i,i.sort(Os.comparator)}covers(i){for(const o of this.fields)if(o.isPrefixOf(i))return!0;return!1}isEqual(i){return Za(this.fields,i.fields,(o,h)=>o.isEqual(h))}}class Pr{constructor(i){this.binaryString=i}static fromBase64String(i){const o=atob(i);return new Pr(o)}static fromUint8Array(i){const o=function(h){let g="";for(let y=0;y<h.length;++y)g+=String.fromCharCode(h[y]);return g}(i);return new Pr(o)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const o=new Uint8Array(i.length);for(let h=0;h<i.length;h++)o[h]=i.charCodeAt(h);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return vi(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const iu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(c){if(at(!!c),"string"==typeof c){let i=0;const o=iu.exec(c);if(at(!!o),o[1]){let g=o[1];g=(g+"000000000").substr(0,9),i=Number(g)}const h=new Date(c);return{seconds:Math.floor(h.getTime()/1e3),nanos:i}}return{seconds:es(c.seconds),nanos:es(c.nanos)}}function es(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function _s(c){return"string"==typeof c?Pr.fromBase64String(c):Pr.fromUint8Array(c)}function Uu(c){var i,o;return"server_timestamp"===(null===(o=((null===(i=null==c?void 0:c.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function ec(c){const i=c.mapValue.fields.__previous_value__;return Uu(i)?ec(i):i}function Ns(c){const i=yr(c.mapValue.fields.__local_write_time__.timestampValue);return new Zr(i.seconds,i.nanos)}class Ya{constructor(i,o,h,g,y,D,B,J){this.databaseId=i,this.appId=o,this.persistenceKey=h,this.host=g,this.ssl=y,this.forceLongPolling=D,this.autoDetectLongPolling=B,this.useFetchStreams=J}}class sa{constructor(i,o){this.projectId=i,this.database=o||"(default)"}static empty(){return new sa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof sa&&i.projectId===this.projectId&&i.database===this.database}}function oa(c){return null==c}function ao(c){return 0===c&&1/c==-1/0}function Ea(c){return"number"==typeof c&&Number.isInteger(c)&&!ao(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}class vn{constructor(i){this.path=i}static fromPath(i){return new vn(ir.fromString(i))}static fromName(i){return new vn(ir.fromString(i).popFirst(5))}static empty(){return new vn(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===ir.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,o){return ir.comparator(i.path,o.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new vn(new ir(i.slice()))}}const ru={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bd={nullValue:"NULL_VALUE"};function Ka(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?Uu(c)?4:Yr(c)?9:10:pe()}function Fa(c,i){if(c===i)return!0;const o=Ka(c);if(o!==Ka(i))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===i.booleanValue;case 4:return Ns(c).isEqual(Ns(i));case 3:return function(h,g){if("string"==typeof h.timestampValue&&"string"==typeof g.timestampValue&&h.timestampValue.length===g.timestampValue.length)return h.timestampValue===g.timestampValue;const y=yr(h.timestampValue),D=yr(g.timestampValue);return y.seconds===D.seconds&&y.nanos===D.nanos}(c,i);case 5:return c.stringValue===i.stringValue;case 6:return g=i,_s(c.bytesValue).isEqual(_s(g.bytesValue));case 7:return c.referenceValue===i.referenceValue;case 8:return function(h,g){return es(h.geoPointValue.latitude)===es(g.geoPointValue.latitude)&&es(h.geoPointValue.longitude)===es(g.geoPointValue.longitude)}(c,i);case 2:return function(h,g){if("integerValue"in h&&"integerValue"in g)return es(h.integerValue)===es(g.integerValue);if("doubleValue"in h&&"doubleValue"in g){const y=es(h.doubleValue),D=es(g.doubleValue);return y===D?ao(y)===ao(D):isNaN(y)&&isNaN(D)}return!1}(c,i);case 9:return Za(c.arrayValue.values||[],i.arrayValue.values||[],Fa);case 10:return function(h,g){const y=h.mapValue.fields||{},D=g.mapValue.fields||{};if(tf(y)!==tf(D))return!1;for(const B in y)if(y.hasOwnProperty(B)&&(void 0===D[B]||!Fa(y[B],D[B])))return!1;return!0}(c,i);default:return pe()}var g}function Yi(c,i){return void 0!==(c.values||[]).find(o=>Fa(o,i))}function dl(c,i){if(c===i)return 0;const o=Ka(c),h=Ka(i);if(o!==h)return vi(o,h);switch(o){case 0:case 9007199254740991:return 0;case 1:return vi(c.booleanValue,i.booleanValue);case 2:return function(g,y){const D=es(g.integerValue||g.doubleValue),B=es(y.integerValue||y.doubleValue);return D<B?-1:D>B?1:D===B?0:isNaN(D)?isNaN(B)?0:-1:1}(c,i);case 3:return hl(c.timestampValue,i.timestampValue);case 4:return hl(Ns(c),Ns(i));case 5:return vi(c.stringValue,i.stringValue);case 6:return function(g,y){const D=_s(g),B=_s(y);return D.compareTo(B)}(c.bytesValue,i.bytesValue);case 7:return function(g,y){const D=g.split("/"),B=y.split("/");for(let J=0;J<D.length&&J<B.length;J++){const ie=vi(D[J],B[J]);if(0!==ie)return ie}return vi(D.length,B.length)}(c.referenceValue,i.referenceValue);case 8:return function(g,y){const D=vi(es(g.latitude),es(y.latitude));return 0!==D?D:vi(es(g.longitude),es(y.longitude))}(c.geoPointValue,i.geoPointValue);case 9:return function(g,y){const D=g.values||[],B=y.values||[];for(let J=0;J<D.length&&J<B.length;++J){const ie=dl(D[J],B[J]);if(ie)return ie}return vi(D.length,B.length)}(c.arrayValue,i.arrayValue);case 10:return function(g,y){const D=g.fields||{},B=Object.keys(D),J=y.fields||{},ie=Object.keys(J);B.sort(),ie.sort();for(let ze=0;ze<B.length&&ze<ie.length;++ze){const dt=vi(B[ze],ie[ze]);if(0!==dt)return dt;const kt=dl(D[B[ze]],J[ie[ze]]);if(0!==kt)return kt}return vi(B.length,ie.length)}(c.mapValue,i.mapValue);default:throw pe()}}function hl(c,i){if("string"==typeof c&&"string"==typeof i&&c.length===i.length)return vi(c,i);const o=yr(c),h=yr(i),g=vi(o.seconds,h.seconds);return 0!==g?g:vi(o.nanos,h.nanos)}function Nl(c){return aa(c)}function aa(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(h){const g=yr(h);return`time(${g.seconds},${g.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?_s(c.bytesValue).toBase64():"referenceValue"in c?vn.fromName(c.referenceValue).toString():"geoPointValue"in c?`geo(${(i=c.geoPointValue).latitude},${i.longitude})`:"arrayValue"in c?function(h){let g="[",y=!0;for(const D of h.values||[])y?y=!1:g+=",",g+=aa(D);return g+"]"}(c.arrayValue):"mapValue"in c?function(h){const g=Object.keys(h.fields||{}).sort();let y="{",D=!0;for(const B of g)D?D=!1:y+=",",y+=`${B}:${aa(h.fields[B])}`;return y+"}"}(c.mapValue):pe();var i}function la(c,i){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${i.path.canonicalString()}`}}function ca(c){return!!c&&"integerValue"in c}function La(c){return!!c&&"arrayValue"in c}function bi(c){return!!c&&"nullValue"in c}function su(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function Oo(c){return!!c&&"mapValue"in c}function tc(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const i={mapValue:{fields:{}}};return Xr(c.mapValue.fields,(o,h)=>i.mapValue.fields[o]=tc(h)),i}if(c.arrayValue){const i={arrayValue:{values:[]}};for(let o=0;o<(c.arrayValue.values||[]).length;++o)i.arrayValue.values[o]=tc(c.arrayValue.values[o]);return i}return Object.assign({},c)}function Yr(c){return"__max__"===(((c.mapValue||{}).fields||{}).__type__||{}).stringValue}function ou(c){return"nullValue"in c?bd:"booleanValue"in c?{booleanValue:!1}:"integerValue"in c||"doubleValue"in c?{doubleValue:NaN}:"timestampValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in c?{stringValue:""}:"bytesValue"in c?{bytesValue:""}:"referenceValue"in c?la(sa.empty(),vn.empty()):"geoPointValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in c?{arrayValue:{}}:"mapValue"in c?{mapValue:{}}:pe()}function nc(c){return"nullValue"in c?{booleanValue:!1}:"booleanValue"in c?{doubleValue:NaN}:"integerValue"in c||"doubleValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in c?{stringValue:""}:"stringValue"in c?{bytesValue:""}:"bytesValue"in c?la(sa.empty(),vn.empty()):"referenceValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in c?{arrayValue:{}}:"arrayValue"in c?{mapValue:{}}:"mapValue"in c?ru:pe()}function Ac(c,i){return void 0===c?i:void 0===i||dl(c,i)>0?c:i}function Ja(c,i){return void 0===c?i:void 0===i||dl(c,i)<0?c:i}class ${constructor(i){this.value=i}static empty(){return new $({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let o=this.value;for(let h=0;h<i.length-1;++h)if(o=(o.mapValue.fields||{})[i.get(h)],!Oo(o))return null;return o=(o.mapValue.fields||{})[i.lastSegment()],o||null}}set(i,o){this.getFieldsMap(i.popLast())[i.lastSegment()]=tc(o)}setAll(i){let o=Os.emptyPath(),h={},g=[];i.forEach((D,B)=>{if(!o.isImmediateParentOf(B)){const J=this.getFieldsMap(o);this.applyChanges(J,h,g),h={},g=[],o=B.popLast()}D?h[B.lastSegment()]=tc(D):g.push(B.lastSegment())});const y=this.getFieldsMap(o);this.applyChanges(y,h,g)}delete(i){const o=this.field(i.popLast());Oo(o)&&o.mapValue.fields&&delete o.mapValue.fields[i.lastSegment()]}isEqual(i){return Fa(this.value,i.value)}getFieldsMap(i){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let h=0;h<i.length;++h){let g=o.mapValue.fields[i.get(h)];Oo(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},o.mapValue.fields[i.get(h)]=g),o=g}return o.mapValue.fields}applyChanges(i,o,h){Xr(o,(g,y)=>i[g]=y);for(const g of h)delete i[g]}clone(){return new $(tc(this.value))}}function W(c){const i=[];return Xr(c.fields,(o,h)=>{const g=new Os([o]);if(Oo(h)){const y=W(h.mapValue).fields;if(0===y.length)i.push(g);else for(const D of y)i.push(g.child(D))}else i.push(g)}),new Ol(i)}class te{constructor(i,o,h,g,y,D){this.key=i,this.documentType=o,this.version=h,this.readTime=g,this.data=y,this.documentState=D}static newInvalidDocument(i){return new te(i,0,mi.min(),mi.min(),$.empty(),0)}static newFoundDocument(i,o,h){return new te(i,1,o,mi.min(),h,0)}static newNoDocument(i,o){return new te(i,2,o,mi.min(),$.empty(),0)}static newUnknownDocument(i,o){return new te(i,3,o,mi.min(),$.empty(),2)}convertToFoundDocument(i,o){return this.version=i,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=$.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=$.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof te&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new te(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ge{constructor(i,o,h,g){this.indexId=i,this.collectionGroup=o,this.fields=h,this.indexState=g}}function wt(c){return c.fields.find(i=>2===i.kind)}function Nt(c){return c.fields.filter(i=>2!==i.kind)}Ge.UNKNOWN_ID=-1;class an{constructor(i,o){this.fieldPath=i,this.kind=o}}class On{constructor(i,o){this.sequenceNumber=i,this.offset=o}static empty(){return new On(0,Ki.min())}}function qn(c,i){const o=c.toTimestamp().seconds,h=c.toTimestamp().nanoseconds+1,g=mi.fromTimestamp(1e9===h?new Zr(o+1,0):new Zr(o,h));return new Ki(g,vn.empty(),i)}function _i(c){return new Ki(c.readTime,c.key,-1)}class Ki{constructor(i,o,h){this.readTime=i,this.documentKey=o,this.largestBatchId=h}static min(){return new Ki(mi.min(),vn.empty(),-1)}static max(){return new Ki(mi.max(),vn.empty(),-1)}}function Ai(c,i){let o=c.readTime.compareTo(i.readTime);return 0!==o?o:(o=vn.comparator(c.documentKey,i.documentKey),0!==o?o:vi(c.largestBatchId,i.largestBatchId))}class Ts{constructor(i,o=null,h=[],g=[],y=null,D=null,B=null){this.path=i,this.collectionGroup=o,this.orderBy=h,this.filters=g,this.limit=y,this.startAt=D,this.endAt=B,this.P=null}}function js(c,i=null,o=[],h=[],g=null,y=null,D=null){return new Ts(c,i,o,h,g,y,D)}function qo(c){const i=Bt(c);if(null===i.P){let o=i.path.canonicalString();null!==i.collectionGroup&&(o+="|cg:"+i.collectionGroup),o+="|f:",o+=i.filters.map(h=>{return(g=h).field.canonicalString()+g.op.toString()+Nl(g.value);var g}).join(","),o+="|ob:",o+=i.orderBy.map(h=>{return(g=h).field.canonicalString()+g.dir;var g}).join(","),oa(i.limit)||(o+="|l:",o+=i.limit),i.startAt&&(o+="|lb:",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map(h=>Nl(h)).join(",")),i.endAt&&(o+="|ub:",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map(h=>Nl(h)).join(",")),i.P=o}return i.P}function Ta(c,i){if(c.limit!==i.limit||c.orderBy.length!==i.orderBy.length)return!1;for(let g=0;g<c.orderBy.length;g++)if(!Zg(c.orderBy[g],i.orderBy[g]))return!1;if(c.filters.length!==i.filters.length)return!1;for(let g=0;g<c.filters.length;g++)if((o=c.filters[g]).op!==(h=i.filters[g]).op||!o.field.isEqual(h.field)||!Fa(o.value,h.value))return!1;var o,h;return c.collectionGroup===i.collectionGroup&&!!c.path.isEqual(i.path)&&!!fp(c.startAt,i.startAt)&&fp(c.endAt,i.endAt)}function No(c){return vn.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}function ua(c,i){return c.filters.filter(o=>o instanceof fo&&o.field.isEqual(i))}function Rl(c,i,o){let h,g=!0;for(const y of ua(c,i)){let D,B=!0;switch(y.op){case"<":case"<=":D=ou(y.value);break;case"==":case"in":case">=":D=y.value;break;case">":D=y.value,B=!1;break;case"!=":case"not-in":D=bd}Ac(h,D)===D&&(h=D,g=B)}if(null!==o)for(let y=0;y<c.orderBy.length;++y)if(c.orderBy[y].field.isEqual(i)){const D=o.position[y];Ac(h,D)===D&&(h=D,g=o.inclusive);break}return{value:h,inclusive:g}}function rh(c,i,o){let h,g=!0;for(const y of ua(c,i)){let D,B=!0;switch(y.op){case">=":case">":D=nc(y.value),B=!1;break;case"==":case"in":case"<=":D=y.value;break;case"<":D=y.value,B=!1;break;case"!=":case"not-in":D=ru}Ja(h,D)===D&&(h=D,g=B)}if(null!==o)for(let y=0;y<c.orderBy.length;++y)if(c.orderBy[y].field.isEqual(i)){const D=o.position[y];Ja(h,D)===D&&(h=D,g=o.inclusive);break}return{value:h,inclusive:g}}class fo extends class{}{constructor(i,o,h){super(),this.field=i,this.op=o,this.value=h}static create(i,o,h){return i.isKeyField()?"in"===o||"not-in"===o?this.V(i,o,h):new Sc(i,o,h):"array-contains"===o?new sf(i,h):"in"===o?new ic(i,h):"not-in"===o?new Pl(i,h):"array-contains-any"===o?new sh(i,h):new fo(i,o,h)}static V(i,o,h){return"in"===o?new Cd(i,h):new rf(i,h)}matches(i){const o=i.data.field(this.field);return"!="===this.op?null!==o&&this.v(dl(o,this.value)):null!==o&&Ka(this.value)===Ka(o)&&this.v(dl(o,this.value))}v(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return pe()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Sc extends fo{constructor(i,o,h){super(i,o,h),this.key=vn.fromName(h.referenceValue)}matches(i){const o=vn.comparator(i.key,this.key);return this.v(o)}}class Cd extends fo{constructor(i,o){super(i,"in",o),this.keys=Ed(0,o)}matches(i){return this.keys.some(o=>o.isEqual(i.key))}}class rf extends fo{constructor(i,o){super(i,"not-in",o),this.keys=Ed(0,o)}matches(i){return!this.keys.some(o=>o.isEqual(i.key))}}function Ed(c,i){var o;return((null===(o=i.arrayValue)||void 0===o?void 0:o.values)||[]).map(h=>vn.fromName(h.referenceValue))}class sf extends fo{constructor(i,o){super(i,"array-contains",o)}matches(i){const o=i.data.field(this.field);return La(o)&&Yi(o.arrayValue,this.value)}}class ic extends fo{constructor(i,o){super(i,"in",o)}matches(i){const o=i.data.field(this.field);return null!==o&&Yi(this.value.arrayValue,o)}}class Pl extends fo{constructor(i,o){super(i,"not-in",o)}matches(i){if(Yi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=i.data.field(this.field);return null!==o&&!Yi(this.value.arrayValue,o)}}class sh extends fo{constructor(i,o){super(i,"array-contains-any",o)}matches(i){const o=i.data.field(this.field);return!(!La(o)||!o.arrayValue.values)&&o.arrayValue.values.some(h=>Yi(this.value.arrayValue,h))}}class rc{constructor(i,o){this.position=i,this.inclusive=o}}class kl{constructor(i,o="asc"){this.field=i,this.dir=o}}function Zg(c,i){return c.dir===i.dir&&c.field.isEqual(i.field)}function hp(c,i,o){let h=0;for(let g=0;g<c.position.length;g++){const y=i[g],D=c.position[g];if(h=y.field.isKeyField()?vn.comparator(vn.fromName(D.referenceValue),o.key):dl(D,o.data.field(y.field)),"desc"===y.dir&&(h*=-1),0!==h)break}return h}function fp(c,i){if(null===c)return null===i;if(null===i||c.inclusive!==i.inclusive||c.position.length!==i.position.length)return!1;for(let o=0;o<c.position.length;o++)if(!Fa(c.position[o],i.position[o]))return!1;return!0}class sc{constructor(i,o=null,h=[],g=[],y=null,D="F",B=null,J=null){this.path=i,this.collectionGroup=o,this.explicitOrderBy=h,this.filters=g,this.limit=y,this.limitType=D,this.startAt=B,this.endAt=J,this.D=null,this.C=null}}function pp(c,i,o,h,g,y,D,B){return new sc(c,i,o,h,g,y,D,B)}function lo(c){return new sc(c)}function Mc(c){return!oa(c.limit)&&"F"===c.limitType}function fl(c){return!oa(c.limit)&&"L"===c.limitType}function lu(c){return c.explicitOrderBy.length>0?c.explicitOrderBy[0].field:null}function Vu(c){for(const i of c.filters)if(i.S())return i.field;return null}function $u(c){return null!==c.collectionGroup}function da(c){const i=Bt(c);if(null===i.D){i.D=[];const o=Vu(i),h=lu(i);if(null!==o&&null===h)o.isKeyField()||i.D.push(new kl(o)),i.D.push(new kl(Os.keyField(),"asc"));else{let g=!1;for(const y of i.explicitOrderBy)i.D.push(y),y.field.isKeyField()&&(g=!0);if(!g){const y=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.D.push(new kl(Os.keyField(),y))}}}return i.D}function po(c){const i=Bt(c);if(!i.C)if("F"===i.limitType)i.C=js(i.path,i.collectionGroup,da(i),i.filters,i.limit,i.startAt,i.endAt);else{const o=[];for(const y of da(i))o.push(new kl(y.field,"desc"===y.dir?"asc":"desc"));const h=i.endAt?new rc(i.endAt.position,!i.endAt.inclusive):null,g=i.startAt?new rc(i.startAt.position,!i.startAt.inclusive):null;i.C=js(i.path,i.collectionGroup,o,i.filters,i.limit,h,g)}return i.C}function Fl(c,i,o){return new sc(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),i,o,c.startAt,c.endAt)}function cu(c,i){return Ta(po(c),po(i))&&c.limitType===i.limitType}function af(c){return`${qo(po(c))}|lt:${c.limitType}`}function xc(c){return`Query(target=${function au(c){let i=c.path.canonicalString();return null!==c.collectionGroup&&(i+=" collectionGroup="+c.collectionGroup),c.filters.length>0&&(i+=`, filters: [${c.filters.map(o=>{return`${(h=o).field.canonicalString()} ${h.op} ${Nl(h.value)}`;var h}).join(", ")}]`),oa(c.limit)||(i+=", limit: "+c.limit),c.orderBy.length>0&&(i+=`, orderBy: [${c.orderBy.map(o=>{return`${(h=o).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),c.startAt&&(i+=", startAt: ",i+=c.startAt.inclusive?"b:":"a:",i+=c.startAt.position.map(o=>Nl(o)).join(",")),c.endAt&&(i+=", endAt: ",i+=c.endAt.inclusive?"a:":"b:",i+=c.endAt.position.map(o=>Nl(o)).join(",")),`Target(${i})`}(po(c))}; limitType=${c.limitType})`}function lf(c,i){return i.isFoundDocument()&&function(o,h){const g=h.key.path;return null!==o.collectionGroup?h.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(g):vn.isDocumentKey(o.path)?o.path.isEqual(g):o.path.isImmediateParentOf(g)}(c,i)&&function(o,h){for(const g of o.explicitOrderBy)if(!g.field.isKeyField()&&null===h.data.field(g.field))return!1;return!0}(c,i)&&function(o,h){for(const g of o.filters)if(!g.matches(h))return!1;return!0}(c,i)&&(h=i,!((o=c).startAt&&!function(g,y,D){const B=hp(g,y,D);return g.inclusive?B<=0:B<0}(o.startAt,da(o),h)||o.endAt&&!function(g,y,D){const B=hp(g,y,D);return g.inclusive?B>=0:B>0}(o.endAt,da(o),h)));var o,h}function gp(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}function uu(c){return(i,o)=>{let h=!1;for(const g of da(c)){const y=Td(g,i,o);if(0!==y)return y;h=h||g.field.isKeyField()}return 0}}function Td(c,i,o){const h=c.field.isKeyField()?vn.comparator(i.key,o.key):function(g,y,D){const B=y.data.field(g),J=D.data.field(g);return null!==B&&null!==J?dl(B,J):pe()}(c.field,i,o);switch(c.dir){case"asc":return h;case"desc":return-1*h;default:return pe()}}function wd(c,i){if(c.N){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ao(i)?"-0":i}}function Qa(c){return{integerValue:""+c}}function Ba(c,i){return Ea(i)?Qa(i):wd(c,i)}class Hu{constructor(){this._=void 0}}function mp(c,i,o){return c instanceof Ll?function(h,g){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return g&&(y.fields.__previous_value__=g),{mapValue:y}}(o,i):c instanceof Oc?oh(c,i):c instanceof oc?Nc(c,i):function(h,g){const y=Xa(h,g),D=C(y)+C(h.k);return ca(y)&&ca(h.k)?Qa(D):wd(h.M,D)}(c,i)}function ys(c,i,o){return c instanceof Oc?oh(c,i):c instanceof oc?Nc(c,i):o}function Xa(c,i){return c instanceof M?ca(o=i)||(h=o)&&"doubleValue"in h?i:{integerValue:0}:null;var h,o}class Ll extends Hu{}class Oc extends Hu{constructor(i){super(),this.elements=i}}function oh(c,i){const o=E(i);for(const h of c.elements)o.some(g=>Fa(g,h))||o.push(h);return{arrayValue:{values:o}}}class oc extends Hu{constructor(i){super(),this.elements=i}}function Nc(c,i){let o=E(i);for(const h of c.elements)o=o.filter(g=>!Fa(g,h));return{arrayValue:{values:o}}}class M extends Hu{constructor(i,o){super(),this.M=i,this.k=o}}function C(c){return es(c.integerValue||c.doubleValue)}function E(c){return La(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class P{constructor(i,o){this.field=i,this.transform=o}}class Oe{constructor(i,o){this.version=i,this.transformResults=o}}class Ct{constructor(i,o){this.updateTime=i,this.exists=o}static none(){return new Ct}static exists(i){return new Ct(void 0,i)}static updateTime(i){return new Ct(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function en(c,i){return void 0!==c.updateTime?i.isFoundDocument()&&i.version.isEqual(c.updateTime):void 0===c.exists||c.exists===i.isFoundDocument()}class Kn{}function Ci(c,i,o){c instanceof pl?function(h,g,y){const D=h.value.clone(),B=_p(h.fieldTransforms,g,y.transformResults);D.setAll(B),g.convertToFoundDocument(y.version,D).setHasCommittedMutations()}(c,i,o):c instanceof Ul?function(h,g,y){if(!en(h.precondition,g))return void g.convertToUnknownDocument(y.version);const D=_p(h.fieldTransforms,g,y.transformResults),B=g.data;B.setAll(ju(h)),B.setAll(D),g.convertToFoundDocument(y.version,B).setHasCommittedMutations()}(c,i,o):i.convertToNoDocument(o.version).setHasCommittedMutations()}function Ji(c,i,o){var g;c instanceof pl?function(h,g,y){if(!en(h.precondition,g))return;const D=h.value.clone(),B=yp(h.fieldTransforms,y,g);D.setAll(B),g.convertToFoundDocument(ac(g),D).setHasLocalMutations()}(c,i,o):c instanceof Ul?function(h,g,y){if(!en(h.precondition,g))return;const D=yp(h.fieldTransforms,y,g),B=g.data;B.setAll(ju(h)),B.setAll(D),g.convertToFoundDocument(ac(g),B).setHasLocalMutations()}(c,i,o):en(c.precondition,g=i)&&g.convertToNoDocument(mi.min())}function Rs(c,i){let o=null;for(const h of c.fieldTransforms){const g=i.data.field(h.field),y=Xa(h.transform,g||null);null!=y&&(null==o&&(o=$.empty()),o.set(h.field,y))}return o||null}function Bl(c,i){return c.type===i.type&&!!c.key.isEqual(i.key)&&!!c.precondition.isEqual(i.precondition)&&(h=i.fieldTransforms,!!(void 0===(o=c.fieldTransforms)&&void 0===h||o&&h&&Za(o,h,(g,y)=>function ne(c,i){return c.field.isEqual(i.field)&&(h=i.transform,(o=c.transform)instanceof Oc&&h instanceof Oc||o instanceof oc&&h instanceof oc?Za(o.elements,h.elements,Fa):o instanceof M&&h instanceof M?Fa(o.k,h.k):o instanceof Ll&&h instanceof Ll);var o,h}(g,y))))&&(0===c.type?c.value.isEqual(i.value):1!==c.type||c.data.isEqual(i.data)&&c.fieldMask.isEqual(i.fieldMask));var o,h}function ac(c){return c.isFoundDocument()?c.version:mi.min()}class pl extends Kn{constructor(i,o,h,g=[]){super(),this.key=i,this.value=o,this.precondition=h,this.fieldTransforms=g,this.type=0}}class Ul extends Kn{constructor(i,o,h,g,y=[]){super(),this.key=i,this.data=o,this.fieldMask=h,this.precondition=g,this.fieldTransforms=y,this.type=1}}function ju(c){const i=new Map;return c.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const h=c.data.field(o);i.set(o,h)}}),i}function _p(c,i,o){const h=new Map;at(c.length===o.length);for(let g=0;g<o.length;g++){const y=c[g],D=y.transform,B=i.data.field(y.field);h.set(y.field,ys(D,B,o[g]))}return h}function yp(c,i,o){const h=new Map;for(const g of c){const y=g.transform,D=o.data.field(g.field);h.set(g.field,mp(y,D,i))}return h}class Rc extends Kn{constructor(i,o){super(),this.key=i,this.precondition=o,this.type=2,this.fieldTransforms=[]}}class ah extends Kn{constructor(i,o){super(),this.key=i,this.precondition=o,this.type=3,this.fieldTransforms=[]}}class Dd{constructor(i){this.count=i}}var ws,Dr;function Gu(c){switch(c){default:return pe();case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0}}function du(c){if(void 0===c)return Y("GRPC error has no .code"),gt.UNKNOWN;switch(c){case ws.OK:return gt.OK;case ws.CANCELLED:return gt.CANCELLED;case ws.UNKNOWN:return gt.UNKNOWN;case ws.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case ws.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case ws.INTERNAL:return gt.INTERNAL;case ws.UNAVAILABLE:return gt.UNAVAILABLE;case ws.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case ws.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case ws.NOT_FOUND:return gt.NOT_FOUND;case ws.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case ws.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case ws.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case ws.ABORTED:return gt.ABORTED;case ws.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case ws.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case ws.DATA_LOSS:return gt.DATA_LOSS;default:return pe()}}(Dr=ws||(ws={}))[Dr.OK=0]="OK",Dr[Dr.CANCELLED=1]="CANCELLED",Dr[Dr.UNKNOWN=2]="UNKNOWN",Dr[Dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dr[Dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dr[Dr.NOT_FOUND=5]="NOT_FOUND",Dr[Dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dr[Dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dr[Dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dr[Dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dr[Dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dr[Dr.ABORTED=10]="ABORTED",Dr[Dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dr[Dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dr[Dr.INTERNAL=13]="INTERNAL",Dr[Dr.UNAVAILABLE=14]="UNAVAILABLE",Dr[Dr.DATA_LOSS=15]="DATA_LOSS";class Vl{constructor(i,o){this.mapKeyFn=i,this.equalsFn=o,this.inner={},this.innerSize=0}get(i){const o=this.mapKeyFn(i),h=this.inner[o];if(void 0!==h)for(const[g,y]of h)if(this.equalsFn(g,i))return y}has(i){return void 0!==this.get(i)}set(i,o){const h=this.mapKeyFn(i),g=this.inner[h];if(void 0===g)return this.inner[h]=[[i,o]],void this.innerSize++;for(let y=0;y<g.length;y++)if(this.equalsFn(g[y][0],i))return void(g[y]=[i,o]);g.push([i,o]),this.innerSize++}delete(i){const o=this.mapKeyFn(i),h=this.inner[o];if(void 0===h)return!1;for(let g=0;g<h.length;g++)if(this.equalsFn(h[g][0],i))return 1===h.length?delete this.inner[o]:h.splice(g,1),this.innerSize--,!0;return!1}forEach(i){Xr(this.inner,(o,h)=>{for(const[g,y]of h)i(g,y)})}isEmpty(){return nf(this.inner)}size(){return this.innerSize}}class Gs{constructor(i,o){this.comparator=i,this.root=o||kr.EMPTY}insert(i,o){return new Gs(this.comparator,this.root.insert(i,o,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(i){return new Gs(this.comparator,this.root.remove(i,this.comparator).copy(null,null,kr.BLACK,null,null))}get(i){let o=this.root;for(;!o.isEmpty();){const h=this.comparator(i,o.key);if(0===h)return o.value;h<0?o=o.left:h>0&&(o=o.right)}return null}indexOf(i){let o=0,h=this.root;for(;!h.isEmpty();){const g=this.comparator(i,h.key);if(0===g)return o+h.left.size;g<0?h=h.left:(o+=h.left.size+1,h=h.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((o,h)=>(i(o,h),!1))}toString(){const i=[];return this.inorderTraversal((o,h)=>(i.push(`${o}:${h}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new cf(this.root,i,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new cf(this.root,i,this.comparator,!0)}}class cf{constructor(i,o,h,g){this.isReverse=g,this.nodeStack=[];let y=1;for(;!i.isEmpty();)if(y=o?h(i.key,o):1,o&&g&&(y*=-1),y<0)i=this.isReverse?i.left:i.right;else{if(0===y){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const o={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class kr{constructor(i,o,h,g,y){this.key=i,this.value=o,this.color=null!=h?h:kr.RED,this.left=null!=g?g:kr.EMPTY,this.right=null!=y?y:kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,o,h,g,y){return new kr(null!=i?i:this.key,null!=o?o:this.value,null!=h?h:this.color,null!=g?g:this.left,null!=y?y:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,o,h){let g=this;const y=h(i,g.key);return g=y<0?g.copy(null,null,null,g.left.insert(i,o,h),null):0===y?g.copy(null,o,null,null,null):g.copy(null,null,null,null,g.right.insert(i,o,h)),g.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,o){let h,g=this;if(o(i,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(i,o),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===o(i,g.key)){if(g.right.isEmpty())return kr.EMPTY;h=g.right.min(),g=g.copy(h.key,h.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(i,o))}return g.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,o)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const i=this.left.check();if(i!==this.right.check())throw pe();return i+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1,kr.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(c,i,o,h,g){return this}insert(c,i,o){return new kr(c,i)}remove(c,i){return this}isEmpty(){return!0}inorderTraversal(c){return!1}reverseTraversal(c){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ps{constructor(i){this.comparator=i,this.data=new Gs(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((o,h)=>(i(o),!1))}forEachInRange(i,o){const h=this.data.getIteratorFrom(i[0]);for(;h.hasNext();){const g=h.getNext();if(this.comparator(g.key,i[1])>=0)return;o(g.key)}}forEachWhile(i,o){let h;for(h=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();h.hasNext();)if(!i(h.getNext().key))return}firstAfterOrEqual(i){const o=this.data.getIteratorFrom(i);return o.hasNext()?o.getNext().key:null}getIterator(){return new Yg(this.data.getIterator())}getIteratorFrom(i){return new Yg(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let o=this;return o.size<i.size&&(o=i,i=this),i.forEach(h=>{o=o.add(h)}),o}isEqual(i){if(!(i instanceof Ps)||this.size!==i.size)return!1;const o=this.data.getIterator(),h=i.data.getIterator();for(;o.hasNext();){const g=o.getNext().key,y=h.getNext().key;if(0!==this.comparator(g,y))return!1}return!0}toArray(){const i=[];return this.forEach(o=>{i.push(o)}),i}toString(){const i=[];return this.forEach(o=>i.push(o)),"SortedSet("+i.toString()+")"}copy(i){const o=new Ps(this.comparator);return o.data=i,o}}class Yg{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pc(c){return c.hasNext()?c.getNext():void 0}const q_=new Gs(vn.comparator);function $l(){return q_}const r0=new Gs(vn.comparator);function vp(){return r0}function lh(){return new Vl(c=>c.toString(),(c,i)=>c.isEqual(i))}const bp=new Gs(vn.comparator),Z_=new Ps(vn.comparator);function ts(...c){let i=Z_;for(const o of c)i=i.add(o);return i}const uf=new Ps(vi);function Ro(){return uf}class hu{constructor(i,o,h,g,y){this.snapshotVersion=i,this.targetChanges=o,this.targetMismatches=h,this.documentUpdates=g,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(i,o){const h=new Map;return h.set(i,ch.createSynthesizedTargetChangeForCurrentChange(i,o)),new hu(mi.min(),h,Ro(),$l(),ts())}}class ch{constructor(i,o,h,g,y){this.resumeToken=i,this.current=o,this.addedDocuments=h,this.modifiedDocuments=g,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(i,o){return new ch(Pr.EMPTY_BYTE_STRING,o,ts(),ts(),ts())}}class df{constructor(i,o,h,g){this.O=i,this.removedTargetIds=o,this.key=h,this.F=g}}class ha{constructor(i,o){this.targetId=i,this.$=o}}class uh{constructor(i,o,h=Pr.EMPTY_BYTE_STRING,g=null){this.state=i,this.targetIds=o,this.resumeToken=h,this.cause=g}}class Cp{constructor(){this.B=0,this.L=Ep(),this.U=Pr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(i){i.approximateByteSize()>0&&(this.K=!0,this.U=i)}H(){let i=ts(),o=ts(),h=ts();return this.L.forEach((g,y)=>{switch(y){case 0:i=i.add(g);break;case 2:o=o.add(g);break;case 1:h=h.add(g);break;default:pe()}}),new ch(this.U,this.q,i,o,h)}J(){this.K=!1,this.L=Ep()}Y(i,o){this.K=!0,this.L=this.L.insert(i,o)}X(i){this.K=!0,this.L=this.L.remove(i)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class s0{constructor(i){this.nt=i,this.st=new Map,this.it=$l(),this.rt=Y_(),this.ot=new Ps(vi)}ut(i){for(const o of i.O)i.F&&i.F.isFoundDocument()?this.at(o,i.F):this.ct(o,i.key,i.F);for(const o of i.removedTargetIds)this.ct(o,i.key,i.F)}ht(i){this.forEachTarget(i,o=>{const h=this.lt(o);switch(i.state){case 0:this.ft(o)&&h.W(i.resumeToken);break;case 1:h.tt(),h.G||h.J(),h.W(i.resumeToken);break;case 2:h.tt(),h.G||this.removeTarget(o);break;case 3:this.ft(o)&&(h.et(),h.W(i.resumeToken));break;case 4:this.ft(o)&&(this.dt(o),h.W(i.resumeToken));break;default:pe()}})}forEachTarget(i,o){i.targetIds.length>0?i.targetIds.forEach(o):this.st.forEach((h,g)=>{this.ft(g)&&o(g)})}_t(i){const o=i.targetId,h=i.$.count,g=this.wt(o);if(g){const y=g.target;if(No(y))if(0===h){const D=new vn(y.path);this.ct(o,D,te.newNoDocument(D,mi.min()))}else at(1===h);else this.gt(o)!==h&&(this.dt(o),this.ot=this.ot.add(o))}}yt(i){const o=new Map;this.st.forEach((y,D)=>{const B=this.wt(D);if(B){if(y.current&&No(B.target)){const J=new vn(B.target.path);null!==this.it.get(J)||this.It(D,J)||this.ct(D,J,te.newNoDocument(J,i))}y.j&&(o.set(D,y.H()),y.J())}});let h=ts();this.rt.forEach((y,D)=>{let B=!0;D.forEachWhile(J=>{const ie=this.wt(J);return!ie||2===ie.purpose||(B=!1,!1)}),B&&(h=h.add(y))}),this.it.forEach((y,D)=>D.setReadTime(i));const g=new hu(i,o,this.ot,this.it,h);return this.it=$l(),this.rt=Y_(),this.ot=new Ps(vi),g}at(i,o){if(!this.ft(i))return;const h=this.It(i,o.key)?2:0;this.lt(i).Y(o.key,h),this.it=this.it.insert(o.key,o),this.rt=this.rt.insert(o.key,this.Tt(o.key).add(i))}ct(i,o,h){if(!this.ft(i))return;const g=this.lt(i);this.It(i,o)?g.Y(o,1):g.X(o),this.rt=this.rt.insert(o,this.Tt(o).delete(i)),h&&(this.it=this.it.insert(o,h))}removeTarget(i){this.st.delete(i)}gt(i){const o=this.lt(i).H();return this.nt.getRemoteKeysForTarget(i).size+o.addedDocuments.size-o.removedDocuments.size}Z(i){this.lt(i).Z()}lt(i){let o=this.st.get(i);return o||(o=new Cp,this.st.set(i,o)),o}Tt(i){let o=this.rt.get(i);return o||(o=new Ps(vi),this.rt=this.rt.insert(i,o)),o}ft(i){const o=null!==this.wt(i);return o||F("WatchChangeAggregator","Detected inactive target",i),o}wt(i){const o=this.st.get(i);return o&&o.G?null:this.nt.Et(i)}dt(i){this.st.set(i,new Cp),this.nt.getRemoteKeysForTarget(i).forEach(o=>{this.ct(i,o,null)})}It(i,o){return this.nt.getRemoteKeysForTarget(i).has(o)}}function Y_(){return new Gs(vn.comparator)}function Ep(){return new Gs(vn.comparator)}const o0={asc:"ASCENDING",desc:"DESCENDING"},Kg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class K_{constructor(i,o){this.databaseId=i,this.N=o}}function dh(c,i){return c.N?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function Jg(c,i){return c.N?i.toBase64():i.toUint8Array()}function Tp(c,i){return dh(c,i.toTimestamp())}function go(c){return at(!!c),mi.fromTimestamp(function(i){const o=yr(i);return new Zr(o.seconds,o.nanos)}(c))}function Qg(c,i){return(o=c,new ir(["projects",o.projectId,"databases",o.database])).child("documents").child(i).canonicalString();var o}function J_(c){const i=ir.fromString(c);return at(Dp(i)),i}function Id(c,i){return Qg(c.databaseId,i.path)}function Hl(c,i){const o=J_(i);if(o.get(1)!==c.databaseId.projectId)throw new Ut(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+c.databaseId.projectId);if(o.get(3)!==c.databaseId.database)throw new Ut(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+c.databaseId.database);return new vn(Xg(o))}function wp(c,i){return Qg(c.databaseId,i)}function hf(c){const i=J_(c);return 4===i.length?ir.emptyPath():Xg(i)}function ff(c){return new ir(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Xg(c){return at(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function fu(c,i,o){return{name:Id(c,i),fields:o.value.mapValue.fields}}function em(c,i,o){const h=Hl(c,i.name),g=go(i.updateTime),y=new $({mapValue:{fields:i.fields}}),D=te.newFoundDocument(h,g,y);return o&&D.setHasCommittedMutations(),o?D.setHasCommittedMutations():D}function zu(c,i){let o;if(i instanceof pl)o={update:fu(c,i.key,i.value)};else if(i instanceof Rc)o={delete:Id(c,i.key)};else if(i instanceof Ul)o={update:fu(c,i.key,i.data),updateMask:kc(i.fieldMask)};else{if(!(i instanceof ah))return pe();o={verify:Id(c,i.key)}}return i.fieldTransforms.length>0&&(o.updateTransforms=i.fieldTransforms.map(h=>function(g,y){const D=y.transform;if(D instanceof Ll)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Oc)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof oc)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof M)return{fieldPath:y.field.canonicalString(),increment:D.k};throw pe()}(0,h))),i.precondition.isNone||(o.currentDocument=void 0!==(g=i.precondition).updateTime?{updateTime:Tp(c,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:pe()),o;var g}function hh(c,i){const o=i.currentDocument?void 0!==(g=i.currentDocument).updateTime?Ct.updateTime(go(g.updateTime)):void 0!==g.exists?Ct.exists(g.exists):Ct.none():Ct.none(),h=i.updateTransforms?i.updateTransforms.map(g=>function(y,D){let B=null;"setToServerValue"in D?(at("REQUEST_TIME"===D.setToServerValue),B=new Ll):"appendMissingElements"in D?B=new Oc(D.appendMissingElements.values||[]):"removeAllFromArray"in D?B=new oc(D.removeAllFromArray.values||[]):"increment"in D?B=new M(y,D.increment):pe();const J=Os.fromServerFormat(D.fieldPath);return new P(J,B)}(c,g)):[];var g;if(i.update){const g=Hl(c,i.update.name),y=new $({mapValue:{fields:i.update.fields}});if(i.updateMask){const D=new Ol((i.updateMask.fieldPaths||[]).map(ie=>Os.fromServerFormat(ie)));return new Ul(g,y,D,o,h)}return new pl(g,y,o,h)}if(i.delete){const g=Hl(c,i.delete);return new Rc(g,o)}if(i.verify){const g=Hl(c,i.verify);return new ah(g,o)}return pe()}function X_(c,i){return{documents:[wp(c,i.path)]}}function ey(c,i){const o={structuredQuery:{}},h=i.path;null!==i.collectionGroup?(o.parent=wp(c,h),o.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(o.parent=wp(c,h.popLast()),o.structuredQuery.from=[{collectionId:h.lastSegment()}]);const g=function(J){if(0===J.length)return;const ie=J.map(ze=>function(dt){if("=="===dt.op){if(su(dt.value))return{unaryFilter:{field:pf(dt.field),op:"IS_NAN"}};if(bi(dt.value))return{unaryFilter:{field:pf(dt.field),op:"IS_NULL"}}}else if("!="===dt.op){if(su(dt.value))return{unaryFilter:{field:pf(dt.field),op:"IS_NOT_NAN"}};if(bi(dt.value))return{unaryFilter:{field:pf(dt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pf(dt.field),op:el(dt.op),value:dt.value}}}(ze));return 1===ie.length?ie[0]:{compositeFilter:{op:"AND",filters:ie}}}(i.filters);g&&(o.structuredQuery.where=g);const y=function(J){if(0!==J.length)return J.map(ie=>{return{field:pf((ze=ie).field),direction:gl(ze.dir)};var ze})}(i.orderBy);y&&(o.structuredQuery.orderBy=y);const D=(ie=i.limit,c.N||oa(ie)?ie:{value:ie});var ie,B,J;return null!==D&&(o.structuredQuery.limit=D),i.startAt&&(o.structuredQuery.startAt={before:(B=i.startAt).inclusive,values:B.position}),i.endAt&&(o.structuredQuery.endAt={before:!(J=i.endAt).inclusive,values:J.position}),o}function tm(c){let i=hf(c.parent);const o=c.structuredQuery,h=o.from?o.from.length:0;let g=null;if(h>0){at(1===h);const ze=o.from[0];ze.allDescendants?g=ze.collectionId:i=i.child(ze.collectionId)}let y=[];o.where&&(y=ty(o.where));let D=[];o.orderBy&&(D=o.orderBy.map(ze=>{return new kl(gf((dt=ze).field),function(kt){switch(kt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(dt.direction));var dt}));let B=null;o.limit&&(B=function(ze){let dt;return dt="object"==typeof ze?ze.value:ze,oa(dt)?null:dt}(o.limit));let J=null;var ze;o.startAt&&(J=new rc((ze=o.startAt).values||[],!!ze.before));let ie=null;return o.endAt&&(ie=function(ze){return new rc(ze.values||[],!ze.before)}(o.endAt)),pp(i,g,D,y,B,"F",J,ie)}function ty(c){return c?void 0!==c.unaryFilter?[iy(c)]:void 0!==c.fieldFilter?[ny(c)]:void 0!==c.compositeFilter?c.compositeFilter.filters.map(i=>ty(i)).reduce((i,o)=>i.concat(o)):pe():[]}function gl(c){return o0[c]}function el(c){return Kg[c]}function pf(c){return{fieldPath:c.canonicalString()}}function gf(c){return Os.fromServerFormat(c.fieldPath)}function ny(c){return fo.create(gf(c.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(c.fieldFilter.op),c.fieldFilter.value)}function iy(c){switch(c.unaryFilter.op){case"IS_NAN":const i=gf(c.unaryFilter.field);return fo.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=gf(c.unaryFilter.field);return fo.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=gf(c.unaryFilter.field);return fo.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=gf(c.unaryFilter.field);return fo.create(g,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}function kc(c){const i=[];return c.fields.forEach(o=>i.push(o.canonicalString())),{fieldPaths:i}}function Dp(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}function Zo(c){let i="";for(let o=0;o<c.length;o++)i.length>0&&(i=im(i)),i=Ip(c.get(o),i);return im(i)}function Ip(c,i){let o=i;const h=c.length;for(let g=0;g<h;g++){const y=c.charAt(g);switch(y){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=y}}return o}function im(c){return c+"\x01\x01"}function Po(c){const i=c.length;if(at(i>=2),2===i)return at("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),ir.emptyPath();const o=i-2,h=[];let g="";for(let y=0;y<i;){const D=c.indexOf("\x01",y);switch((D<0||D>o)&&pe(),c.charAt(D+1)){case"\x01":const B=c.substring(y,D);let J;0===g.length?J=B:(g+=B,J=g,g=""),h.push(J);break;case"\x10":g+=c.substring(y,D),g+="\0";break;case"\x11":g+=c.substring(y,D+1);break;default:pe()}y=D+2}return new ir(h)}const Ap=["userId","batchId"];function fh(c,i){return[c,Zo(i)]}function mf(c,i,o){return[c,Zo(i),o]}const ph={},_f=["prefixPath","collectionGroup","readTime","documentId"],ry=["prefixPath","collectionGroup","documentId"],Wu=["collectionGroup","readTime","prefixPath","documentId"],yf=["canonicalId","targetId"],sy=["targetId","path"],vf=["path","targetId"],rm=["collectionId","parent"],l0=["indexId","uid"],c0=["uid","sequenceNumber"],sm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],om=["indexId","uid","orderedDocumentKey"],u0=["userId","collectionPath","documentId"],oy=["userId","collectionPath","largestBatchId"],ay=["userId","collectionGroup","largestBatchId"],Sp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],am=[...Sp,"documentOverlays"],gh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lm=[...gh,"indexConfiguration","indexState","indexEntries"],Mp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}class $t{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(i){return this.next(void 0,i)}next(i,o){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(i,this.result):new $t((h,g)=>{this.nextCallback=y=>{this.wrapSuccess(i,y).next(h,g)},this.catchCallback=y=>{this.wrapFailure(o,y).next(h,g)}})}toPromise(){return new Promise((i,o)=>{this.next(i,o)})}wrapUserFunction(i){try{const o=i();return o instanceof $t?o:$t.resolve(o)}catch(o){return $t.reject(o)}}wrapSuccess(i,o){return i?this.wrapUserFunction(()=>i(o)):$t.resolve(o)}wrapFailure(i,o){return i?this.wrapUserFunction(()=>i(o)):$t.reject(o)}static resolve(i){return new $t((o,h)=>{o(i)})}static reject(i){return new $t((o,h)=>{h(i)})}static waitFor(i){return new $t((o,h)=>{let g=0,y=0,D=!1;i.forEach(B=>{++g,B.next(()=>{++y,D&&y===g&&o()},J=>h(J))}),D=!0,y===g&&o()})}static or(i){let o=$t.resolve(!1);for(const h of i)o=o.next(g=>g?$t.resolve(g):h());return o}static forEach(i,o){const h=[];return i.forEach((g,y)=>{h.push(o.call(this,g,y))}),this.waitFor(h)}}class jl{constructor(i,o){this.action=i,this.transaction=o,this.aborted=!1,this.At=new di,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{o.error?this.At.reject(new qu(i,o.error)):this.At.resolve()},this.transaction.onerror=h=>{const g=xp(h.target.error);this.At.reject(new qu(i,g))}}static open(i,o,h,g){try{return new jl(o,i.transaction(g,h))}catch(y){throw new qu(o,y)}}get Rt(){return this.At.promise}abort(i){i&&this.At.reject(i),this.aborted||(F("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const i=this.transaction;this.aborted||"function"!=typeof i.commit||i.commit()}store(i){const o=this.transaction.objectStore(i);return new d0(o)}}class ml{constructor(i,o,h){this.name=i,this.version=o,this.bt=h,12.2===ml.Vt((0,We.z$)())&&Y("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return F("SimpleDb","Removing database:",i),Gl(window.indexedDB.deleteDatabase(i)).toPromise()}static vt(){if(!(0,We.hl)())return!1;if(ml.St())return!0;const i=(0,We.z$)(),o=ml.Vt(i),h=0<o&&o<10,g=ml.Dt(i),y=0<g&&g<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||h||y)}static St(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Ct)}static xt(i,o){return i.store(o)}static Vt(i){const o=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),h=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(h)}static Dt(i){const o=i.match(/Android ([\d.]+)/i),h=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(h)}Nt(i){var o=this;return(0,_e.Z)(function*(){return o.db||(F("SimpleDb","Opening database:",o.name),o.db=yield new Promise((h,g)=>{const y=indexedDB.open(o.name,o.version);y.onsuccess=D=>{h(D.target.result)},y.onblocked=()=>{g(new qu(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=D=>{const B=D.target.error;g("VersionError"===B.name?new Ut(gt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===B.name?new Ut(gt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+B):new qu(i,B))},y.onupgradeneeded=D=>{F("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',D.oldVersion),o.bt.kt(D.target.result,y.transaction,D.oldVersion,o.version).next(()=>{F("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.Mt&&(o.db.onversionchange=h=>o.Mt(h)),o.db})()}Ot(i){this.Mt=i,this.db&&(this.db.onversionchange=o=>i(o))}runTransaction(i,o,h,g){var y=this;return(0,_e.Z)(function*(){const D="readonly"===o;let B=0;for(;;){++B;try{y.db=yield y.Nt(i);const J=jl.open(y.db,i,D?"readonly":"readwrite",h),ie=g(J).next(ze=>(J.Pt(),ze)).catch(ze=>(J.abort(ze),$t.reject(ze))).toPromise();return ie.catch(()=>{}),yield J.Rt,ie}catch(J){const ie="FirebaseError"!==J.name&&B<3;if(F("SimpleDb","Transaction failed with error:",J.message,"Retrying:",ie),y.close(),!ie)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ly{constructor(i){this.Ft=i,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(i){this.Ft=i}done(){this.$t=!0}Ut(i){this.Bt=i}delete(){return Gl(this.Ft.delete())}}class qu extends Ut{constructor(i,o){super(gt.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function lc(c){return"IndexedDbTransactionError"===c.name}class d0{constructor(i){this.store=i}put(i,o){let h;return void 0!==o?(F("SimpleDb","PUT",this.store.name,i,o),h=this.store.put(o,i)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",i),h=this.store.put(i)),Gl(h)}add(i){return F("SimpleDb","ADD",this.store.name,i,i),Gl(this.store.add(i))}get(i){return Gl(this.store.get(i)).next(o=>(void 0===o&&(o=null),F("SimpleDb","GET",this.store.name,i,o),o))}delete(i){return F("SimpleDb","DELETE",this.store.name,i),Gl(this.store.delete(i))}count(){return F("SimpleDb","COUNT",this.store.name),Gl(this.store.count())}qt(i,o){const h=this.options(i,o);if(h.index||"function"!=typeof this.store.getAll){const g=this.cursor(h),y=[];return this.Kt(g,(D,B)=>{y.push(B)}).next(()=>y)}{const g=this.store.getAll(h.range);return new $t((y,D)=>{g.onerror=B=>{D(B.target.error)},g.onsuccess=B=>{y(B.target.result)}})}}Gt(i,o){const h=this.store.getAll(i,null===o?void 0:o);return new $t((g,y)=>{h.onerror=D=>{y(D.target.error)},h.onsuccess=D=>{g(D.target.result)}})}Qt(i,o){F("SimpleDb","DELETE ALL",this.store.name);const h=this.options(i,o);h.jt=!1;const g=this.cursor(h);return this.Kt(g,(y,D,B)=>B.delete())}Wt(i,o){let h;o?h=i:(h={},o=i);const g=this.cursor(h);return this.Kt(g,o)}zt(i){const o=this.cursor({});return new $t((h,g)=>{o.onerror=y=>{const D=xp(y.target.error);g(D)},o.onsuccess=y=>{const D=y.target.result;D?i(D.primaryKey,D.value).next(B=>{B?D.continue():h()}):h()}})}Kt(i,o){const h=[];return new $t((g,y)=>{i.onerror=D=>{y(D.target.error)},i.onsuccess=D=>{const B=D.target.result;if(!B)return void g();const J=new ly(B),ie=o(B.primaryKey,B.value,J);if(ie instanceof $t){const ze=ie.catch(dt=>(J.done(),$t.reject(dt)));h.push(ze)}J.isDone?g():null===J.Lt?B.continue():B.continue(J.Lt)}}).next(()=>$t.waitFor(h))}options(i,o){let h;return void 0!==i&&("string"==typeof i?h=i:o=i),{index:h,range:o}}cursor(i){let o="next";if(i.reverse&&(o="prev"),i.index){const h=this.store.index(i.index);return i.jt?h.openKeyCursor(i.range,o):h.openCursor(i.range,o)}return this.store.openCursor(i.range,o)}}function Gl(c){return new $t((i,o)=>{c.onsuccess=h=>{i(h.target.result)},c.onerror=h=>{const g=xp(h.target.error);o(g)}})}let bf=!1;function xp(c){const i=ml.Vt((0,We.z$)());if(i>=12.2&&i<13){const o="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(o)>=0){const h=new Ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bf||(bf=!0,setTimeout(()=>{throw h},0)),h}}return c}class Op extends mh{constructor(i,o){super(),this.Ht=i,this.currentSequenceNumber=o}}function ko(c,i){const o=Bt(c);return ml.xt(o.Ht,i)}class Zu{constructor(i,o,h,g){this.batchId=i,this.localWriteTime=o,this.baseMutations=h,this.mutations=g}applyToRemoteDocument(i,o){const h=o.mutationResults;for(let g=0;g<this.mutations.length;g++){const y=this.mutations[g];y.key.isEqual(i.key)&&Ci(y,i,h[g])}}applyToLocalView(i){for(const o of this.baseMutations)o.key.isEqual(i.key)&&Ji(o,i,this.localWriteTime);for(const o of this.mutations)o.key.isEqual(i.key)&&Ji(o,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(o=>{const h=i.get(o.key),g=h;this.applyToLocalView(g),h.isValidDocument()||g.convertToNoDocument(mi.min())})}keys(){return this.mutations.reduce((i,o)=>i.add(o.key),ts())}isEqual(i){return this.batchId===i.batchId&&Za(this.mutations,i.mutations,(o,h)=>Bl(o,h))&&Za(this.baseMutations,i.baseMutations,(o,h)=>Bl(o,h))}}class gu{constructor(i,o,h,g){this.batch=i,this.commitVersion=o,this.mutationResults=h,this.docVersions=g}static from(i,o,h){at(i.mutations.length===h.length);let g=bp;const y=i.mutations;for(let D=0;D<y.length;D++)g=g.insert(y[D].key,h[D].version);return new gu(i,o,h,g)}}class Cf{constructor(i,o){this.largestBatchId=i,this.mutation=o}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fc{constructor(i,o,h,g,y=mi.min(),D=mi.min(),B=Pr.EMPTY_BYTE_STRING){this.target=i,this.targetId=o,this.purpose=h,this.sequenceNumber=g,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=B}withSequenceNumber(i){return new Fc(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,o){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class Ad{constructor(i){this.Jt=i}}function Lc(c,i){const o=i.key,h={prefixPath:o.getCollectionPath().popLast().toArray(),collectionGroup:o.collectionGroup,documentId:o.path.lastSegment(),readTime:Np(i.readTime),hasCommittedMutations:i.hasCommittedMutations};if(i.isFoundDocument())h.document={name:Id(g=c.Jt,(y=i).key),fields:y.data.value.mapValue.fields,updateTime:dh(g,y.version.toTimestamp())};else if(i.isNoDocument())h.noDocument={path:o.path.toArray(),readTime:mu(i.version)};else{if(!i.isUnknownDocument())return pe();h.unknownDocument={path:o.path.toArray(),version:mu(i.version)}}var g,y;return h}function Np(c){const i=c.toTimestamp();return[i.seconds,i.nanoseconds]}function mu(c){const i=c.toTimestamp();return{seconds:i.seconds,nanoseconds:i.nanoseconds}}function _u(c){const i=new Zr(c.seconds,c.nanoseconds);return mi.fromTimestamp(i)}function Bc(c,i){const o=(i.baseMutations||[]).map(y=>hh(c.Jt,y));for(let y=0;y<i.mutations.length-1;++y){const D=i.mutations[y];y+1<i.mutations.length&&void 0!==i.mutations[y+1].transform&&(D.updateTransforms=i.mutations[y+1].transform.fieldTransforms,i.mutations.splice(y+1,1),++y)}const h=i.mutations.map(y=>hh(c.Jt,y)),g=Zr.fromMillis(i.localWriteTimeMs);return new Zu(i.batchId,g,o,h)}function Uc(c){const i=_u(c.readTime),o=void 0!==c.lastLimboFreeSnapshotVersion?_u(c.lastLimboFreeSnapshotVersion):mi.min();let h;var g;return void 0!==c.query.documents?(at(1===(g=c.query).documents.length),h=po(lo(hf(g.documents[0])))):h=po(tm(c.query)),new Fc(h,c.targetId,0,c.lastListenSequenceNumber,i,o,Pr.fromBase64String(c.resumeToken))}function Rp(c,i){const o=mu(i.snapshotVersion),h=mu(i.lastLimboFreeSnapshotVersion);let g;g=No(i.target)?X_(c.Jt,i.target):ey(c.Jt,i.target);const y=i.resumeToken.toBase64();return{targetId:i.targetId,canonicalId:qo(i.target),readTime:o,resumeToken:y,lastListenSequenceNumber:i.sequenceNumber,lastLimboFreeSnapshotVersion:h,query:g}}function Ua(c){const i=tm({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?Fl(i,i.limit,"L"):i}function cm(c,i){return new Cf(i.largestBatchId,hh(c.Jt,i.overlayMutation))}function um(c,i){const o=i.path.lastSegment();return[c,Zo(i.path.popLast()),o]}class Pp{getBundleMetadata(i,o){return Ef(i).get(o).next(h=>{if(h)return{id:(g=h).bundleId,createTime:_u(g.createTime),version:g.version};var g})}saveBundleMetadata(i,o){return Ef(i).put({bundleId:(h=o).id,createTime:mu(go(h.createTime)),version:h.version});var h}getNamedQuery(i,o){return _l(i).get(o).next(h=>{if(h)return{name:(g=h).name,query:Ua(g.bundledQuery),readTime:_u(g.readTime)};var g})}saveNamedQuery(i,o){return _l(i).put({name:(h=o).name,readTime:mu(go(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Ef(c){return ko(c,"bundles")}function _l(c){return ko(c,"namedQueries")}class kp{constructor(i,o){this.M=i,this.userId=o}static Yt(i,o){return new kp(i,o.uid||"")}getOverlay(i,o){return Va(i).get(um(this.userId,o)).next(h=>h?cm(this.M,h):null)}saveOverlays(i,o,h){const g=[];return h.forEach((y,D)=>{const B=new Cf(o,D);g.push(this.Xt(i,B))}),$t.waitFor(g)}removeOverlaysForBatchId(i,o,h){const g=new Set;o.forEach(D=>g.add(Zo(D.getCollectionPath())));const y=[];return g.forEach(D=>{const B=IDBKeyRange.bound([this.userId,D,h],[this.userId,D,h+1],!1,!0);y.push(Va(i).Qt("collectionPathOverlayIndex",B))}),$t.waitFor(y)}getOverlaysForCollection(i,o,h){const g=lh(),y=Zo(o),D=IDBKeyRange.bound([this.userId,y,h],[this.userId,y,Number.POSITIVE_INFINITY],!0);return Va(i).qt("collectionPathOverlayIndex",D).next(B=>{for(const J of B){const ie=cm(this.M,J);g.set(ie.getKey(),ie)}return g})}getOverlaysForCollectionGroup(i,o,h,g){const y=lh();let D;const B=IDBKeyRange.bound([this.userId,o,h],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Va(i).Wt({index:"collectionGroupOverlayIndex",range:B},(J,ie,ze)=>{const dt=cm(this.M,ie);y.size()<g||dt.largestBatchId===D?(y.set(dt.getKey(),dt),D=dt.largestBatchId):ze.done()}).next(()=>y)}Xt(i,o){return Va(i).put(function(h,g,y){const[D,B,J]=um(g,y.mutation.key);return{userId:g,collectionPath:B,documentId:J,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:zu(h.Jt,y.mutation)}}(this.M,this.userId,o))}}function Va(c){return ko(c,"documentOverlays")}class Yu{constructor(){}Zt(i,o){this.te(i,o),o.ee()}te(i,o){if("nullValue"in i)this.ne(o,5);else if("booleanValue"in i)this.ne(o,10),o.se(i.booleanValue?1:0);else if("integerValue"in i)this.ne(o,15),o.se(es(i.integerValue));else if("doubleValue"in i){const h=es(i.doubleValue);isNaN(h)?this.ne(o,13):(this.ne(o,15),ao(h)?o.se(0):o.se(h))}else if("timestampValue"in i){const h=i.timestampValue;this.ne(o,20),"string"==typeof h?o.ie(h):(o.ie(`${h.seconds||""}`),o.se(h.nanos||0))}else if("stringValue"in i)this.re(i.stringValue,o),this.oe(o);else if("bytesValue"in i)this.ne(o,30),o.ue(_s(i.bytesValue)),this.oe(o);else if("referenceValue"in i)this.ae(i.referenceValue,o);else if("geoPointValue"in i){const h=i.geoPointValue;this.ne(o,45),o.se(h.latitude||0),o.se(h.longitude||0)}else"mapValue"in i?Yr(i)?this.ne(o,Number.MAX_SAFE_INTEGER):(this.ce(i.mapValue,o),this.oe(o)):"arrayValue"in i?(this.he(i.arrayValue,o),this.oe(o)):pe()}re(i,o){this.ne(o,25),this.le(i,o)}le(i,o){o.ie(i)}ce(i,o){const h=i.fields||{};this.ne(o,55);for(const g of Object.keys(h))this.re(g,o),this.te(h[g],o)}he(i,o){const h=i.values||[];this.ne(o,50);for(const g of h)this.te(g,o)}ae(i,o){this.ne(o,37),vn.fromName(i).path.forEach(h=>{this.ne(o,60),this.le(h,o)})}ne(i,o){i.se(o)}oe(i){i.se(2)}}function cy(c){if(0===c)return 8;let i=0;return c>>4==0&&(i+=4,c<<=4),c>>6==0&&(i+=2,c<<=2),c>>7==0&&(i+=1),i}function uy(c){const i=64-function(o){let h=0;for(let g=0;g<8;++g){const y=cy(255&o[g]);if(h+=y,8!==y)break}return h}(c);return Math.ceil(i/8)}Yu.fe=new Yu;class h0{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(i){const o=i[Symbol.iterator]();let h=o.next();for(;!h.done;)this._e(h.value),h=o.next();this.we()}me(i){const o=i[Symbol.iterator]();let h=o.next();for(;!h.done;)this.ge(h.value),h=o.next();this.ye()}pe(i){for(const o of i){const h=o.charCodeAt(0);if(h<128)this._e(h);else if(h<2048)this._e(960|h>>>6),this._e(128|63&h);else if(o<"\ud800"||"\udbff"<o)this._e(480|h>>>12),this._e(128|63&h>>>6),this._e(128|63&h);else{const g=o.codePointAt(0);this._e(240|g>>>18),this._e(128|63&g>>>12),this._e(128|63&g>>>6),this._e(128|63&g)}}this.we()}Ie(i){for(const o of i){const h=o.charCodeAt(0);if(h<128)this.ge(h);else if(h<2048)this.ge(960|h>>>6),this.ge(128|63&h);else if(o<"\ud800"||"\udbff"<o)this.ge(480|h>>>12),this.ge(128|63&h>>>6),this.ge(128|63&h);else{const g=o.codePointAt(0);this.ge(240|g>>>18),this.ge(128|63&g>>>12),this.ge(128|63&g>>>6),this.ge(128|63&g)}}this.ye()}Te(i){const o=this.Ee(i),h=uy(o);this.Ae(1+h),this.buffer[this.position++]=255&h;for(let g=o.length-h;g<o.length;++g)this.buffer[this.position++]=255&o[g]}Re(i){const o=this.Ee(i),h=uy(o);this.Ae(1+h),this.buffer[this.position++]=~(255&h);for(let g=o.length-h;g<o.length;++g)this.buffer[this.position++]=~(255&o[g])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(i){this.Ae(i.length),this.buffer.set(i,this.position),this.position+=i.length}Se(){return this.buffer.slice(0,this.position)}Ee(i){const o=function(g){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,g,!1),new Uint8Array(y.buffer)}(i),h=0!=(128&o[0]);o[0]^=h?255:128;for(let g=1;g<o.length;++g)o[g]^=h?255:0;return o}_e(i){const o=255&i;0===o?(this.be(0),this.be(255)):255===o?(this.be(255),this.be(0)):this.be(o)}ge(i){const o=255&i;0===o?(this.ve(0),this.ve(255)):255===o?(this.ve(255),this.ve(0)):this.ve(i)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(i){this.Ae(1),this.buffer[this.position++]=i}ve(i){this.Ae(1),this.buffer[this.position++]=~i}Ae(i){const o=i+this.position;if(o<=this.buffer.length)return;let h=2*this.buffer.length;h<o&&(h=o);const g=new Uint8Array(h);g.set(this.buffer),this.buffer=g}}class dy{constructor(i){this.De=i}ue(i){this.De.de(i)}ie(i){this.De.pe(i)}se(i){this.De.Te(i)}ee(){this.De.Pe()}}class Tf{constructor(i){this.De=i}ue(i){this.De.me(i)}ie(i){this.De.Ie(i)}se(i){this.De.Re(i)}ee(){this.De.Ve()}}class Sd{constructor(){this.De=new h0,this.Ce=new dy(this.De),this.xe=new Tf(this.De)}seed(i){this.De.seed(i)}Ne(i){return 0===i?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class yu{constructor(i,o,h,g){this.indexId=i,this.documentKey=o,this.arrayValue=h,this.directionalValue=g}ke(){const i=this.directionalValue.length,o=0===i||255===this.directionalValue[i-1]?i+1:i,h=new Uint8Array(o);return h.set(this.directionalValue,0),o!==i?h.set([0],this.directionalValue.length):++h[h.length-1],new yu(this.indexId,this.documentKey,this.arrayValue,h)}}function Md(c,i){let o=c.indexId-i.indexId;return 0!==o?o:(o=Fp(c.arrayValue,i.arrayValue),0!==o?o:(o=Fp(c.directionalValue,i.directionalValue),0!==o?o:vn.comparator(c.documentKey,i.documentKey)))}function Fp(c,i){for(let o=0;o<c.length&&o<i.length;++o){const h=c[o]-i[o];if(0!==h)return h}return c.length-i.length}class Gi{constructor(i){this.collectionId=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment(),this.Me=i.orderBy,this.Oe=[];for(const o of i.filters){const h=o;h.S()?this.Fe=h:this.Oe.push(h)}}$e(i){const o=wt(i);if(void 0!==o&&!this.Be(o))return!1;const h=Nt(i);let g=0,y=0;for(;g<h.length&&this.Be(h[g]);++g);if(g===h.length)return!0;if(void 0!==this.Fe){const D=h[g];if(!this.Le(this.Fe,D)||!this.Ue(this.Me[y++],D))return!1;++g}for(;g<h.length;++g){const D=h[g];if(y>=this.Me.length||!this.Ue(this.Me[y++],D))return!1}return!0}Be(i){for(const o of this.Oe)if(this.Le(o,i))return!0;return!1}Le(i,o){return!(void 0===i||!i.field.isEqual(o.fieldPath))&&2===o.kind==("array-contains"===i.op||"array-contains-any"===i.op)}Ue(i,o){return!!i.field.isEqual(o.fieldPath)&&(0===o.kind&&"asc"===i.dir||1===o.kind&&"desc"===i.dir)}}class hy{constructor(){this.qe=new _h}addToCollectionParentIndex(i,o){return this.qe.add(o),$t.resolve()}getCollectionParents(i,o){return $t.resolve(this.qe.getEntries(o))}addFieldIndex(i,o){return $t.resolve()}deleteFieldIndex(i,o){return $t.resolve()}getDocumentsMatchingTarget(i,o){return $t.resolve(null)}getFieldIndex(i,o){return $t.resolve(null)}getFieldIndexes(i,o){return $t.resolve([])}getNextCollectionGroupToUpdate(i){return $t.resolve(null)}updateCollectionGroup(i,o,h){return $t.resolve()}updateIndexEntries(i,o){return $t.resolve()}}class _h{constructor(){this.index={}}add(i){const o=i.lastSegment(),h=i.popLast(),g=this.index[o]||new Ps(ir.comparator),y=!g.has(h);return this.index[o]=g.add(h),y}has(i){const o=i.lastSegment(),h=i.popLast(),g=this.index[o];return g&&g.has(h)}getEntries(i){return(this.index[i]||new Ps(ir.comparator)).toArray()}}const xd=new Uint8Array(0);class Lp{constructor(i,o){this.user=i,this.databaseId=o,this.Ke=new _h,this.Ge=new Vl(h=>qo(h),(h,g)=>Ta(h,g)),this.uid=i.uid||""}addToCollectionParentIndex(i,o){if(!this.Ke.has(o)){const h=o.lastSegment(),g=o.popLast();i.addOnCommittedListener(()=>{this.Ke.add(o)});const y={collectionId:h,parent:Zo(g)};return Wl(i).put(y)}return $t.resolve()}getCollectionParents(i,o){const h=[],g=IDBKeyRange.bound([o,""],[Lu(o),""],!1,!0);return Wl(i).qt(g).next(y=>{for(const D of y){if(D.collectionId!==o)break;h.push(Po(D.parent))}return h})}addFieldIndex(i,o){const h=Bp(i),g={indexId:(y=o).indexId,collectionGroup:y.collectionGroup,fields:y.fields.map(D=>[D.fieldPath.canonicalString(),D.kind])};var y;return delete g.indexId,h.add(g).next()}deleteFieldIndex(i,o){const h=Bp(i),g=yh(i),y=Od(i);return h.delete(o.indexId).next(()=>g.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0)))}getDocumentsMatchingTarget(i,o){const h=Od(i);let g=!0;const y=new Map;return $t.forEach(this.Qe(o),D=>this.getFieldIndex(i,D).next(B=>{g&&(g=!!B),y.set(D,B)})).next(()=>{if(g){let D=ts();const B=[];return $t.forEach(y,(J,ie)=>{var ze;F("IndexedDbIndexManager",`Using index ${ze=J,`id=${ze.indexId}|cg=${ze.collectionGroup}|f=${ze.fields.map(ls=>`${ls.fieldPath}:${ls.kind}`).join(",")}`} to execute ${qo(o)}`);const dt=function(ls,zs){const Cs=wt(zs);if(void 0===Cs)return null;for(const Ws of ua(ls,Cs.fieldPath))switch(Ws.op){case"array-contains-any":return Ws.value.arrayValue.values||[];case"array-contains":return[Ws.value]}return null}(ie,J),kt=function(ls,zs){const Cs=new Map;for(const Ws of Nt(zs))for(const uo of ua(ls,Ws.fieldPath))switch(uo.op){case"==":case"in":Cs.set(Ws.fieldPath.canonicalString(),uo.value);break;case"not-in":case"!=":return Cs.set(Ws.fieldPath.canonicalString(),uo.value),Array.from(Cs.values())}return null}(ie,J),Qt=function(ls,zs){const Cs=[];let Ws=!0;for(const uo of Nt(zs)){const Yh=0===uo.kind?Rl(ls,uo.fieldPath,ls.startAt):rh(ls,uo.fieldPath,ls.startAt);if(!Yh.value)return null;Cs.push(Yh.value),Ws&&(Ws=Yh.inclusive)}return new rc(Cs,Ws)}(ie,J),rn=function(ls,zs){const Cs=[];let Ws=!0;for(const uo of Nt(zs)){const Yh=0===uo.kind?rh(ls,uo.fieldPath,ls.endAt):Rl(ls,uo.fieldPath,ls.endAt);if(!Yh.value)return null;Cs.push(Yh.value),Ws&&(Ws=Yh.inclusive)}return new rc(Cs,Ws)}(ie,J),Fn=this.je(J,ie,Qt),Si=this.je(J,ie,rn),Ls=this.We(J,ie,kt),vo=this.ze(J.indexId,dt,Fn,!!Qt&&Qt.inclusive,Si,!!rn&&rn.inclusive,Ls);return $t.forEach(vo,ls=>h.Gt(ls,o.limit).next(zs=>{zs.forEach(Cs=>{const Ws=vn.fromSegments(Cs.documentKey);D.has(Ws)||(D=D.add(Ws),B.push(Ws))})}))}).next(()=>B)}return $t.resolve(null)})}Qe(i){let o=this.Ge.get(i);return o||(o=[i],this.Ge.set(i,o),o)}ze(i,o,h,g,y,D,B){const J=(null!=o?o.length:1)*Math.max(null!=h?h.length:1,null!=y?y.length:1),ie=J/(null!=o?o.length:1),ze=[];for(let dt=0;dt<J;++dt){const kt=o?this.He(o[dt/ie]):xd,Qt=h?this.Je(i,kt,h[dt%ie],g):this.Ye(i),rn=y?this.Xe(i,kt,y[dt%ie],D):this.Ye(i+1);ze.push(...this.createRange(Qt,rn,B.map(Fn=>this.Je(i,kt,Fn,!0))))}return ze}Je(i,o,h,g){const y=new yu(i,vn.empty(),o,h);return g?y:y.ke()}Xe(i,o,h,g){const y=new yu(i,vn.empty(),o,h);return g?y.ke():y}Ye(i){return new yu(i,vn.empty(),xd,xd)}getFieldIndex(i,o){const h=new Gi(o),g=null!=o.collectionGroup?o.collectionGroup:o.path.lastSegment();return this.getFieldIndexes(i,g).next(y=>{const D=y.filter(B=>h.$e(B));return D.sort((B,J)=>J.fields.length-B.fields.length),D.length>0?D[0]:null})}Ze(i,o){const h=new Sd;for(const g of Nt(i)){const y=o.data.field(g.fieldPath);if(null==y)return null;const D=h.Ne(g.kind);Yu.fe.Zt(y,D)}return h.Se()}He(i){const o=new Sd;return Yu.fe.Zt(i,o.Ne(0)),o.Se()}tn(i,o){const h=new Sd;return Yu.fe.Zt(la(this.databaseId,o),h.Ne(function(g){const y=Nt(g);return 0===y.length?0:y[y.length-1].kind}(i))),h.Se()}We(i,o,h){if(null===h)return[];let g=[];g.push(new Sd);let y=0;for(const D of Nt(i)){const B=h[y++];for(const J of g)if(this.en(o,D.fieldPath)&&La(B))g=this.nn(g,D,B);else{const ie=J.Ne(D.kind);Yu.fe.Zt(B,ie)}}return this.sn(g)}je(i,o,h){return null==h?null:this.We(i,o,h.position)}sn(i){const o=[];for(let h=0;h<i.length;++h)o[h]=i[h].Se();return o}nn(i,o,h){const g=[...i],y=[];for(const D of h.arrayValue.values||[])for(const B of g){const J=new Sd;J.seed(B.Se()),Yu.fe.Zt(D,J.Ne(o.kind)),y.push(J)}return y}en(i,o){return!!i.filters.find(h=>h instanceof fo&&h.field.isEqual(o)&&("in"===h.op||"not-in"===h.op))}getFieldIndexes(i,o){const h=Bp(i),g=yh(i);return(o?h.qt("collectionGroupIndex",IDBKeyRange.bound(o,o)):h.qt()).next(y=>{const D=[];return $t.forEach(y,B=>g.get([B.indexId,this.uid]).next(J=>{D.push(function(ie,ze){const dt=ze?new On(ze.sequenceNumber,new Ki(_u(ze.readTime),new vn(Po(ze.documentKey)),ze.largestBatchId)):On.empty(),kt=ie.fields.map(([Qt,rn])=>new an(Os.fromServerFormat(Qt),rn));return new Ge(ie.indexId,ie.collectionGroup,kt,dt)}(B,J))})).next(()=>D)})}getNextCollectionGroupToUpdate(i){return this.getFieldIndexes(i).next(o=>0===o.length?null:(o.sort((h,g)=>{const y=h.indexState.sequenceNumber-g.indexState.sequenceNumber;return 0!==y?y:vi(h.collectionGroup,g.collectionGroup)}),o[0].collectionGroup))}updateCollectionGroup(i,o,h){const g=Bp(i),y=yh(i);return this.rn(i).next(D=>g.qt("collectionGroupIndex",IDBKeyRange.bound(o,o)).next(B=>$t.forEach(B,J=>{return y.put({indexId:J.indexId,uid:this.user.uid||"",sequenceNumber:D,readTime:mu((kt=h).readTime),documentKey:Zo(kt.documentKey.path),largestBatchId:kt.largestBatchId});var kt})))}updateIndexEntries(i,o){const h=new Map;return $t.forEach(o,(g,y)=>{const D=h.get(g.collectionGroup);return(D?$t.resolve(D):this.getFieldIndexes(i,g.collectionGroup)).next(B=>(h.set(g.collectionGroup,B),$t.forEach(B,J=>this.on(i,g,J).next(ie=>{const ze=this.un(y,J);return ie.isEqual(ze)?$t.resolve():this.an(i,y,J,ie,ze)}))))})}cn(i,o,h,g){return Od(i).put({indexId:g.indexId,uid:this.uid,arrayValue:g.arrayValue,directionalValue:g.directionalValue,orderedDocumentKey:this.tn(h,o.key),documentKey:o.key.path.toArray()})}hn(i,o,h,g){return Od(i).delete([g.indexId,this.uid,g.arrayValue,g.directionalValue,this.tn(h,o.key),o.key.path.toArray()])}on(i,o,h){const g=Od(i);let y=new Ps(Md);return g.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([h.indexId,this.uid,this.tn(h,o)])},(D,B)=>{y=y.add(new yu(h.indexId,o,B.arrayValue,B.directionalValue))}).next(()=>y)}un(i,o){let h=new Ps(Md);const g=this.Ze(o,i);if(null==g)return h;const y=wt(o);if(null!=y){const D=i.data.field(y.fieldPath);if(La(D))for(const B of D.arrayValue.values||[])h=h.add(new yu(o.indexId,i.key,this.He(B),g))}else h=h.add(new yu(o.indexId,i.key,xd,g));return h}an(i,o,h,g,y){F("IndexedDbIndexManager","Updating index entries for document '%s'",o.key);const D=[];return function(B,J,ie,ze,dt){const kt=B.getIterator(),Qt=J.getIterator();let rn=Pc(kt),Fn=Pc(Qt);for(;rn||Fn;){let Si=!1,Ls=!1;if(rn&&Fn){const vo=ie(rn,Fn);vo<0?Ls=!0:vo>0&&(Si=!0)}else null!=rn?Ls=!0:Si=!0;Si?(ze(Fn),Fn=Pc(Qt)):Ls?(dt(rn),rn=Pc(kt)):(rn=Pc(kt),Fn=Pc(Qt))}}(g,y,Md,B=>{D.push(this.cn(i,o,h,B))},B=>{D.push(this.hn(i,o,h,B))}),$t.waitFor(D)}rn(i){let o=1;return yh(i).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(h,g,y)=>{y.done(),o=g.sequenceNumber+1}).next(()=>o)}createRange(i,o,h){h=h.sort((D,B)=>Md(D,B)).filter((D,B,J)=>!B||0!==Md(D,J[B-1]));const g=[];g.push(i);for(const D of h){const B=Md(D,i),J=Md(D,o);if(0===B)g[0]=i.ke();else if(B>0&&J<0)g.push(D),g.push(D.ke());else if(J>0)break}g.push(o);const y=[];for(let D=0;D<g.length;D+=2)y.push(IDBKeyRange.bound([g[D].indexId,this.uid,g[D].arrayValue,g[D].directionalValue,xd,[]],[g[D+1].indexId,this.uid,g[D+1].arrayValue,g[D+1].directionalValue,xd,[]]));return y}}function Wl(c){return ko(c,"collectionParents")}function Od(c){return ko(c,"indexEntries")}function Bp(c){return ko(c,"indexConfiguration")}function yh(c){return ko(c,"indexState")}const Vc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yo{constructor(i,o,h){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=h}static withCacheSize(i){return new Yo(i,Yo.DEFAULT_COLLECTION_PERCENTILE,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Up(c,i,o){const h=c.store("mutations"),g=c.store("documentMutations"),y=[],D=IDBKeyRange.only(o.batchId);let B=0;const J=h.Wt({range:D},(ze,dt,kt)=>(B++,kt.delete()));y.push(J.next(()=>{at(1===B)}));const ie=[];for(const ze of o.mutations){const dt=mf(i,ze.key.path,o.batchId);y.push(g.delete(dt)),ie.push(ze.key)}return $t.waitFor(y).next(()=>ie)}function vh(c){if(!c)return 0;let i;if(c.document)i=c.document;else if(c.unknownDocument)i=c.unknownDocument;else{if(!c.noDocument)throw pe();i=c.noDocument}return JSON.stringify(i).length}Yo.DEFAULT_COLLECTION_PERCENTILE=10,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yo.DEFAULT=new Yo(41943040,Yo.DEFAULT_COLLECTION_PERCENTILE,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yo.DISABLED=new Yo(-1,0,0);class Nd{constructor(i,o,h,g){this.userId=i,this.M=o,this.indexManager=h,this.referenceDelegate=g,this.ln={}}static Yt(i,o,h,g){at(""!==i.uid);const y=i.isAuthenticated()?i.uid:"";return new Nd(y,o,h,g)}checkEmpty(i){let o=!0;const h=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rd(i).Wt({index:"userMutationsIndex",range:h},(g,y,D)=>{o=!1,D.done()}).next(()=>o)}addMutationBatch(i,o,h,g){const y=cc(i),D=Rd(i);return D.add({}).next(B=>{at("number"==typeof B);const J=new Zu(B,o,h,g),ie=function(kt,Qt,rn){const Fn=rn.baseMutations.map(Ls=>zu(kt.Jt,Ls)),Si=rn.mutations.map(Ls=>zu(kt.Jt,Ls));return{userId:Qt,batchId:rn.batchId,localWriteTimeMs:rn.localWriteTime.toMillis(),baseMutations:Fn,mutations:Si}}(this.M,this.userId,J),ze=[];let dt=new Ps((kt,Qt)=>vi(kt.canonicalString(),Qt.canonicalString()));for(const kt of g){const Qt=mf(this.userId,kt.key.path,B);dt=dt.add(kt.key.path.popLast()),ze.push(D.put(ie)),ze.push(y.put(Qt,ph))}return dt.forEach(kt=>{ze.push(this.indexManager.addToCollectionParentIndex(i,kt))}),i.addOnCommittedListener(()=>{this.ln[B]=J.keys()}),$t.waitFor(ze).next(()=>J)})}lookupMutationBatch(i,o){return Rd(i).get(o).next(h=>h?(at(h.userId===this.userId),Bc(this.M,h)):null)}fn(i,o){return this.ln[o]?$t.resolve(this.ln[o]):this.lookupMutationBatch(i,o).next(h=>{if(h){const g=h.keys();return this.ln[o]=g,g}return null})}getNextMutationBatchAfterBatchId(i,o){const h=o+1,g=IDBKeyRange.lowerBound([this.userId,h]);let y=null;return Rd(i).Wt({index:"userMutationsIndex",range:g},(D,B,J)=>{B.userId===this.userId&&(at(B.batchId>=h),y=Bc(this.M,B)),J.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(i){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let h=-1;return Rd(i).Wt({index:"userMutationsIndex",range:o,reverse:!0},(g,y,D)=>{h=y.batchId,D.done()}).next(()=>h)}getAllMutationBatches(i){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rd(i).qt("userMutationsIndex",o).next(h=>h.map(g=>Bc(this.M,g)))}getAllMutationBatchesAffectingDocumentKey(i,o){const h=fh(this.userId,o.path),g=IDBKeyRange.lowerBound(h),y=[];return cc(i).Wt({range:g},(D,B,J)=>{const[ie,ze,dt]=D,kt=Po(ze);if(ie===this.userId&&o.path.isEqual(kt))return Rd(i).get(dt).next(Qt=>{if(!Qt)throw pe();at(Qt.userId===this.userId),y.push(Bc(this.M,Qt))});J.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(i,o){let h=new Ps(vi);const g=[];return o.forEach(y=>{const D=fh(this.userId,y.path),B=IDBKeyRange.lowerBound(D),J=cc(i).Wt({range:B},(ie,ze,dt)=>{const[kt,Qt,rn]=ie,Fn=Po(Qt);kt===this.userId&&y.path.isEqual(Fn)?h=h.add(rn):dt.done()});g.push(J)}),$t.waitFor(g).next(()=>this.dn(i,h))}getAllMutationBatchesAffectingQuery(i,o){const h=o.path,g=h.length+1,y=fh(this.userId,h),D=IDBKeyRange.lowerBound(y);let B=new Ps(vi);return cc(i).Wt({range:D},(J,ie,ze)=>{const[dt,kt,Qt]=J,rn=Po(kt);dt===this.userId&&h.isPrefixOf(rn)?rn.length===g&&(B=B.add(Qt)):ze.done()}).next(()=>this.dn(i,B))}dn(i,o){const h=[],g=[];return o.forEach(y=>{g.push(Rd(i).get(y).next(D=>{if(null===D)throw pe();at(D.userId===this.userId),h.push(Bc(this.M,D))}))}),$t.waitFor(g).next(()=>h)}removeMutationBatch(i,o){return Up(i.Ht,this.userId,o).next(h=>(i.addOnCommittedListener(()=>{this._n(o.batchId)}),$t.forEach(h,g=>this.referenceDelegate.markPotentiallyOrphaned(i,g))))}_n(i){delete this.ln[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(o=>{if(!o)return $t.resolve();const h=IDBKeyRange.lowerBound([this.userId]),g=[];return cc(i).Wt({range:h},(y,D,B)=>{if(y[0]===this.userId){const J=Po(y[1]);g.push(J)}else B.done()}).next(()=>{at(0===g.length)})})}containsKey(i,o){return $c(i,this.userId,o)}wn(i){return Ku(i).get(this.userId).next(o=>o||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $c(c,i,o){const h=fh(i,o.path),g=h[1],y=IDBKeyRange.lowerBound(h);let D=!1;return cc(c).Wt({range:y,jt:!0},(B,J,ie)=>{const[ze,dt,kt]=B;ze===i&&dt===g&&(D=!0),ie.done()}).next(()=>D)}function Rd(c){return ko(c,"mutations")}function cc(c){return ko(c,"documentMutations")}function Ku(c){return ko(c,"mutationQueues")}class vu{constructor(i){this.mn=i}next(){return this.mn+=2,this.mn}static gn(){return new vu(0)}static yn(){return new vu(-1)}}class Ju{constructor(i,o){this.referenceDelegate=i,this.M=o}allocateTargetId(i){return this.pn(i).next(o=>{const h=new vu(o.highestTargetId);return o.highestTargetId=h.next(),this.In(i,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.pn(i).next(o=>mi.fromTimestamp(new Zr(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.pn(i).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(i,o,h){return this.pn(i).next(g=>(g.highestListenSequenceNumber=o,h&&(g.lastRemoteSnapshotVersion=h.toTimestamp()),o>g.highestListenSequenceNumber&&(g.highestListenSequenceNumber=o),this.In(i,g)))}addTargetData(i,o){return this.Tn(i,o).next(()=>this.pn(i).next(h=>(h.targetCount+=1,this.En(o,h),this.In(i,h))))}updateTargetData(i,o){return this.Tn(i,o)}removeTargetData(i,o){return this.removeMatchingKeysForTargetId(i,o.targetId).next(()=>Qu(i).delete(o.targetId)).next(()=>this.pn(i)).next(h=>(at(h.targetCount>0),h.targetCount-=1,this.In(i,h)))}removeTargets(i,o,h){let g=0;const y=[];return Qu(i).Wt((D,B)=>{const J=Uc(B);J.sequenceNumber<=o&&null===h.get(J.targetId)&&(g++,y.push(this.removeTargetData(i,J)))}).next(()=>$t.waitFor(y)).next(()=>g)}forEachTarget(i,o){return Qu(i).Wt((h,g)=>{const y=Uc(g);o(y)})}pn(i){return fy(i).get("targetGlobalKey").next(o=>(at(null!==o),o))}In(i,o){return fy(i).put("targetGlobalKey",o)}Tn(i,o){return Qu(i).put(Rp(this.M,o))}En(i,o){let h=!1;return i.targetId>o.highestTargetId&&(o.highestTargetId=i.targetId,h=!0),i.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=i.sequenceNumber,h=!0),h}getTargetCount(i){return this.pn(i).next(o=>o.targetCount)}getTargetData(i,o){const h=qo(o),g=IDBKeyRange.bound([h,Number.NEGATIVE_INFINITY],[h,Number.POSITIVE_INFINITY]);let y=null;return Qu(i).Wt({range:g,index:"queryTargetsIndex"},(D,B,J)=>{const ie=Uc(B);Ta(o,ie.target)&&(y=ie,J.done())}).next(()=>y)}addMatchingKeys(i,o,h){const g=[],y=bu(i);return o.forEach(D=>{const B=Zo(D.path);g.push(y.put({targetId:h,path:B})),g.push(this.referenceDelegate.addReference(i,h,D))}),$t.waitFor(g)}removeMatchingKeys(i,o,h){const g=bu(i);return $t.forEach(o,y=>{const D=Zo(y.path);return $t.waitFor([g.delete([h,D]),this.referenceDelegate.removeReference(i,h,y)])})}removeMatchingKeysForTargetId(i,o){const h=bu(i),g=IDBKeyRange.bound([o],[o+1],!1,!0);return h.delete(g)}getMatchingKeysForTargetId(i,o){const h=IDBKeyRange.bound([o],[o+1],!1,!0),g=bu(i);let y=ts();return g.Wt({range:h,jt:!0},(D,B,J)=>{const ie=Po(D[1]),ze=new vn(ie);y=y.add(ze)}).next(()=>y)}containsKey(i,o){const h=Zo(o.path),g=IDBKeyRange.bound([h],[Lu(h)],!1,!0);let y=0;return bu(i).Wt({index:"documentTargetsIndex",jt:!0,range:g},([D,B],J,ie)=>{0!==D&&(y++,ie.done())}).next(()=>y>0)}Et(i,o){return Qu(i).get(o).next(h=>h?Uc(h):null)}}function Qu(c){return ko(c,"targets")}function fy(c){return ko(c,"targetGlobal")}function bu(c){return ko(c,"targetDocuments")}function Xu(c){return bh.apply(this,arguments)}function bh(){return bh=(0,_e.Z)(function*(c){if(c.code!==gt.FAILED_PRECONDITION||c.message!==Mp)throw c;F("LocalStore","Unexpectedly lost primary lease")}),bh.apply(this,arguments)}function Vp([c,i],[o,h]){const g=vi(c,o);return 0===g?vi(i,h):g}class $p{constructor(i){this.An=i,this.buffer=new Ps(Vp),this.Rn=0}Pn(){return++this.Rn}bn(i){const o=[i,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(o);else{const h=this.buffer.last();Vp(o,h)<0&&(this.buffer=this.buffer.delete(h).add(o))}}get maxValue(){return this.buffer.last()[0]}}class Jb{constructor(i,o){this.garbageCollector=i,this.asyncQueue=o,this.Vn=!1,this.vn=null}start(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(i)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(i){var o=this;const h=this.Vn?3e5:6e4;F("LruGarbageCollector",`Garbage collection scheduled in ${h}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",h,(0,_e.Z)(function*(){o.vn=null,o.Vn=!0;try{yield i.collectGarbage(o.garbageCollector)}catch(g){lc(g)?F("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",g):yield Xu(g)}yield o.Sn(i)}))}}class f0{constructor(i,o){this.Dn=i,this.params=o}calculateTargetCount(i,o){return this.Dn.Cn(i).next(h=>Math.floor(o/100*h))}nthSequenceNumber(i,o){if(0===o)return $t.resolve(xo.A);const h=new $p(o);return this.Dn.forEachTarget(i,g=>h.bn(g.sequenceNumber)).next(()=>this.Dn.xn(i,g=>h.bn(g))).next(()=>h.maxValue)}removeTargets(i,o,h){return this.Dn.removeTargets(i,o,h)}removeOrphanedDocuments(i,o){return this.Dn.removeOrphanedDocuments(i,o)}collect(i,o){return-1===this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector","Garbage collection skipped; disabled"),$t.resolve(Vc)):this.getCacheSize(i).next(h=>h<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${h} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vc):this.Nn(i,o))}getCacheSize(i){return this.Dn.getCacheSize(i)}Nn(i,o){let h,g,y,D,B,J,ie;const ze=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(dt=>(dt>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${dt}`),g=this.params.maximumSequenceNumbersToCollect):g=dt,D=Date.now(),this.nthSequenceNumber(i,g))).next(dt=>(h=dt,B=Date.now(),this.removeTargets(i,h,o))).next(dt=>(y=dt,J=Date.now(),this.removeOrphanedDocuments(i,h))).next(dt=>(ie=Date.now(),O()<=Qe.in.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-ze}ms\n\tDetermined least recently used ${g} in `+(B-D)+`ms\n\tRemoved ${y} targets in `+(J-B)+`ms\n\tRemoved ${dt} documents in `+(ie-J)+`ms\nTotal Duration: ${ie-ze}ms`),$t.resolve({didRun:!0,sequenceNumbersCollected:g,targetsRemoved:y,documentsRemoved:dt})))}}class py{constructor(i,o){this.db=i,this.garbageCollector=new f0(this,o)}Cn(i){const o=this.kn(i);return this.db.getTargetCache().getTargetCount(i).next(h=>o.next(g=>h+g))}kn(i){let o=0;return this.xn(i,h=>{o++}).next(()=>o)}forEachTarget(i,o){return this.db.getTargetCache().forEachTarget(i,o)}xn(i,o){return this.Mn(i,(h,g)=>o(g))}addReference(i,o,h){return wf(i,h)}removeReference(i,o,h){return wf(i,h)}removeTargets(i,o,h){return this.db.getTargetCache().removeTargets(i,o,h)}markPotentiallyOrphaned(i,o){return wf(i,o)}On(i,o){return function(h,g){let y=!1;return Ku(h).zt(D=>$c(h,D,g).next(B=>(B&&(y=!0),$t.resolve(!B)))).next(()=>y)}(i,o)}removeOrphanedDocuments(i,o){const h=this.db.getRemoteDocumentCache().newChangeBuffer(),g=[];let y=0;return this.Mn(i,(D,B)=>{if(B<=o){const J=this.On(i,D).next(ie=>{if(!ie)return y++,h.getEntry(i,D).next(()=>(h.removeEntry(D,mi.min()),bu(i).delete([0,Zo(D.path)])))});g.push(J)}}).next(()=>$t.waitFor(g)).next(()=>h.apply(i)).next(()=>y)}removeTarget(i,o){const h=o.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,h)}updateLimboDocument(i,o){return wf(i,o)}Mn(i,o){const h=bu(i);let g,y=xo.A;return h.Wt({index:"documentTargetsIndex"},([D,B],{path:J,sequenceNumber:ie})=>{0===D?(y!==xo.A&&o(new vn(Po(g)),y),y=ie,g=J):y=xo.A}).next(()=>{y!==xo.A&&o(new vn(Po(g)),y)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function wf(c,i){return bu(c).put((h=c.currentSequenceNumber,{targetId:0,path:Zo(i.path),sequenceNumber:h}));var h}class Hp{constructor(){this.changes=new Vl(i=>i.toString(),(i,o)=>i.isEqual(o)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,o){this.assertNotApplied(),this.changes.set(i,te.newInvalidDocument(i).setReadTime(o))}getEntry(i,o){this.assertNotApplied();const h=this.changes.get(o);return void 0!==h?$t.resolve(h):this.getFromCache(i,o)}getEntries(i,o){return this.getAllFromCache(i,o)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class gy{constructor(i){this.M=i}setIndexManager(i){this.indexManager=i}addEntry(i,o,h){return Fo(i).put(h)}removeEntry(i,o,h){return Fo(i).delete(function(g,y){const D=g.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],Np(y),D[D.length-1]]}(o,h))}updateMetadata(i,o){return this.getMetadata(i).next(h=>(h.byteSize+=o,this.Fn(i,h)))}getEntry(i,o){let h=te.newInvalidDocument(o);return Fo(i).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Pd(o))},(g,y)=>{h=this.$n(o,y)}).next(()=>h)}Bn(i,o){let h={size:0,document:te.newInvalidDocument(o)};return Fo(i).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Pd(o))},(g,y)=>{h={document:this.$n(o,y),size:vh(y)}}).next(()=>h)}getEntries(i,o){let h=$l();return this.Ln(i,o,(g,y)=>{const D=this.$n(g,y);h=h.insert(g,D)}).next(()=>h)}Un(i,o){let h=$l(),g=new Gs(vn.comparator);return this.Ln(i,o,(y,D)=>{const B=this.$n(y,D);h=h.insert(y,B),g=g.insert(y,vh(D))}).next(()=>({documents:h,qn:g}))}Ln(i,o,h){if(o.isEmpty())return $t.resolve();let g=new Ps(Gp);o.forEach(J=>g=g.add(J));const y=IDBKeyRange.bound(Pd(g.first()),Pd(g.last())),D=g.getIterator();let B=D.getNext();return Fo(i).Wt({index:"documentKeyIndex",range:y},(J,ie,ze)=>{const dt=vn.fromSegments([...ie.prefixPath,ie.collectionGroup,ie.documentId]);for(;B&&Gp(B,dt)<0;)h(B,null),B=D.getNext();B&&B.isEqual(dt)&&(h(B,ie),B=D.hasNext()?D.getNext():null),B?ze.Ut(Pd(B)):ze.done()}).next(()=>{for(;B;)h(B,null),B=D.hasNext()?D.getNext():null})}getAllFromCollection(i,o,h){const g=[o.popLast().toArray(),o.lastSegment(),Np(h.readTime),h.documentKey.path.isEmpty()?"":h.documentKey.path.lastSegment()],y=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fo(i).qt(IDBKeyRange.bound(g,y,!0)).next(D=>{let B=$l();for(const J of D){const ie=this.$n(vn.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);B=B.insert(ie.key,ie)}return B})}getAllFromCollectionGroup(i,o,h,g){let y=$l();const D=ed(o,h),B=ed(o,Ki.max());return Fo(i).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(D,B,!0)},(J,ie,ze)=>{const dt=this.$n(vn.fromSegments(ie.prefixPath.concat(ie.collectionGroup,ie.documentId)),ie);y=y.insert(dt.key,dt),y.size===g&&ze.done()}).next(()=>y)}newChangeBuffer(i){return new jp(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(o=>o.byteSize)}getMetadata(i){return my(i).get("remoteDocumentGlobalKey").next(o=>(at(!!o),o))}Fn(i,o){return my(i).put("remoteDocumentGlobalKey",o)}$n(i,o){if(o){const h=function zl(c,i){let o;if(i.document)o=em(c.Jt,i.document,!!i.hasCommittedMutations);else if(i.noDocument){const h=vn.fromSegments(i.noDocument.path),g=_u(i.noDocument.readTime);o=te.newNoDocument(h,g),i.hasCommittedMutations&&o.setHasCommittedMutations()}else{if(!i.unknownDocument)return pe();{const h=vn.fromSegments(i.unknownDocument.path),g=_u(i.unknownDocument.version);o=te.newUnknownDocument(h,g)}}return i.readTime&&o.setReadTime(function(h){const g=new Zr(h[0],h[1]);return mi.fromTimestamp(g)}(i.readTime)),o}(this.M,o);if(!h.isNoDocument()||!h.version.isEqual(mi.min()))return h}return te.newInvalidDocument(i)}}class jp extends Hp{constructor(i,o){super(),this.Kn=i,this.trackRemovals=o,this.Gn=new Vl(h=>h.toString(),(h,g)=>h.isEqual(g))}applyChanges(i){const o=[];let h=0,g=new Ps((y,D)=>vi(y.canonicalString(),D.canonicalString()));return this.changes.forEach((y,D)=>{const B=this.Gn.get(y);if(o.push(this.Kn.removeEntry(i,y,B.readTime)),D.isValidDocument()){const J=Lc(this.Kn.M,D);g=g.add(y.path.popLast()),h+=vh(J)-B.size,o.push(this.Kn.addEntry(i,y,J))}else if(h-=B.size,this.trackRemovals){const J=Lc(this.Kn.M,D.convertToNoDocument(mi.min()));o.push(this.Kn.addEntry(i,y,J))}}),g.forEach(y=>{o.push(this.Kn.indexManager.addToCollectionParentIndex(i,y))}),o.push(this.Kn.updateMetadata(i,h)),$t.waitFor(o)}getFromCache(i,o){return this.Kn.Bn(i,o).next(h=>(this.Gn.set(o,{size:h.size,readTime:h.document.readTime}),h.document))}getAllFromCache(i,o){return this.Kn.Un(i,o).next(({documents:h,qn:g})=>(g.forEach((y,D)=>{this.Gn.set(y,{size:D,readTime:h.get(y).readTime})}),h))}}function my(c){return ko(c,"remoteDocumentGlobal")}function Fo(c){return ko(c,"remoteDocumentsV14")}function Pd(c){const i=c.path.toArray();return[i.slice(0,i.length-2),i[i.length-2],i[i.length-1]]}function ed(c,i){const o=i.documentKey.path.toArray();return[c,Np(i.readTime),o.slice(0,o.length-2),o.length>0?o[o.length-1]:""]}function Gp(c,i){const o=c.path.toArray(),h=i.path.toArray();let g=0;for(let y=0;y<o.length-2&&y<h.length-2;++y)if(g=vi(o[y],h[y]),g)return g;return g=vi(o.length,h.length),g||(g=vi(o[o.length-2],h[h.length-2]),g||vi(o[o.length-1],h[h.length-1]))}class uc{constructor(i){this.M=i}kt(i,o,h,g){const y=new jl("createOrUpgrade",o);var B;h<1&&g>=1&&(i.createObjectStore("owner"),(B=i).createObjectStore("mutationQueues",{keyPath:"userId"}),B.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ap,{unique:!0}),B.createObjectStore("documentMutations"),kd(i),function(B){B.createObjectStore("remoteDocuments")}(i));let D=$t.resolve();return h<3&&g>=3&&(0!==h&&(function(B){B.deleteObjectStore("targetDocuments"),B.deleteObjectStore("targets"),B.deleteObjectStore("targetGlobal")}(i),kd(i)),D=D.next(()=>function(B){const J=B.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mi.min().toTimestamp(),targetCount:0};return J.put("targetGlobalKey",ie)}(y))),h<4&&g>=4&&(0!==h&&(D=D.next(()=>function(B,J){return J.store("mutations").qt().next(ie=>{B.deleteObjectStore("mutations"),B.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ap,{unique:!0});const ze=J.store("mutations"),dt=ie.map(kt=>ze.put(kt));return $t.waitFor(dt)})}(i,y))),D=D.next(()=>{!function(B){B.createObjectStore("clientMetadata",{keyPath:"clientId"})}(i)})),h<5&&g>=5&&(D=D.next(()=>this.Qn(y))),h<6&&g>=6&&(D=D.next(()=>(function(B){B.createObjectStore("remoteDocumentGlobal")}(i),this.jn(y)))),h<7&&g>=7&&(D=D.next(()=>this.Wn(y))),h<8&&g>=8&&(D=D.next(()=>this.zn(i,y))),h<9&&g>=9&&(D=D.next(()=>{!function(B){B.objectStoreNames.contains("remoteDocumentChanges")&&B.deleteObjectStore("remoteDocumentChanges")}(i)})),h<10&&g>=10&&(D=D.next(()=>this.Hn(y))),h<11&&g>=11&&(D=D.next(()=>{(function(B){B.createObjectStore("bundles",{keyPath:"bundleId"})})(i),function(B){B.createObjectStore("namedQueries",{keyPath:"name"})}(i)})),h<12&&g>=12&&(D=D.next(()=>{!function(B){const J=B.createObjectStore("documentOverlays",{keyPath:u0});J.createIndex("collectionPathOverlayIndex",oy,{unique:!1}),J.createIndex("collectionGroupOverlayIndex",ay,{unique:!1})}(i)})),h<13&&g>=13&&(D=D.next(()=>function(B){const J=B.createObjectStore("remoteDocumentsV14",{keyPath:_f});J.createIndex("documentKeyIndex",ry),J.createIndex("collectionGroupIndex",Wu)}(i)).next(()=>this.Jn(i,y)).next(()=>i.deleteObjectStore("remoteDocuments"))),h<14&&g>=14&&(D=D.next(()=>{!function(B){B.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),B.createObjectStore("indexState",{keyPath:l0}).createIndex("sequenceNumberIndex",c0,{unique:!1}),B.createObjectStore("indexEntries",{keyPath:sm}).createIndex("documentKeyIndex",om,{unique:!1})}(i)})),D}jn(i){let o=0;return i.store("remoteDocuments").Wt((h,g)=>{o+=vh(g)}).next(()=>{const h={byteSize:o};return i.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",h)})}Qn(i){const o=i.store("mutationQueues"),h=i.store("mutations");return o.qt().next(g=>$t.forEach(g,y=>{const D=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return h.qt("userMutationsIndex",D).next(B=>$t.forEach(B,J=>{at(J.userId===y.userId);const ie=Bc(this.M,J);return Up(i,y.userId,ie).next(()=>{})}))}))}Wn(i){const o=i.store("targetDocuments"),h=i.store("remoteDocuments");return i.store("targetGlobal").get("targetGlobalKey").next(g=>{const y=[];return h.Wt((D,B)=>{const J=new ir(D),ie=[0,Zo(J)];y.push(o.get(ie).next(ze=>ze?$t.resolve():o.put({targetId:0,path:Zo(J),sequenceNumber:g.highestListenSequenceNumber})))}).next(()=>$t.waitFor(y))})}zn(i,o){i.createObjectStore("collectionParents",{keyPath:rm});const h=o.store("collectionParents"),g=new _h,y=D=>{if(g.add(D)){const B=D.lastSegment(),J=D.popLast();return h.put({collectionId:B,parent:Zo(J)})}};return o.store("remoteDocuments").Wt({jt:!0},(D,B)=>{const J=new ir(D);return y(J.popLast())}).next(()=>o.store("documentMutations").Wt({jt:!0},([D,B,J],ie)=>{const ze=Po(B);return y(ze.popLast())}))}Hn(i){const o=i.store("targets");return o.Wt((h,g)=>{const y=Uc(g),D=Rp(this.M,y);return o.put(D)})}Jn(i,o){const h=o.store("remoteDocuments"),g=[];return h.Wt((y,D)=>{const B=o.store("remoteDocumentsV14"),J=(ie=D,ie.document?new vn(ir.fromString(ie.document.name).popFirst(5)):ie.noDocument?vn.fromSegments(ie.noDocument.path):ie.unknownDocument?vn.fromSegments(ie.unknownDocument.path):pe()).path.toArray();var ie;const ze={prefixPath:J.slice(0,J.length-2),collectionGroup:J[J.length-2],documentId:J[J.length-1],readTime:D.readTime||[0,0],unknownDocument:D.unknownDocument,noDocument:D.noDocument,document:D.document,hasCommittedMutations:!!D.hasCommittedMutations};g.push(B.put(ze))}).next(()=>$t.waitFor(g))}}function kd(c){c.createObjectStore("targetDocuments",{keyPath:sy}).createIndex("documentTargetsIndex",vf,{unique:!0}),c.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yf,{unique:!0}),c.createObjectStore("targetGlobal")}const dm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hm{constructor(i,o,h,g,y,D,B,J,ie,ze,dt=13){if(this.allowTabSynchronization=i,this.persistenceKey=o,this.clientId=h,this.Yn=y,this.window=D,this.document=B,this.Xn=ie,this.Zn=ze,this.ts=dt,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=kt=>Promise.resolve(),!hm.vt())throw new Ut(gt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new py(this,g),this.hs=o+"main",this.M=new Ad(J),this.ls=new ml(this.hs,this.ts,new uc(this.M)),this.fs=new Ju(this.referenceDelegate,this.M),this.ds=new gy(this.M),this._s=new Pp,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===ze&&Y("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ut(gt.FAILED_PRECONDITION,dm);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.fs.getHighestSequenceNumber(i))}).then(i=>{this.es=new xo(i,this.Xn)}).then(()=>{this.ns=!0}).catch(i=>(this.ls&&this.ls.close(),Promise.reject(i)))}Ts(i){var o=this;return this.cs=function(){var h=(0,_e.Z)(function*(g){if(o.started)return i(g)});return function(g){return h.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.ls.Ot(function(){var o=(0,_e.Z)(function*(h){null===h.newVersion&&(yield i())});return function(h){return o.apply(this,arguments)}}())}setNetworkEnabled(i){var o=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Yn.enqueueAndForget((0,_e.Z)(function*(){o.started&&(yield o.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>jc(i).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(i).next(o=>{o||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(i)).next(o=>this.isPrimary&&!o?this.Rs(i).next(()=>!1):!!o&&this.Ps(i).next(()=>!0))).catch(i=>{if(lc(i))return F("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return F("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Yn.enqueueRetryable(()=>this.cs(i)),this.isPrimary=i})}Es(i){return Hc(i).get("owner").next(o=>$t.resolve(this.bs(o)))}Vs(i){return jc(i).delete(this.clientId)}vs(){var i=this;return(0,_e.Z)(function*(){if(i.isPrimary&&!i.Ss(i.us,18e5)){i.us=Date.now();const o=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",h=>{const g=ko(h,"clientMetadata");return g.qt().next(y=>{const D=i.Ds(y,18e5),B=y.filter(J=>-1===D.indexOf(J));return $t.forEach(B,J=>g.delete(J.clientId)).next(()=>B)})}).catch(()=>[]);if(i.ws)for(const h of o)i.ws.removeItem(i.Cs(h.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(i){return!!i&&i.ownerId===this.clientId}As(i){return this.Zn?$t.resolve(!0):Hc(i).get("owner").next(o=>{if(null!==o&&this.Ss(o.leaseTimestampMs,5e3)&&!this.xs(o.ownerId)){if(this.bs(o)&&this.networkEnabled)return!0;if(!this.bs(o)){if(!o.allowTabSynchronization)throw new Ut(gt.FAILED_PRECONDITION,dm);return!1}}return!(!this.networkEnabled||!this.inForeground)||jc(i).qt().next(h=>void 0===this.Ds(h,5e3).find(g=>{if(this.clientId!==g.clientId){const D=!this.inForeground&&g.inForeground,B=this.networkEnabled===g.networkEnabled;if(!this.networkEnabled&&g.networkEnabled||D&&B)return!0}return!1}))}).next(o=>(this.isPrimary!==o&&F("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var i=this;return(0,_e.Z)(function*(){i.ns=!1,i.Ns(),i.os&&(i.os.cancel(),i.os=null),i.ks(),i.Ms(),yield i.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],o=>{const h=new Op(o,xo.A);return i.Rs(h).next(()=>i.Vs(h))}),i.ls.close(),i.Os()})()}Ds(i,o){return i.filter(h=>this.Ss(h.updateTimeMs,o)&&!this.xs(h.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",i=>jc(i).qt().next(o=>this.Ds(o,18e5).map(h=>h.clientId)))}get started(){return this.ns}getMutationQueue(i,o){return Nd.Yt(i,this.M,o,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(i){return new Lp(i,this.M.Jt.databaseId)}getDocumentOverlayCache(i){return kp.Yt(this.M,i)}getBundleCache(){return this._s}runTransaction(i,o,h){F("IndexedDbPersistence","Starting transaction:",i);const g="readonly"===o?"readonly":"readwrite",y=14===(D=this.ts)?lm:13===D?gh:12===D?am:11===D?Sp:void pe();var D;let B;return this.ls.runTransaction(i,g,y,J=>(B=new Op(J,this.es?this.es.next():xo.A),"readwrite-primary"===o?this.Es(B).next(ie=>!!ie||this.As(B)).next(ie=>{if(!ie)throw Y(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ut(gt.FAILED_PRECONDITION,Mp);return h(B)}).next(ie=>this.Ps(B).next(()=>ie)):this.$s(B).next(()=>h(B)))).then(J=>(B.raiseOnCommittedEvent(),J))}$s(i){return Hc(i).get("owner").next(o=>{if(null!==o&&this.Ss(o.leaseTimestampMs,5e3)&&!this.xs(o.ownerId)&&!this.bs(o)&&!(this.Zn||this.allowTabSynchronization&&o.allowTabSynchronization))throw new Ut(gt.FAILED_PRECONDITION,dm)})}Ps(i){const o={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hc(i).put("owner",o)}static vt(){return ml.vt()}Rs(i){const o=Hc(i);return o.get("owner").next(h=>this.bs(h)?(F("IndexedDbPersistence","Releasing primary lease."),o.delete("owner")):$t.resolve())}Ss(i,o){const h=Date.now();return!(i<h-o||i>h&&(Y(`Detected an update time that is in the future: ${i} > ${h}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.ss=()=>{this.Ns(),(0,We.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(i){var o;try{const h=null!==(null===(o=this.ws)||void 0===o?void 0:o.getItem(this.Cs(i)));return F("IndexedDbPersistence",`Client '${i}' ${h?"is":"is not"} zombied in LocalStorage`),h}catch(h){return Y("IndexedDbPersistence","Failed to get zombied client id.",h),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(i){Y("Failed to set zombie client id.",i)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(i){}}Cs(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function Hc(c){return ko(c,"owner")}function jc(c){return ko(c,"clientMetadata")}function Df(c,i){let o=c.projectId;return c.isDefaultDatabase||(o+="."+c.database),"firestore/"+i+"/"+o+"/"}class p0{constructor(i,o,h){this.ds=i,this.Bs=o,this.indexManager=h}Ls(i,o){return this.Bs.getAllMutationBatchesAffectingDocumentKey(i,o).next(h=>this.Us(i,o,h))}Us(i,o,h){return this.ds.getEntry(i,o).next(g=>{for(const y of h)y.applyToLocalView(g);return g})}qs(i,o){i.forEach((h,g)=>{for(const y of o)y.applyToLocalView(g)})}Ks(i,o){return this.ds.getEntries(i,o).next(h=>this.Gs(i,h).next(()=>h))}Gs(i,o){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(i,o).next(h=>this.qs(o,h))}Qs(i,o,h){return vn.isDocumentKey((g=o).path)&&null===g.collectionGroup&&0===g.filters.length?this.js(i,o.path):$u(o)?this.Ws(i,o,h):this.zs(i,o,h);var g}js(i,o){return this.Ls(i,new vn(o)).next(h=>{let g=vp();return h.isFoundDocument()&&(g=g.insert(h.key,h)),g})}Ws(i,o,h){const g=o.collectionGroup;let y=vp();return this.indexManager.getCollectionParents(i,g).next(D=>$t.forEach(D,B=>{const J=(ie=o,ze=B.child(g),new sc(ze,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));var ie,ze;return this.zs(i,J,h).next(ie=>{ie.forEach((ze,dt)=>{y=y.insert(ze,dt)})})}).next(()=>y))}zs(i,o,h){let g;return this.ds.getAllFromCollection(i,o.path,h).next(y=>(g=y,this.Bs.getAllMutationBatchesAffectingQuery(i,o))).next(y=>{for(const D of y)for(const B of D.mutations){const J=B.key;let ie=g.get(J);null==ie&&(ie=te.newInvalidDocument(J),g=g.insert(J,ie)),Ji(B,ie,D.localWriteTime),ie.isFoundDocument()||(g=g.remove(J))}}).next(()=>(g.forEach((y,D)=>{lf(o,D)||(g=g.remove(y))}),g))}}class Ch{constructor(i,o,h,g){this.targetId=i,this.fromCache=o,this.Hs=h,this.Js=g}static Ys(i,o){let h=ts(),g=ts();for(const y of o.docChanges)switch(y.type){case 0:h=h.add(y.doc.key);break;case 1:g=g.add(y.doc.key)}return new Ch(i,o.fromCache,h,g)}}class zp{Xs(i){this.Zs=i}Qs(i,o,h,g){return 0===(y=o).filters.length&&null===y.limit&&null==y.startAt&&null==y.endAt&&(0===y.explicitOrderBy.length||1===y.explicitOrderBy.length&&y.explicitOrderBy[0].field.isKeyField())||h.isEqual(mi.min())?this.ti(i,o):this.Zs.Ks(i,g).next(y=>{const D=this.ei(o,y);return(Mc(o)||fl(o))&&this.ni(o.limitType,D,g,h)?this.ti(i,o):(O()<=Qe.in.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),xc(o)),this.Zs.Qs(i,o,qn(h,-1)).next(B=>(D.forEach(J=>{B=B.insert(J.key,J)}),B)))});var y}ei(i,o){let h=new Ps(uu(i));return o.forEach((g,y)=>{lf(i,y)&&(h=h.add(y))}),h}ni(i,o,h,g){if(h.size!==o.size)return!0;const y="F"===i?o.last():o.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(g)>0)}ti(i,o){return O()<=Qe.in.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",xc(o)),this.Zs.Qs(i,o,Ki.min())}}class _y{constructor(i,o,h,g){this.persistence=i,this.si=o,this.M=g,this.ii=new Gs(vi),this.ri=new Vl(y=>qo(y),Ta),this.oi=new Map,this.ui=i.getRemoteDocumentCache(),this.fs=i.getTargetCache(),this._s=i.getBundleCache(),this.ai(h)}ai(i){this.indexManager=this.persistence.getIndexManager(i),this.Bs=this.persistence.getMutationQueue(i,this.indexManager),this.ci=new p0(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>i.collect(o,this.ii))}}function Wp(c,i,o,h){return new _y(c,i,o,h)}function yy(c,i){return yl.apply(this,arguments)}function yl(){return yl=(0,_e.Z)(function*(c,i){const o=Bt(c);return yield o.persistence.runTransaction("Handle user change","readonly",h=>{let g;return o.Bs.getAllMutationBatches(h).next(y=>(g=y,o.ai(i),o.Bs.getAllMutationBatches(h))).next(y=>{const D=[],B=[];let J=ts();for(const ie of g){D.push(ie.batchId);for(const ze of ie.mutations)J=J.add(ze.key)}for(const ie of y){B.push(ie.batchId);for(const ze of ie.mutations)J=J.add(ze.key)}return o.ci.Ks(h,J).next(ie=>({hi:ie,removedBatchIds:D,addedBatchIds:B}))})})}),yl.apply(this,arguments)}function If(c,i){const o=Bt(c);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",h=>{const g=i.batch.keys(),y=o.ui.newChangeBuffer({trackRemovals:!0});return function(D,B,J,ie){const ze=J.batch,dt=ze.keys();let kt=$t.resolve();return dt.forEach(Qt=>{kt=kt.next(()=>ie.getEntry(B,Qt)).next(rn=>{const Fn=J.docVersions.get(Qt);at(null!==Fn),rn.version.compareTo(Fn)<0&&(ze.applyToRemoteDocument(rn,J),rn.isValidDocument()&&(rn.setReadTime(J.commitVersion),ie.addEntry(rn)))})}),kt.next(()=>D.Bs.removeMutationBatch(B,ze))}(o,h,i,y).next(()=>y.apply(h)).next(()=>o.Bs.performConsistencyCheck(h)).next(()=>o.ci.Ks(h,g))})}function Eh(c){const i=Bt(c);return i.persistence.runTransaction("Get last remote snapshot version","readonly",o=>i.fs.getLastRemoteSnapshotVersion(o))}function Af(c,i){const o=Bt(c),h=i.snapshotVersion;let g=o.ii;return o.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const D=o.ui.newChangeBuffer({trackRemovals:!0});g=o.ii;const B=[];i.targetChanges.forEach((ie,ze)=>{const dt=g.get(ze);if(!dt)return;B.push(o.fs.removeMatchingKeys(y,ie.removedDocuments,ze).next(()=>o.fs.addMatchingKeys(y,ie.addedDocuments,ze)));let kt=dt.withSequenceNumber(y.currentSequenceNumber);var Qt,rn,Fn;i.targetMismatches.has(ze)?kt=kt.withResumeToken(Pr.EMPTY_BYTE_STRING,mi.min()).withLastLimboFreeSnapshotVersion(mi.min()):ie.resumeToken.approximateByteSize()>0&&(kt=kt.withResumeToken(ie.resumeToken,h)),g=g.insert(ze,kt),rn=kt,Fn=ie,(0===(Qt=dt).resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-Qt.snapshotVersion.toMicroseconds()>=3e8||Fn.addedDocuments.size+Fn.modifiedDocuments.size+Fn.removedDocuments.size>0)&&B.push(o.fs.updateTargetData(y,kt))});let J=$l();if(i.documentUpdates.forEach(ie=>{i.resolvedLimboDocuments.has(ie)&&B.push(o.persistence.referenceDelegate.updateLimboDocument(y,ie))}),B.push(fm(y,D,i.documentUpdates).next(ie=>{J=ie})),!h.isEqual(mi.min())){const ie=o.fs.getLastRemoteSnapshotVersion(y).next(ze=>o.fs.setTargetsMetadata(y,y.currentSequenceNumber,h));B.push(ie)}return $t.waitFor(B).next(()=>D.apply(y)).next(()=>o.ci.Gs(y,J)).next(()=>J)}).then(y=>(o.ii=g,y))}function fm(c,i,o){let h=ts();return o.forEach(g=>h=h.add(g)),i.getEntries(c,h).next(g=>{let y=$l();return o.forEach((D,B)=>{const J=g.get(D);B.isNoDocument()&&B.version.isEqual(mi.min())?(i.removeEntry(D,B.readTime),y=y.insert(D,B)):!J.isValidDocument()||B.version.compareTo(J.version)>0||0===B.version.compareTo(J.version)&&J.hasPendingWrites?(i.addEntry(B),y=y.insert(D,B)):F("LocalStore","Ignoring outdated watch update for ",D,". Current version:",J.version," Watch version:",B.version)}),y})}function pm(c,i){const o=Bt(c);return o.persistence.runTransaction("Get next mutation batch","readonly",h=>(void 0===i&&(i=-1),o.Bs.getNextMutationBatchAfterBatchId(h,i)))}function Fd(c,i){const o=Bt(c);return o.persistence.runTransaction("Allocate target","readwrite",h=>{let g;return o.fs.getTargetData(h,i).next(y=>y?(g=y,$t.resolve(g)):o.fs.allocateTargetId(h).next(D=>(g=new Fc(i,D,0,h.currentSequenceNumber),o.fs.addTargetData(h,g).next(()=>g))))}).then(h=>{const g=o.ii.get(h.targetId);return(null===g||h.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(o.ii=o.ii.insert(h.targetId,h),o.ri.set(i,h.targetId)),h})}function Ld(c,i,o){return td.apply(this,arguments)}function td(){return td=(0,_e.Z)(function*(c,i,o){const h=Bt(c),g=h.ii.get(i),y=o?"readwrite":"readwrite-primary";try{o||(yield h.persistence.runTransaction("Release target",y,D=>h.persistence.referenceDelegate.removeTarget(D,g)))}catch(D){if(!lc(D))throw D;F("LocalStore",`Failed to update sequence numbers for target ${i}: ${D}`)}h.ii=h.ii.remove(i),h.ri.delete(g.target)}),td.apply(this,arguments)}function Lo(c,i,o){const h=Bt(c);let g=mi.min(),y=ts();return h.persistence.runTransaction("Execute query","readonly",D=>function(B,J,ie){const ze=Bt(B),dt=ze.ri.get(ie);return void 0!==dt?$t.resolve(ze.ii.get(dt)):ze.fs.getTargetData(J,ie)}(h,D,po(i)).next(B=>{if(B)return g=B.lastLimboFreeSnapshotVersion,h.fs.getMatchingKeysForTargetId(D,B.targetId).next(J=>{y=J})}).next(()=>h.si.Qs(D,i,o?g:mi.min(),o?y:ts())).next(B=>(Th(h,gp(i),B),{documents:B,li:y})))}function Sf(c,i){const o=Bt(c),h=Bt(o.fs),g=o.ii.get(i);return g?Promise.resolve(g.target):o.persistence.runTransaction("Get target data","readonly",y=>h.Et(y,i).next(D=>D?D.target:null))}function Bd(c,i){const o=Bt(c),h=o.oi.get(i)||mi.min();return o.persistence.runTransaction("Get new document changes","readonly",g=>o.ui.getAllFromCollectionGroup(g,i,qn(h,-1),Number.MAX_SAFE_INTEGER)).then(g=>(Th(o,i,g),g))}function Th(c,i,o){let h=mi.min();o.forEach((g,y)=>{y.readTime.compareTo(h)>0&&(h=y.readTime)}),c.oi.set(i,h)}function qp(){return qp=(0,_e.Z)(function*(c,i,o,h){const g=Bt(c);let y=ts(),D=$l();for(const ie of o){const ze=i.fi(ie.metadata.name);ie.document&&(y=y.add(ze));const dt=i.di(ie);dt.setReadTime(i._i(ie.metadata.readTime)),D=D.insert(ze,dt)}const B=g.ui.newChangeBuffer({trackRemovals:!0}),J=yield Fd(g,(ie=h,po(lo(ir.fromString(`__bundle__/docs/${ie}`)))));var ie;return g.persistence.runTransaction("Apply bundle documents","readwrite",ie=>fm(ie,B,D).next(ze=>(B.apply(ie),ze)).next(ze=>g.fs.removeMatchingKeysForTargetId(ie,J.targetId).next(()=>g.fs.addMatchingKeys(ie,y,J.targetId)).next(()=>g.ci.Gs(ie,ze)).next(()=>ze)))}),qp.apply(this,arguments)}function vy(c,i){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,_e.Z)(function*(c,i,o=ts()){const h=yield Fd(c,po(Ua(i.bundledQuery))),g=Bt(c);return g.persistence.runTransaction("Save named query","readwrite",y=>{const D=go(i.readTime);if(h.snapshotVersion.compareTo(D)>=0)return g._s.saveNamedQuery(y,i);const B=h.withResumeToken(Pr.EMPTY_BYTE_STRING,D);return g.ii=g.ii.insert(B.targetId,B),g.fs.updateTargetData(y,B).next(()=>g.fs.removeMatchingKeysForTargetId(y,h.targetId)).next(()=>g.fs.addMatchingKeys(y,o,h.targetId)).next(()=>g._s.saveNamedQuery(y,i))})}),Zp.apply(this,arguments)}class gm{constructor(i){this.M=i,this.wi=new Map,this.mi=new Map}getBundleMetadata(i,o){return $t.resolve(this.wi.get(o))}saveBundleMetadata(i,o){var h;return this.wi.set(o.id,{id:(h=o).id,version:h.version,createTime:go(h.createTime)}),$t.resolve()}getNamedQuery(i,o){return $t.resolve(this.mi.get(o))}saveNamedQuery(i,o){return this.mi.set(o.name,{name:(h=o).name,query:Ua(h.bundledQuery),readTime:go(h.readTime)}),$t.resolve();var h}}class mm{constructor(){this.overlays=new Gs(vn.comparator),this.gi=new Map}getOverlay(i,o){return $t.resolve(this.overlays.get(o))}saveOverlays(i,o,h){return h.forEach((g,y)=>{this.Xt(i,o,y)}),$t.resolve()}removeOverlaysForBatchId(i,o,h){const g=this.gi.get(h);return void 0!==g&&(g.forEach(y=>this.overlays=this.overlays.remove(y)),this.gi.delete(h)),$t.resolve()}getOverlaysForCollection(i,o,h){const g=lh(),y=o.length+1,D=new vn(o.child("")),B=this.overlays.getIteratorFrom(D);for(;B.hasNext();){const J=B.getNext().value,ie=J.getKey();if(!o.isPrefixOf(ie.path))break;ie.path.length===y&&J.largestBatchId>h&&g.set(J.getKey(),J)}return $t.resolve(g)}getOverlaysForCollectionGroup(i,o,h,g){let y=new Gs((ie,ze)=>ie-ze);const D=this.overlays.getIterator();for(;D.hasNext();){const ie=D.getNext().value;if(ie.getKey().getCollectionGroup()===o&&ie.largestBatchId>h){let ze=y.get(ie.largestBatchId);null===ze&&(ze=lh(),y=y.insert(ie.largestBatchId,ze)),ze.set(ie.getKey(),ie)}}const B=lh(),J=y.getIterator();for(;J.hasNext()&&(J.getNext().value.forEach((ie,ze)=>B.set(ie,ze)),!(B.size()>=g)););return $t.resolve(B)}Xt(i,o,h){if(null===h)return;const g=this.overlays.get(h.key);if(null!==g){const D=this.gi.get(g.largestBatchId).delete(h.key);this.gi.set(g.largestBatchId,D)}this.overlays=this.overlays.insert(h.key,new Cf(o,h));let y=this.gi.get(o);void 0===y&&(y=ts(),this.gi.set(o,y)),this.gi.set(o,y.add(h.key))}}class Yp{constructor(){this.yi=new Ps(mo.pi),this.Ii=new Ps(mo.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(i,o){const h=new mo(i,o);this.yi=this.yi.add(h),this.Ii=this.Ii.add(h)}Ei(i,o){i.forEach(h=>this.addReference(h,o))}removeReference(i,o){this.Ai(new mo(i,o))}Ri(i,o){i.forEach(h=>this.removeReference(h,o))}Pi(i){const o=new vn(new ir([])),h=new mo(o,i),g=new mo(o,i+1),y=[];return this.Ii.forEachInRange([h,g],D=>{this.Ai(D),y.push(D.key)}),y}bi(){this.yi.forEach(i=>this.Ai(i))}Ai(i){this.yi=this.yi.delete(i),this.Ii=this.Ii.delete(i)}Vi(i){const o=new vn(new ir([])),h=new mo(o,i),g=new mo(o,i+1);let y=ts();return this.Ii.forEachInRange([h,g],D=>{y=y.add(D.key)}),y}containsKey(i){const o=new mo(i,0),h=this.yi.firstAfterOrEqual(o);return null!==h&&i.isEqual(h.key)}}class mo{constructor(i,o){this.key=i,this.vi=o}static pi(i,o){return vn.comparator(i.key,o.key)||vi(i.vi,o.vi)}static Ti(i,o){return vi(i.vi,o.vi)||vn.comparator(i.key,o.key)}}class g0{constructor(i,o){this.indexManager=i,this.referenceDelegate=o,this.Bs=[],this.Si=1,this.Di=new Ps(mo.pi)}checkEmpty(i){return $t.resolve(0===this.Bs.length)}addMutationBatch(i,o,h,g){const y=this.Si;this.Si++;const D=new Zu(y,o,h,g);this.Bs.push(D);for(const B of g)this.Di=this.Di.add(new mo(B.key,y)),this.indexManager.addToCollectionParentIndex(i,B.key.path.popLast());return $t.resolve(D)}lookupMutationBatch(i,o){return $t.resolve(this.Ci(o))}getNextMutationBatchAfterBatchId(i,o){const g=this.xi(o+1),y=g<0?0:g;return $t.resolve(this.Bs.length>y?this.Bs[y]:null)}getHighestUnacknowledgedBatchId(){return $t.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(i){return $t.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(i,o){const h=new mo(o,0),g=new mo(o,Number.POSITIVE_INFINITY),y=[];return this.Di.forEachInRange([h,g],D=>{const B=this.Ci(D.vi);y.push(B)}),$t.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(i,o){let h=new Ps(vi);return o.forEach(g=>{const y=new mo(g,0),D=new mo(g,Number.POSITIVE_INFINITY);this.Di.forEachInRange([y,D],B=>{h=h.add(B.vi)})}),$t.resolve(this.Ni(h))}getAllMutationBatchesAffectingQuery(i,o){const h=o.path,g=h.length+1;let y=h;vn.isDocumentKey(y)||(y=y.child(""));const D=new mo(new vn(y),0);let B=new Ps(vi);return this.Di.forEachWhile(J=>{const ie=J.key.path;return!!h.isPrefixOf(ie)&&(ie.length===g&&(B=B.add(J.vi)),!0)},D),$t.resolve(this.Ni(B))}Ni(i){const o=[];return i.forEach(h=>{const g=this.Ci(h);null!==g&&o.push(g)}),o}removeMutationBatch(i,o){at(0===this.ki(o.batchId,"removed")),this.Bs.shift();let h=this.Di;return $t.forEach(o.mutations,g=>{const y=new mo(g.key,o.batchId);return h=h.delete(y),this.referenceDelegate.markPotentiallyOrphaned(i,g.key)}).next(()=>{this.Di=h})}_n(i){}containsKey(i,o){const h=new mo(o,0),g=this.Di.firstAfterOrEqual(h);return $t.resolve(o.isEqual(g&&g.key))}performConsistencyCheck(i){return $t.resolve()}ki(i,o){return this.xi(i)}xi(i){return 0===this.Bs.length?0:i-this.Bs[0].batchId}Ci(i){const o=this.xi(i);return o<0||o>=this.Bs.length?null:this.Bs[o]}}class by{constructor(i){this.Mi=i,this.docs=new Gs(vn.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,o){const h=o.key,g=this.docs.get(h),y=g?g.size:0,D=this.Mi(o);return this.docs=this.docs.insert(h,{document:o.mutableCopy(),size:D}),this.size+=D-y,this.indexManager.addToCollectionParentIndex(i,h.path.popLast())}removeEntry(i){const o=this.docs.get(i);o&&(this.docs=this.docs.remove(i),this.size-=o.size)}getEntry(i,o){const h=this.docs.get(o);return $t.resolve(h?h.document.mutableCopy():te.newInvalidDocument(o))}getEntries(i,o){let h=$l();return o.forEach(g=>{const y=this.docs.get(g);h=h.insert(g,y?y.document.mutableCopy():te.newInvalidDocument(g))}),$t.resolve(h)}getAllFromCollection(i,o,h){let g=$l();const y=new vn(o.child("")),D=this.docs.getIteratorFrom(y);for(;D.hasNext();){const{key:B,value:{document:J}}=D.getNext();if(!o.isPrefixOf(B.path))break;B.path.length>o.length+1||Ai(_i(J),h)<=0||(g=g.insert(J.key,J.mutableCopy()))}return $t.resolve(g)}getAllFromCollectionGroup(i,o,h,g){pe()}Oi(i,o){return $t.forEach(this.docs,h=>o(h))}newChangeBuffer(i){return new Qb(this)}getSize(i){return $t.resolve(this.size)}}class Qb extends Hp{constructor(i){super(),this.Kn=i}applyChanges(i){const o=[];return this.changes.forEach((h,g)=>{g.isValidDocument()?o.push(this.Kn.addEntry(i,g)):this.Kn.removeEntry(h)}),$t.waitFor(o)}getFromCache(i,o){return this.Kn.getEntry(i,o)}getAllFromCache(i,o){return this.Kn.getEntries(i,o)}}class Cy{constructor(i){this.persistence=i,this.Fi=new Vl(o=>qo(o),Ta),this.lastRemoteSnapshotVersion=mi.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Yp,this.targetCount=0,this.Li=vu.gn()}forEachTarget(i,o){return this.Fi.forEach((h,g)=>o(g)),$t.resolve()}getLastRemoteSnapshotVersion(i){return $t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return $t.resolve(this.$i)}allocateTargetId(i){return this.highestTargetId=this.Li.next(),$t.resolve(this.highestTargetId)}setTargetsMetadata(i,o,h){return h&&(this.lastRemoteSnapshotVersion=h),o>this.$i&&(this.$i=o),$t.resolve()}Tn(i){this.Fi.set(i.target,i);const o=i.targetId;o>this.highestTargetId&&(this.Li=new vu(o),this.highestTargetId=o),i.sequenceNumber>this.$i&&(this.$i=i.sequenceNumber)}addTargetData(i,o){return this.Tn(o),this.targetCount+=1,$t.resolve()}updateTargetData(i,o){return this.Tn(o),$t.resolve()}removeTargetData(i,o){return this.Fi.delete(o.target),this.Bi.Pi(o.targetId),this.targetCount-=1,$t.resolve()}removeTargets(i,o,h){let g=0;const y=[];return this.Fi.forEach((D,B)=>{B.sequenceNumber<=o&&null===h.get(B.targetId)&&(this.Fi.delete(D),y.push(this.removeMatchingKeysForTargetId(i,B.targetId)),g++)}),$t.waitFor(y).next(()=>g)}getTargetCount(i){return $t.resolve(this.targetCount)}getTargetData(i,o){const h=this.Fi.get(o)||null;return $t.resolve(h)}addMatchingKeys(i,o,h){return this.Bi.Ei(o,h),$t.resolve()}removeMatchingKeys(i,o,h){this.Bi.Ri(o,h);const g=this.persistence.referenceDelegate,y=[];return g&&o.forEach(D=>{y.push(g.markPotentiallyOrphaned(i,D))}),$t.waitFor(y)}removeMatchingKeysForTargetId(i,o){return this.Bi.Pi(o),$t.resolve()}getMatchingKeysForTargetId(i,o){const h=this.Bi.Vi(o);return $t.resolve(h)}containsKey(i,o){return $t.resolve(this.Bi.containsKey(o))}}class Ey{constructor(i,o){this.Ui={},this.overlays={},this.es=new xo(0),this.ns=!1,this.ns=!0,this.referenceDelegate=i(this),this.fs=new Cy(this),this.indexManager=new hy,this.ds=new by(h=>this.referenceDelegate.qi(h)),this.M=new Ad(o),this._s=new gm(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let o=this.overlays[i.toKey()];return o||(o=new mm,this.overlays[i.toKey()]=o),o}getMutationQueue(i,o){let h=this.Ui[i.toKey()];return h||(h=new g0(o,this.referenceDelegate),this.Ui[i.toKey()]=h),h}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(i,o,h){F("MemoryPersistence","Starting transaction:",i);const g=new m0(this.es.next());return this.referenceDelegate.Ki(),h(g).next(y=>this.referenceDelegate.Gi(g).next(()=>y)).toPromise().then(y=>(g.raiseOnCommittedEvent(),y))}Qi(i,o){return $t.or(Object.values(this.Ui).map(h=>()=>h.containsKey(i,o)))}}class m0 extends mh{constructor(i){super(),this.currentSequenceNumber=i}}class Kp{constructor(i){this.persistence=i,this.ji=new Yp,this.Wi=null}static zi(i){return new Kp(i)}get Hi(){if(this.Wi)return this.Wi;throw pe()}addReference(i,o,h){return this.ji.addReference(h,o),this.Hi.delete(h.toString()),$t.resolve()}removeReference(i,o,h){return this.ji.removeReference(h,o),this.Hi.add(h.toString()),$t.resolve()}markPotentiallyOrphaned(i,o){return this.Hi.add(o.toString()),$t.resolve()}removeTarget(i,o){this.ji.Pi(o.targetId).forEach(g=>this.Hi.add(g.toString()));const h=this.persistence.getTargetCache();return h.getMatchingKeysForTargetId(i,o.targetId).next(g=>{g.forEach(y=>this.Hi.add(y.toString()))}).next(()=>h.removeTargetData(i,o))}Ki(){this.Wi=new Set}Gi(i){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $t.forEach(this.Hi,h=>{const g=vn.fromPath(h);return this.Ji(i,g).next(y=>{y||o.removeEntry(g,mi.min())})}).next(()=>(this.Wi=null,o.apply(i)))}updateLimboDocument(i,o){return this.Ji(i,o).next(h=>{h?this.Hi.delete(o.toString()):this.Hi.add(o.toString())})}qi(i){return 0}Ji(i,o){return $t.or([()=>$t.resolve(this.ji.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(i,o),()=>this.persistence.Qi(i,o)])}}function Ty(c,i){return`firestore_clients_${c}_${i}`}function wy(c,i,o){let h=`firestore_mutations_${c}_${o}`;return i.isAuthenticated()&&(h+=`_${i.uid}`),h}function $a(c,i){return`firestore_targets_${c}_${i}`}class Jp{constructor(i,o,h,g){this.user=i,this.batchId=o,this.state=h,this.error=g}static Yi(i,o,h){const g=JSON.parse(h);let y,D="object"==typeof g&&-1!==["pending","acknowledged","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error);return D&&g.error&&(D="string"==typeof g.error.message&&"string"==typeof g.error.code,D&&(y=new Ut(g.error.code,g.error.message))),D?new Jp(i,o,g.state,y):(Y("SharedClientState",`Failed to parse mutation state for ID '${o}': ${h}`),null)}Xi(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Ha{constructor(i,o,h){this.targetId=i,this.state=o,this.error=h}static Yi(i,o){const h=JSON.parse(o);let g,y="object"==typeof h&&-1!==["not-current","current","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return y&&h.error&&(y="string"==typeof h.error.message&&"string"==typeof h.error.code,y&&(g=new Ut(h.error.code,h.error.message))),y?new Ha(i,h.state,g):(Y("SharedClientState",`Failed to parse target state for ID '${i}': ${o}`),null)}Xi(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class _m{constructor(i,o){this.clientId=i,this.activeTargetIds=o}static Yi(i,o){const h=JSON.parse(o);let g="object"==typeof h&&h.activeTargetIds instanceof Array,y=Ro();for(let D=0;g&&D<h.activeTargetIds.length;++D)g=Ea(h.activeTargetIds[D]),y=y.add(h.activeTargetIds[D]);return g?new _m(i,y):(Y("SharedClientState",`Failed to parse client data for instance '${i}': ${o}`),null)}}class Qp{constructor(i,o){this.clientId=i,this.onlineState=o}static Yi(i){const o=JSON.parse(i);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new Qp(o.clientId,o.onlineState):(Y("SharedClientState",`Failed to parse online state: ${i}`),null)}}class Mf{constructor(){this.activeTargetIds=Ro()}Zi(i){this.activeTargetIds=this.activeTargetIds.add(i)}tr(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Xi(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class Dy{constructor(i,o,h,g,y){this.window=i,this.Yn=o,this.persistenceKey=h,this.er=g,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Gs(vi),this.started=!1,this.rr=[];const D=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ur=Ty(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Mf),this.cr=new RegExp(`^firestore_clients_${D}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${D}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${D}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(B){return`firestore_bundle_loaded_v2_${B}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,_e.Z)(function*(){const o=yield i.syncEngine.Fs();for(const g of o){if(g===i.er)continue;const y=i.getItem(Ty(i.persistenceKey,g));if(y){const D=_m.Yi(g,y);D&&(i.ir=i.ir.insert(D.clientId,D))}}i.wr();const h=i.storage.getItem(i.dr);if(h){const g=i.mr(h);g&&i.gr(g)}for(const g of i.rr)i.sr(g);i.rr=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.ar,JSON.stringify(i))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(i){let o=!1;return this.ir.forEach((h,g)=>{g.activeTargetIds.has(i)&&(o=!0)}),o}addPendingMutation(i){this.pr(i,"pending")}updateMutationState(i,o,h){this.pr(i,o,h),this.Ir(i)}addLocalQueryTarget(i){let o="not-current";if(this.isActiveQueryTarget(i)){const h=this.storage.getItem($a(this.persistenceKey,i));if(h){const g=Ha.Yi(i,h);g&&(o=g.state)}}return this.Tr.Zi(i),this.wr(),o}removeLocalQueryTarget(i){this.Tr.tr(i),this.wr()}isLocalQueryTarget(i){return this.Tr.activeTargetIds.has(i)}clearQueryState(i){this.removeItem($a(this.persistenceKey,i))}updateQueryState(i,o,h){this.Er(i,o,h)}handleUserChange(i,o,h){o.forEach(g=>{this.Ir(g)}),this.currentUser=i,h.forEach(g=>{this.addPendingMutation(g)})}setOnlineState(i){this.Ar(i)}notifyBundleLoaded(i){this.Rr(i)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(i){const o=this.storage.getItem(i);return F("SharedClientState","READ",i,o),o}setItem(i,o){F("SharedClientState","SET",i,o),this.storage.setItem(i,o)}removeItem(i){F("SharedClientState","REMOVE",i),this.storage.removeItem(i)}sr(i){var o=this;const h=i;if(h.storageArea===this.storage){if(F("SharedClientState","EVENT",h.key,h.newValue),h.key===this.ur)return void Y("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,_e.Z)(function*(){if(o.started){if(null!==h.key)if(o.cr.test(h.key)){if(null==h.newValue){const g=o.Pr(h.key);return o.br(g,null)}{const g=o.Vr(h.key,h.newValue);if(g)return o.br(g.clientId,g)}}else if(o.hr.test(h.key)){if(null!==h.newValue){const g=o.vr(h.key,h.newValue);if(g)return o.Sr(g)}}else if(o.lr.test(h.key)){if(null!==h.newValue){const g=o.Dr(h.key,h.newValue);if(g)return o.Cr(g)}}else if(h.key===o.dr){if(null!==h.newValue){const g=o.mr(h.newValue);if(g)return o.gr(g)}}else if(h.key===o.ar){const g=function(y){let D=xo.A;if(null!=y)try{const B=JSON.parse(y);at("number"==typeof B),D=B}catch(B){Y("SharedClientState","Failed to read sequence number from WebStorage",B)}return D}(h.newValue);g!==xo.A&&o.sequenceNumberHandler(g)}else if(h.key===o._r){const g=o.Nr(h.newValue);yield Promise.all(g.map(y=>o.syncEngine.kr(y)))}}else o.rr.push(h)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(i,o,h){const g=new Jp(this.currentUser,i,o,h),y=wy(this.persistenceKey,this.currentUser,i);this.setItem(y,g.Xi())}Ir(i){const o=wy(this.persistenceKey,this.currentUser,i);this.removeItem(o)}Ar(i){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:i}))}Er(i,o,h){const g=$a(this.persistenceKey,i),y=new Ha(i,o,h);this.setItem(g,y.Xi())}Rr(i){const o=JSON.stringify(Array.from(i));this.setItem(this._r,o)}Pr(i){const o=this.cr.exec(i);return o?o[1]:null}Vr(i,o){const h=this.Pr(i);return _m.Yi(h,o)}vr(i,o){const h=this.hr.exec(i),g=Number(h[1]);return Jp.Yi(new Xs(void 0!==h[2]?h[2]:null),g,o)}Dr(i,o){const h=this.lr.exec(i),g=Number(h[1]);return Ha.Yi(g,o)}mr(i){return Qp.Yi(i)}Nr(i){return JSON.parse(i)}Sr(i){var o=this;return(0,_e.Z)(function*(){if(i.user.uid===o.currentUser.uid)return o.syncEngine.Mr(i.batchId,i.state,i.error);F("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}Cr(i){return this.syncEngine.Or(i.targetId,i.state,i.error)}br(i,o){const h=o?this.ir.insert(i,o):this.ir.remove(i),g=this.yr(this.ir),y=this.yr(h),D=[],B=[];return y.forEach(J=>{g.has(J)||D.push(J)}),g.forEach(J=>{y.has(J)||B.push(J)}),this.syncEngine.Fr(D,B).then(()=>{this.ir=h})}gr(i){this.ir.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}yr(i){let o=Ro();return i.forEach((h,g)=>{o=o.unionWith(g.activeTargetIds)}),o}}class ym{constructor(){this.$r=new Mf,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,o,h){}addLocalQueryTarget(i){return this.$r.Zi(i),this.Br[i]||"not-current"}updateQueryState(i,o,h){this.Br[i]=o}removeLocalQueryTarget(i){this.$r.tr(i)}isLocalQueryTarget(i){return this.$r.activeTargetIds.has(i)}clearQueryState(i){delete this.Br[i]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(i){return this.$r.activeTargetIds.has(i)}start(){return this.$r=new Mf,Promise.resolve()}handleUserChange(i,o,h){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}class vm{Lr(i){}shutdown(){}}class bm{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(i){this.Qr.push(i)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.Qr)i(0)}Gr(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.Qr)i(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class y0{constructor(i){this.Wr=i.Wr,this.zr=i.zr}Hr(i){this.Jr=i}Yr(i){this.Xr=i}onMessage(i){this.Zr=i}close(){this.zr()}send(i){this.Wr(i)}eo(){this.Jr()}no(i){this.Xr(i)}so(i){this.Zr(i)}}class Xb extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.io=(i.ssl?"https":"http")+"://"+i.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(i,o,h,g,y){const D=this.uo(i,o);F("RestConnection","Sending: ",D,h);const B={};return this.ao(B,g,y),this.co(i,D,B,h).then(J=>(F("RestConnection","Received: ",J),J),J=>{throw le("RestConnection",`${i} failed with error: `,J,"url: ",D,"request:",h),J})}ho(i,o,h,g,y){return this.oo(i,o,h,g,y)}ao(i,o,h){i["X-Goog-Api-Client"]="gl-js/ fire/"+cl,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((g,y)=>i[y]=g),h&&h.headers.forEach((g,y)=>i[y]=g)}uo(i,o){return`${this.io}/v1/${o}:${_0[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}co(i,o,h,g){return new Promise((y,D)=>{const B=new ll;B.listenOnce(tu.COMPLETE,()=>{try{switch(B.getLastErrorCode()){case Eo.NO_ERROR:const ie=B.getResponseJson();F("Connection","XHR received:",JSON.stringify(ie)),y(ie);break;case Eo.TIMEOUT:F("Connection",'RPC "'+i+'" timed out'),D(new Ut(gt.DEADLINE_EXCEEDED,"Request time out"));break;case Eo.HTTP_ERROR:const ze=B.getStatus();if(F("Connection",'RPC "'+i+'" failed with status:',ze,"response text:",B.getResponseText()),ze>0){const dt=B.getResponseJson().error;if(dt&&dt.status&&dt.message){const kt=function(Qt){const rn=Qt.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(rn)>=0?rn:gt.UNKNOWN}(dt.status);D(new Ut(kt,dt.message))}else D(new Ut(gt.UNKNOWN,"Server responded with status "+B.getStatus()))}else D(new Ut(gt.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{F("Connection",'RPC "'+i+'" completed.')}});const J=JSON.stringify(g);B.send(o,"POST",J,h,15)})}lo(i,o,h){const g=[this.io,"/","google.firestore.v1.Firestore","/",i,"/channel"],y=Fu(),D=eu(),B={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(B.xmlHttpFactory=new Xl({})),this.ao(B.initMessageHeaders,o,h),(0,We.uI)()||(0,We.b$)()||(0,We.d)()||(0,We.w1)()||(0,We.Mn)()||(0,We.ru)()||(B.httpHeadersOverwriteParam="$httpHeaders");const J=g.join("");F("Connection","Creating WebChannel: "+J,B);const ie=y.createWebChannel(J,B);let ze=!1,dt=!1;const kt=new y0({Wr:rn=>{dt?F("Connection","Not sending because WebChannel is closed:",rn):(ze||(F("Connection","Opening WebChannel transport."),ie.open(),ze=!0),F("Connection","WebChannel sending:",rn),ie.send(rn))},zr:()=>ie.close()}),Qt=(rn,Fn,Si)=>{rn.listen(Fn,Ls=>{try{Si(Ls)}catch(vo){setTimeout(()=>{throw vo},0)}})};return Qt(ie,Wo.EventType.OPEN,()=>{dt||F("Connection","WebChannel transport opened.")}),Qt(ie,Wo.EventType.CLOSE,()=>{dt||(dt=!0,F("Connection","WebChannel transport closed"),kt.no())}),Qt(ie,Wo.EventType.ERROR,rn=>{dt||(dt=!0,le("Connection","WebChannel transport errored:",rn),kt.no(new Ut(gt.UNAVAILABLE,"The operation could not be completed")))}),Qt(ie,Wo.EventType.MESSAGE,rn=>{var Fn;if(!dt){const Si=rn.data[0];at(!!Si);const Ls=Si,vo=Ls.error||(null===(Fn=Ls[0])||void 0===Fn?void 0:Fn.error);if(vo){F("Connection","WebChannel received error:",vo);const ls=vo.status;let zs=function(Ws){const uo=ws[Ws];if(void 0!==uo)return du(uo)}(ls),Cs=vo.message;void 0===zs&&(zs=gt.INTERNAL,Cs="Unknown error status: "+ls+" with message "+vo.message),dt=!0,kt.no(new Ut(zs,Cs)),ie.close()}else F("Connection","WebChannel received:",Si),kt.so(Si)}}),Qt(D,Es.STAT_EVENT,rn=>{rn.stat===ba.PROXY?F("Connection","Detected buffering proxy"):rn.stat===ba.NOPROXY&&F("Connection","Detected no buffering proxy")}),setTimeout(()=>{kt.eo()},0),kt}}function Cm(){return"undefined"!=typeof window?window:null}function Xp(){return"undefined"!=typeof document?document:null}function Dh(c){return new K_(c,!0)}class Em{constructor(i,o,h=1e3,g=1.5,y=6e4){this.Yn=i,this.timerId=o,this.fo=h,this._o=g,this.wo=y,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(i){this.cancel();const o=Math.floor(this.mo+this.Eo()),h=Math.max(0,Date.now()-this.po),g=Math.max(0,o-h);g>0&&F("ExponentialBackoff",`Backing off for ${g} ms (base delay: ${this.mo} ms, delay with jitter: ${o} ms, last attempt: ${h} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,g,()=>(this.po=Date.now(),i())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class Iy{constructor(i,o,h,g,y,D,B,J){this.Yn=i,this.Ro=h,this.Po=g,this.bo=y,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=B,this.listener=J,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Em(i,o)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var i=this;return(0,_e.Z)(function*(){i.Co()&&(yield i.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(i){this.$o(),this.stream.send(i)}Oo(){var i=this;return(0,_e.Z)(function*(){if(i.xo())return i.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(i,o){var h=this;return(0,_e.Z)(function*(){h.$o(),h.Bo(),h.Do.cancel(),h.Vo++,4!==i?h.Do.reset():o&&o.code===gt.RESOURCE_EXHAUSTED?(Y(o.toString()),Y("Using maximum backoff delay to prevent overloading the backend."),h.Do.Io()):o&&o.code===gt.UNAUTHENTICATED&&3!==h.state&&(h.authCredentialsProvider.invalidateToken(),h.appCheckCredentialsProvider.invalidateToken()),null!==h.stream&&(h.Lo(),h.stream.close(),h.stream=null),h.state=i,yield h.listener.Yr(o)})()}Lo(){}auth(){this.state=1;const i=this.Uo(this.Vo),o=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([h,g])=>{this.Vo===o&&this.qo(h,g)},h=>{i(()=>{const g=new Ut(gt.UNKNOWN,"Fetching auth token failed: "+h.message);return this.Ko(g)})})}qo(i,o){const h=this.Uo(this.Vo);this.stream=this.Go(i,o),this.stream.Hr(()=>{h(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(g=>{h(()=>this.Ko(g))}),this.stream.onMessage(g=>{h(()=>this.onMessage(g))})}No(){var i=this;this.state=5,this.Do.To((0,_e.Z)(function*(){i.state=0,i.start()}))}Ko(i){return F("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}Uo(i){return o=>{this.Yn.enqueueAndForget(()=>this.Vo===i?o():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ay extends Iy{constructor(i,o,h,g,y,D){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,h,g,D),this.M=y}Go(i,o){return this.bo.lo("Listen",i,o)}onMessage(i){this.Do.reset();const o=function pu(c,i){let o;if("targetChange"in i){const h="NO_CHANGE"===(J=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===J?1:"REMOVE"===J?2:"CURRENT"===J?3:"RESET"===J?4:pe(),g=i.targetChange.targetIds||[],y=function(J,ie){return J.N?(at(void 0===ie||"string"==typeof ie),Pr.fromBase64String(ie||"")):(at(void 0===ie||ie instanceof Uint8Array),Pr.fromUint8Array(ie||new Uint8Array))}(c,i.targetChange.resumeToken),D=i.targetChange.cause,B=D&&function(J){const ie=void 0===J.code?gt.UNKNOWN:du(J.code);return new Ut(ie,J.message||"")}(D);o=new uh(h,g,y,B||null)}else if("documentChange"in i){const h=i.documentChange,g=Hl(c,h.document.name),y=go(h.document.updateTime),D=new $({mapValue:{fields:h.document.fields}}),B=te.newFoundDocument(g,y,D);o=new df(h.targetIds||[],h.removedTargetIds||[],B.key,B)}else if("documentDelete"in i){const h=i.documentDelete,g=Hl(c,h.document),y=h.readTime?go(h.readTime):mi.min(),D=te.newNoDocument(g,y);o=new df([],h.removedTargetIds||[],D.key,D)}else if("documentRemove"in i){const h=i.documentRemove,g=Hl(c,h.document);o=new df([],h.removedTargetIds||[],g,null)}else{if(!("filter"in i))return pe();{const h=i.filter,y=new Dd(h.count||0);o=new ha(h.targetId,y)}}var J;return o}(this.M,i),h=function(g){if(!("targetChange"in g))return mi.min();const y=g.targetChange;return y.targetIds&&y.targetIds.length?mi.min():y.readTime?go(y.readTime):mi.min()}(i);return this.listener.Qo(o,h)}jo(i){const o={};o.database=ff(this.M),o.addTarget=function(g,y){let D;const B=y.target;return D=No(B)?{documents:X_(g,B)}:{query:ey(g,B)},D.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?D.resumeToken=Jg(g,y.resumeToken):y.snapshotVersion.compareTo(mi.min())>0&&(D.readTime=dh(g,y.snapshotVersion.toTimestamp())),D}(this.M,i);const h=function nm(c,i){const o=function(h,g){switch(g){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pe()}}(0,i.purpose);return null==o?null:{"goog-listen-tags":o}}(0,i);h&&(o.labels=h),this.Fo(o)}Wo(i){const o={};o.database=ff(this.M),o.removeTarget=i,this.Fo(o)}}class Sy extends Iy{constructor(i,o,h,g,y,D){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,h,g,D),this.M=y,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(i,o){return this.bo.lo("Write",i,o)}onMessage(i){if(at(!!i.streamToken),this.lastStreamToken=i.streamToken,this.zo){this.Do.reset();const o=function a0(c,i){return c&&c.length>0?(at(void 0!==i),c.map(o=>function(h,g){let y=go(h.updateTime?h.updateTime:g);return y.isEqual(mi.min())&&(y=go(g)),new Oe(y,h.transformResults||[])}(o,i))):[]}(i.writeResults,i.commitTime),h=go(i.commitTime);return this.listener.Yo(h,o)}return at(!i.writeResults||0===i.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const i={};i.database=ff(this.M),this.Fo(i)}Jo(i){const o={streamToken:this.lastStreamToken,writes:i.map(h=>zu(this.M,h))};this.Fo(o)}}class v0 extends class{}{constructor(i,o,h,g){super(),this.authCredentials=i,this.appCheckCredentials=o,this.bo=h,this.M=g,this.tu=!1}eu(){if(this.tu)throw new Ut(gt.FAILED_PRECONDITION,"The client has already been terminated.")}oo(i,o,h){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,y])=>this.bo.oo(i,o,h,g,y)).catch(g=>{throw"FirebaseError"===g.name?(g.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Ut(gt.UNKNOWN,g.toString())})}ho(i,o,h){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,y])=>this.bo.ho(i,o,h,g,y)).catch(g=>{throw"FirebaseError"===g.name?(g.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Ut(gt.UNKNOWN,g.toString())})}terminate(){this.tu=!0}}class Gc{constructor(i,o){this.asyncQueue=i,this.onlineStateHandler=o,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(i){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.ou("Offline")))}set(i){this.cu(),this.nu=0,"Online"===i&&(this.iu=!1),this.ou(i)}ou(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}uu(i){const o=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Y(o),this.iu=!1):F("OnlineStateTracker",o)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Tm{constructor(i,o,h,g,y){var D=this;this.localStore=i,this.datastore=o,this.asyncQueue=h,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=y,this._u.Lr(B=>{h.enqueueAndForget((0,_e.Z)(function*(){var J;Ko(D)&&(F("RemoteStore","Restarting streams for network reachability change."),yield(J=(0,_e.Z)(function*(ie){const ze=Bt(ie);ze.fu.add(4),yield xf(ze),ze.wu.set("Unknown"),ze.fu.delete(4),yield eg(ze)}),function(ie){return J.apply(this,arguments)})(D))}))}),this.wu=new Gc(h,g)}}function eg(c){return My.apply(this,arguments)}function My(){return My=(0,_e.Z)(function*(c){if(Ko(c))for(const i of c.du)yield i(!0)}),My.apply(this,arguments)}function xf(c){return tg.apply(this,arguments)}function tg(){return tg=(0,_e.Z)(function*(c){for(const i of c.du)yield i(!1)}),tg.apply(this,arguments)}function ng(c,i){const o=Bt(c);o.lu.has(i.targetId)||(o.lu.set(i.targetId,i),Im(o)?Dm(o):Vd(o).xo()&&wm(o,i))}function Ih(c,i){const o=Bt(c),h=Vd(o);o.lu.delete(i),h.xo()&&ig(o,i),0===o.lu.size&&(h.xo()?h.Mo():Ko(o)&&o.wu.set("Unknown"))}function wm(c,i){c.mu.Z(i.targetId),Vd(c).jo(i)}function ig(c,i){c.mu.Z(i),Vd(c).Wo(i)}function Dm(c){c.mu=new s0({getRemoteKeysForTarget:i=>c.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>c.lu.get(i)||null}),Vd(c).start(),c.wu.ru()}function Im(c){return Ko(c)&&!Vd(c).Co()&&c.lu.size>0}function Ko(c){return 0===Bt(c).fu.size}function wo(c){c.mu=void 0}function vl(c){return Cu.apply(this,arguments)}function Cu(){return Cu=(0,_e.Z)(function*(c){c.lu.forEach((i,o)=>{wm(c,i)})}),Cu.apply(this,arguments)}function Am(c,i){return rg.apply(this,arguments)}function rg(){return rg=(0,_e.Z)(function*(c,i){wo(c),Im(c)?(c.wu.au(i),Dm(c)):c.wu.set("Unknown")}),rg.apply(this,arguments)}function b0(c,i,o){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,_e.Z)(function*(c,i,o){if(c.wu.set("Online"),i instanceof uh&&2===i.state&&i.cause)try{yield(h=(0,_e.Z)(function*(g,y){const D=y.cause;for(const B of y.targetIds)g.lu.has(B)&&(yield g.remoteSyncer.rejectListen(B,D),g.lu.delete(B),g.mu.removeTarget(B))}),function(g,y){return h.apply(this,arguments)})(c,i)}catch(h){F("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),h),yield bl(c,h)}else if(i instanceof df?c.mu.ut(i):i instanceof ha?c.mu._t(i):c.mu.ht(i),!o.isEqual(mi.min()))try{const h=yield Eh(c.localStore);o.compareTo(h)>=0&&(yield function(g,y){const D=g.mu.yt(y);return D.targetChanges.forEach((B,J)=>{if(B.resumeToken.approximateByteSize()>0){const ie=g.lu.get(J);ie&&g.lu.set(J,ie.withResumeToken(B.resumeToken,y))}}),D.targetMismatches.forEach(B=>{const J=g.lu.get(B);if(!J)return;g.lu.set(B,J.withResumeToken(Pr.EMPTY_BYTE_STRING,J.snapshotVersion)),ig(g,B);const ie=new Fc(J.target,B,1,J.sequenceNumber);wm(g,ie)}),g.remoteSyncer.applyRemoteEvent(D)}(c,o))}catch(h){F("RemoteStore","Failed to raise snapshot:",h),yield bl(c,h)}var h}),Sm.apply(this,arguments)}function bl(c,i,o){return xy.apply(this,arguments)}function xy(){return xy=(0,_e.Z)(function*(c,i,o){if(!lc(i))throw i;c.fu.add(1),yield xf(c),c.wu.set("Offline"),o||(o=()=>Eh(c.localStore)),c.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){F("RemoteStore","Retrying IndexedDB access"),yield o(),c.fu.delete(1),yield eg(c)}))}),xy.apply(this,arguments)}function Oy(c,i){return i().catch(o=>bl(c,o,i))}function Ud(c){return sg.apply(this,arguments)}function sg(){return sg=(0,_e.Z)(function*(c){const i=Bt(c),o=rd(i);let h=i.hu.length>0?i.hu[i.hu.length-1].batchId:-1;for(;Mm(i);)try{const g=yield pm(i.localStore,h);if(null===g){0===i.hu.length&&o.Mo();break}h=g.batchId,xm(i,g)}catch(g){yield bl(i,g)}og(i)&&dc(i)}),sg.apply(this,arguments)}function Mm(c){return Ko(c)&&c.hu.length<10}function xm(c,i){c.hu.push(i);const o=rd(c);o.xo()&&o.Ho&&o.Jo(i.mutations)}function og(c){return Ko(c)&&!rd(c).Co()&&c.hu.length>0}function dc(c){rd(c).start()}function nd(c){return Om.apply(this,arguments)}function Om(){return Om=(0,_e.Z)(function*(c){rd(c).Zo()}),Om.apply(this,arguments)}function Ny(c){return Ry.apply(this,arguments)}function Ry(){return Ry=(0,_e.Z)(function*(c){const i=rd(c);for(const o of c.hu)i.Jo(o.mutations)}),Ry.apply(this,arguments)}function Nm(c,i,o){return Of.apply(this,arguments)}function Of(){return Of=(0,_e.Z)(function*(c,i,o){const h=c.hu.shift(),g=gu.from(h,i,o);yield Oy(c,()=>c.remoteSyncer.applySuccessfulWrite(g)),yield Ud(c)}),Of.apply(this,arguments)}function ag(c,i){return id.apply(this,arguments)}function id(){return id=(0,_e.Z)(function*(c,i){var o;i&&rd(c).Ho&&(yield(o=(0,_e.Z)(function*(h,g){if(Gu(y=g.code)&&y!==gt.ABORTED){const D=h.hu.shift();rd(h).ko(),yield Oy(h,()=>h.remoteSyncer.rejectFailedWrite(D.batchId,g)),yield Ud(h)}var y}),function(h,g){return o.apply(this,arguments)})(c,i)),og(c)&&dc(c)}),id.apply(this,arguments)}function Py(c,i){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,_e.Z)(function*(c,i){const o=Bt(c);o.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const h=Ko(o);o.fu.add(3),yield xf(o),h&&o.wu.set("Unknown"),yield o.remoteSyncer.handleCredentialChange(i),o.fu.delete(3),yield eg(o)}),Nf.apply(this,arguments)}function lg(c,i){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,_e.Z)(function*(c,i){const o=Bt(c);i?(o.fu.delete(2),yield eg(o)):i||(o.fu.add(2),yield xf(o),o.wu.set("Unknown"))}),Rf.apply(this,arguments)}function Vd(c){return c.gu||(c.gu=function(i,o,h){const g=Bt(i);return g.eu(),new Ay(o,g.bo,g.authCredentials,g.appCheckCredentials,g.M,h)}(c.datastore,c.asyncQueue,{Hr:vl.bind(null,c),Yr:Am.bind(null,c),Qo:b0.bind(null,c)}),c.du.push(function(){var i=(0,_e.Z)(function*(o){o?(c.gu.ko(),Im(c)?Dm(c):c.wu.set("Unknown")):(yield c.gu.stop(),wo(c))});return function(o){return i.apply(this,arguments)}}())),c.gu}function rd(c){return c.yu||(c.yu=function(i,o,h){const g=Bt(i);return g.eu(),new Sy(o,g.bo,g.authCredentials,g.appCheckCredentials,g.M,h)}(c.datastore,c.asyncQueue,{Hr:nd.bind(null,c),Yr:ag.bind(null,c),Xo:Ny.bind(null,c),Yo:Nm.bind(null,c)}),c.du.push(function(){var i=(0,_e.Z)(function*(o){o?(c.yu.ko(),yield Ud(c)):(yield c.yu.stop(),c.hu.length>0&&(F("RemoteStore",`Stopping write stream with ${c.hu.length} pending writes`),c.hu=[]))});return function(o){return i.apply(this,arguments)}}())),c.yu}class Ah{constructor(i,o,h,g,y){this.asyncQueue=i,this.timerId=o,this.targetTimeMs=h,this.op=g,this.removalCallback=y,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(i,o,h,g,y){const D=Date.now()+h,B=new Ah(i,o,D,g,y);return B.start(h),B}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ut(gt.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sh(c,i){if(Y("AsyncQueue",`${i}: ${c}`),lc(c))return new Ut(gt.UNAVAILABLE,`${i}: ${c}`);throw c}class Mh{constructor(i){this.comparator=i?(o,h)=>i(o,h)||vn.comparator(o.key,h.key):(o,h)=>vn.comparator(o.key,h.key),this.keyedMap=vp(),this.sortedSet=new Gs(this.comparator)}static emptySet(i){return new Mh(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const o=this.keyedMap.get(i);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((o,h)=>(i(o),!1))}add(i){const o=this.delete(i.key);return o.copy(o.keyedMap.insert(i.key,i),o.sortedSet.insert(i,null))}delete(i){const o=this.get(i);return o?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(o)):this}isEqual(i){if(!(i instanceof Mh)||this.size!==i.size)return!1;const o=this.sortedSet.getIterator(),h=i.sortedSet.getIterator();for(;o.hasNext();){const g=o.getNext().key,y=h.getNext().key;if(!g.isEqual(y))return!1}return!0}toString(){const i=[];return this.forEach(o=>{i.push(o.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,o){const h=new Mh;return h.comparator=this.comparator,h.keyedMap=i,h.sortedSet=o,h}}class Rm{constructor(){this.pu=new Gs(vn.comparator)}track(i){const o=i.doc.key,h=this.pu.get(o);h?0!==i.type&&3===h.type?this.pu=this.pu.insert(o,i):3===i.type&&1!==h.type?this.pu=this.pu.insert(o,{type:h.type,doc:i.doc}):2===i.type&&2===h.type?this.pu=this.pu.insert(o,{type:2,doc:i.doc}):2===i.type&&0===h.type?this.pu=this.pu.insert(o,{type:0,doc:i.doc}):1===i.type&&0===h.type?this.pu=this.pu.remove(o):1===i.type&&2===h.type?this.pu=this.pu.insert(o,{type:1,doc:h.doc}):0===i.type&&1===h.type?this.pu=this.pu.insert(o,{type:2,doc:i.doc}):pe():this.pu=this.pu.insert(o,i)}Iu(){const i=[];return this.pu.inorderTraversal((o,h)=>{i.push(h)}),i}}class hc{constructor(i,o,h,g,y,D,B,J){this.query=i,this.docs=o,this.oldDocs=h,this.docChanges=g,this.mutatedKeys=y,this.fromCache=D,this.syncStateChanged=B,this.excludesMetadataChanges=J}static fromInitialDocuments(i,o,h,g){const y=[];return o.forEach(D=>{y.push({type:0,doc:D})}),new hc(i,o,Mh.emptySet(o),y,h,g,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&cu(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const o=this.docChanges,h=i.docChanges;if(o.length!==h.length)return!1;for(let g=0;g<o.length;g++)if(o[g].type!==h[g].type||!o[g].doc.isEqual(h[g].doc))return!1;return!0}}class ky{constructor(){this.Tu=void 0,this.listeners=[]}}class C0{constructor(){this.queries=new Vl(i=>af(i),cu),this.onlineState="Unknown",this.Eu=new Set}}function Pm(c,i){return Eu.apply(this,arguments)}function Eu(){return Eu=(0,_e.Z)(function*(c,i){const o=Bt(c),h=i.query;let g=!1,y=o.queries.get(h);if(y||(g=!0,y=new ky),g)try{y.Tu=yield o.onListen(h)}catch(D){const B=Sh(D,`Initialization of query '${xc(i.query)}' failed`);return void i.onError(B)}o.queries.set(h,y),y.listeners.push(i),i.Au(o.onlineState),y.Tu&&i.Ru(y.Tu)&&Cl(o)}),Eu.apply(this,arguments)}function vs(c,i){return cg.apply(this,arguments)}function cg(){return cg=(0,_e.Z)(function*(c,i){const o=Bt(c),h=i.query;let g=!1;const y=o.queries.get(h);if(y){const D=y.listeners.indexOf(i);D>=0&&(y.listeners.splice(D,1),g=0===y.listeners.length)}if(g)return o.queries.delete(h),o.onUnlisten(h)}),cg.apply(this,arguments)}function E0(c,i){const o=Bt(c);let h=!1;for(const g of i){const D=o.queries.get(g.query);if(D){for(const B of D.listeners)B.Ru(g)&&(h=!0);D.Tu=g}}h&&Cl(o)}function $d(c,i,o){const h=Bt(c),g=h.queries.get(i);if(g)for(const y of g.listeners)y.onError(o);h.queries.delete(i)}function Cl(c){c.Eu.forEach(i=>{i.next()})}class Pf{constructor(i,o,h){this.query=i,this.Pu=o,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=h||{}}Ru(i){if(!this.options.includeMetadataChanges){const h=[];for(const g of i.docChanges)3!==g.type&&h.push(g);i=new hc(i.query,i.docs,i.oldDocs,h,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let o=!1;return this.bu?this.vu(i)&&(this.Pu.next(i),o=!0):this.Su(i,this.onlineState)&&(this.Du(i),o=!0),this.Vu=i,o}onError(i){this.Pu.error(i)}Au(i){this.onlineState=i;let o=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,i)&&(this.Du(this.Vu),o=!0),o}Su(i,o){return!i.fromCache||!(this.options.Cu&&"Offline"!==o||i.docs.isEmpty()&&"Offline"!==o)}vu(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(i){i=hc.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.bu=!0,this.Pu.next(i)}}class Fy{constructor(i,o){this.payload=i,this.byteLength=o}xu(){return"metadata"in this.payload}}class km{constructor(i){this.M=i}fi(i){return Hl(this.M,i)}di(i){return i.metadata.exists?em(this.M,i.document,!1):te.newNoDocument(this.fi(i.metadata.name),this._i(i.metadata.readTime))}_i(i){return go(i)}}class Bo{constructor(i,o,h){this.Nu=i,this.localStore=o,this.M=h,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ug(i)}ku(i){this.progress.bytesLoaded+=i.byteLength;let o=this.progress.documentsLoaded;if(i.payload.namedQuery)this.queries.push(i.payload.namedQuery);else if(i.payload.documentMetadata){this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++o;const h=ir.fromString(i.payload.documentMetadata.name);this.collectionGroups.add(h.get(h.length-2))}else i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++o);return o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}Mu(i){const o=new Map,h=new km(this.M);for(const g of i)if(g.metadata.queries){const y=h.fi(g.metadata.name);for(const D of g.metadata.queries){const B=(o.get(D)||ts()).add(y);o.set(D,B)}}return o}complete(){var i=this;return(0,_e.Z)(function*(){const o=yield function wh(c,i,o,h){return qp.apply(this,arguments)}(i.localStore,new km(i.M),i.documents,i.Nu.id),h=i.Mu(i.documents);for(const g of i.queries)yield vy(i.localStore,g,h.get(g.name));return i.progress.taskState="Success",{progress:i.progress,Ou:i.collectionGroups,Fu:o}})()}}function ug(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}class Ly{constructor(i){this.key=i}}class By{constructor(i){this.key=i}}class Uy{constructor(i,o){this.query=i,this.$u=o,this.Bu=null,this.current=!1,this.Lu=ts(),this.mutatedKeys=ts(),this.Uu=uu(i),this.qu=new Mh(this.Uu)}get Ku(){return this.$u}Gu(i,o){const h=o?o.Qu:new Rm,g=o?o.qu:this.qu;let y=o?o.mutatedKeys:this.mutatedKeys,D=g,B=!1;const J=Mc(this.query)&&g.size===this.query.limit?g.last():null,ie=fl(this.query)&&g.size===this.query.limit?g.first():null;if(i.inorderTraversal((ze,dt)=>{const kt=g.get(ze),Qt=lf(this.query,dt)?dt:null,rn=!!kt&&this.mutatedKeys.has(kt.key),Fn=!!Qt&&(Qt.hasLocalMutations||this.mutatedKeys.has(Qt.key)&&Qt.hasCommittedMutations);let Si=!1;kt&&Qt?kt.data.isEqual(Qt.data)?rn!==Fn&&(h.track({type:3,doc:Qt}),Si=!0):this.ju(kt,Qt)||(h.track({type:2,doc:Qt}),Si=!0,(J&&this.Uu(Qt,J)>0||ie&&this.Uu(Qt,ie)<0)&&(B=!0)):!kt&&Qt?(h.track({type:0,doc:Qt}),Si=!0):kt&&!Qt&&(h.track({type:1,doc:kt}),Si=!0,(J||ie)&&(B=!0)),Si&&(Qt?(D=D.add(Qt),y=Fn?y.add(ze):y.delete(ze)):(D=D.delete(ze),y=y.delete(ze)))}),Mc(this.query)||fl(this.query))for(;D.size>this.query.limit;){const ze=Mc(this.query)?D.last():D.first();D=D.delete(ze.key),y=y.delete(ze.key),h.track({type:1,doc:ze})}return{qu:D,Qu:h,ni:B,mutatedKeys:y}}ju(i,o){return i.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(i,o,h){const g=this.qu;this.qu=i.qu,this.mutatedKeys=i.mutatedKeys;const y=i.Qu.Iu();y.sort((ie,ze)=>function(dt,kt){const Qt=rn=>{switch(rn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return Qt(dt)-Qt(kt)}(ie.type,ze.type)||this.Uu(ie.doc,ze.doc)),this.Wu(h);const D=o?this.zu():[],B=0===this.Lu.size&&this.current?1:0,J=B!==this.Bu;return this.Bu=B,0!==y.length||J?{snapshot:new hc(this.query,i.qu,g,y,i.mutatedKeys,0===B,J,!1),Hu:D}:{Hu:D}}Au(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Rm,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(i){return!this.$u.has(i)&&!!this.qu.has(i)&&!this.qu.get(i).hasLocalMutations}Wu(i){i&&(i.addedDocuments.forEach(o=>this.$u=this.$u.add(o)),i.modifiedDocuments.forEach(o=>{}),i.removedDocuments.forEach(o=>this.$u=this.$u.delete(o)),this.current=i.current)}zu(){if(!this.current)return[];const i=this.Lu;this.Lu=ts(),this.qu.forEach(h=>{this.Ju(h.key)&&(this.Lu=this.Lu.add(h.key))});const o=[];return i.forEach(h=>{this.Lu.has(h)||o.push(new By(h))}),this.Lu.forEach(h=>{i.has(h)||o.push(new Ly(h))}),o}Yu(i){this.$u=i.li,this.Lu=ts();const o=this.Gu(i.documents);return this.applyChanges(o,!0)}Xu(){return hc.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class T0{constructor(i,o,h){this.query=i,this.targetId=o,this.view=h}}class Vy{constructor(i){this.key=i,this.Zu=!1}}class $y{constructor(i,o,h,g,y,D){this.localStore=i,this.remoteStore=o,this.eventManager=h,this.sharedClientState=g,this.currentUser=y,this.maxConcurrentLimboResolutions=D,this.ta={},this.ea=new Vl(B=>af(B),cu),this.na=new Map,this.sa=new Set,this.ia=new Gs(vn.comparator),this.ra=new Map,this.oa=new Yp,this.ua={},this.aa=new Map,this.ca=vu.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function Hy(c,i){return dg.apply(this,arguments)}function dg(){return dg=(0,_e.Z)(function*(c,i){const o=cd(c);let h,g;const y=o.ea.get(i);if(y)h=y.targetId,o.sharedClientState.addLocalQueryTarget(h),g=y.view.Xu();else{const D=yield Fd(o.localStore,po(i));o.isPrimaryClient&&ng(o.remoteStore,D);const B=o.sharedClientState.addLocalQueryTarget(D.targetId);h=D.targetId,g=yield hg(o,i,h,"current"===B)}return g}),dg.apply(this,arguments)}function hg(c,i,o,h){return jy.apply(this,arguments)}function jy(){return jy=(0,_e.Z)(function*(c,i,o,h){c.la=(ze,dt,kt)=>{return(Qt=(0,_e.Z)(function*(rn,Fn,Si,Ls){let vo=Fn.view.Gu(Si);vo.ni&&(vo=yield Lo(rn.localStore,Fn.query,!1).then(({documents:Cs})=>Fn.view.Gu(Cs,vo)));const ls=Ls&&Ls.targetChanges.get(Fn.targetId),zs=Fn.view.applyChanges(vo,rn.isPrimaryClient,ls);return fc(rn,Fn.targetId,zs.Hu),zs.snapshot}),function(rn,Fn,Si,Ls){return Qt.apply(this,arguments)})(c,ze,dt,kt);var Qt};const g=yield Lo(c.localStore,i,!0),y=new Uy(i,g.li),D=y.Gu(g.documents),B=ch.createSynthesizedTargetChangeForCurrentChange(o,h&&"Offline"!==c.onlineState),J=y.applyChanges(D,c.isPrimaryClient,B);fc(c,o,J.Hu);const ie=new T0(i,o,y);return c.ea.set(i,ie),c.na.has(o)?c.na.get(o).push(i):c.na.set(o,[i]),J.snapshot}),jy.apply(this,arguments)}function Tu(c,i){return xh.apply(this,arguments)}function xh(){return xh=(0,_e.Z)(function*(c,i){const o=Bt(c),h=o.ea.get(i),g=o.na.get(h.targetId);if(g.length>1)return o.na.set(h.targetId,g.filter(y=>!cu(y,i))),void o.ea.delete(i);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(h.targetId),o.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Ld(o.localStore,h.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(h.targetId),Ih(o.remoteStore,h.targetId),sd(o,h.targetId)}).catch(Xu))):(sd(o,h.targetId),yield Ld(o.localStore,h.targetId,!0))}),xh.apply(this,arguments)}function Fm(){return Fm=(0,_e.Z)(function*(c,i,o){const h=ud(c);try{const g=yield function(y,D){const B=Bt(y),J=Zr.now(),ie=D.reduce((dt,kt)=>dt.add(kt.key),ts());let ze;return B.persistence.runTransaction("Locally write mutations","readwrite",dt=>B.ci.Ks(dt,ie).next(kt=>{ze=kt;const Qt=[];for(const rn of D){const Fn=Rs(rn,ze.get(rn.key));null!=Fn&&Qt.push(new Ul(rn.key,Fn,W(Fn.value.mapValue),Ct.exists(!0)))}return B.Bs.addMutationBatch(dt,J,Qt,D)})).then(dt=>(dt.applyToLocalDocumentSet(ze),{batchId:dt.batchId,changes:ze}))}(h.localStore,i);h.sharedClientState.addPendingMutation(g.batchId),function(y,D,B){let J=y.ua[y.currentUser.toKey()];J||(J=new Gs(vi)),J=J.insert(D,B),y.ua[y.currentUser.toKey()]=J}(h,g.batchId,o),yield Do(h,g.changes),yield Ud(h.remoteStore)}catch(g){const y=Sh(g,"Failed to persist write");o.reject(y)}}),Fm.apply(this,arguments)}function Oh(c,i){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,_e.Z)(function*(c,i){const o=Bt(c);try{const h=yield Af(o.localStore,i);i.targetChanges.forEach((g,y)=>{const D=o.ra.get(y);D&&(at(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?D.Zu=!0:g.modifiedDocuments.size>0?at(D.Zu):g.removedDocuments.size>0&&(at(D.Zu),D.Zu=!1))}),yield Do(o,h,i)}catch(h){yield Xu(h)}}),Lm.apply(this,arguments)}function ql(c,i,o){const h=Bt(c);if(h.isPrimaryClient&&0===o||!h.isPrimaryClient&&1===o){const g=[];h.ea.forEach((y,D)=>{const B=D.view.Au(i);B.snapshot&&g.push(B.snapshot)}),function(y,D){const B=Bt(y);B.onlineState=D;let J=!1;B.queries.forEach((ie,ze)=>{for(const dt of ze.listeners)dt.Au(D)&&(J=!0)}),J&&Cl(B)}(h.eventManager,i),g.length&&h.ta.Qo(g),h.onlineState=i,h.isPrimaryClient&&h.sharedClientState.setOnlineState(i)}}function co(c,i,o){return tl.apply(this,arguments)}function tl(){return tl=(0,_e.Z)(function*(c,i,o){const h=Bt(c);h.sharedClientState.updateQueryState(i,"rejected",o);const g=h.ra.get(i),y=g&&g.key;if(y){let D=new Gs(vn.comparator);D=D.insert(y,te.newNoDocument(y,mi.min()));const B=ts().add(y),J=new hu(mi.min(),new Map,new Ps(vi),D,B);yield Oh(h,J),h.ia=h.ia.remove(y),h.ra.delete(i),gg(h)}else yield Ld(h.localStore,i,!1).then(()=>sd(h,i,o)).catch(Xu)}),tl.apply(this,arguments)}function fg(c,i){return kf.apply(this,arguments)}function kf(){return kf=(0,_e.Z)(function*(c,i){const o=Bt(c),h=i.batch.batchId;try{const g=yield If(o.localStore,i);Pn(o,h,null),Nh(o,h),o.sharedClientState.updateMutationState(h,"acknowledged"),yield Do(o,g)}catch(g){yield Xu(g)}}),kf.apply(this,arguments)}function zy(c,i,o){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,_e.Z)(function*(c,i,o){const h=Bt(c);try{const g=yield function(y,D){const B=Bt(y);return B.persistence.runTransaction("Reject batch","readwrite-primary",J=>{let ie;return B.Bs.lookupMutationBatch(J,D).next(ze=>(at(null!==ze),ie=ze.keys(),B.Bs.removeMutationBatch(J,ze))).next(()=>B.Bs.performConsistencyCheck(J)).next(()=>B.ci.Ks(J,ie))})}(h.localStore,i);Pn(h,i,o),Nh(h,i),h.sharedClientState.updateMutationState(i,"rejected",o),yield Do(h,g)}catch(g){yield Xu(g)}}),Bm.apply(this,arguments)}function pg(){return pg=(0,_e.Z)(function*(c,i){const o=Bt(c);Ko(o.remoteStore)||F("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const h=yield function(y){const D=Bt(y);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",B=>D.Bs.getHighestUnacknowledgedBatchId(B))}(o.localStore);if(-1===h)return void i.resolve();const g=o.aa.get(h)||[];g.push(i),o.aa.set(h,g)}catch(h){const g=Sh(h,"Initialization of waitForPendingWrites() operation failed");i.reject(g)}}),pg.apply(this,arguments)}function Nh(c,i){(c.aa.get(i)||[]).forEach(o=>{o.resolve()}),c.aa.delete(i)}function Pn(c,i,o){const h=Bt(c);let g=h.ua[h.currentUser.toKey()];if(g){const y=g.get(i);y&&(o?y.reject(o):y.resolve(),g=g.remove(i)),h.ua[h.currentUser.toKey()]=g}}function sd(c,i,o=null){c.sharedClientState.removeLocalQueryTarget(i);for(const h of c.na.get(i))c.ea.delete(h),o&&c.ta.fa(h,o);c.na.delete(i),c.isPrimaryClient&&c.oa.Pi(i).forEach(h=>{c.oa.containsKey(h)||Ff(c,h)})}function Ff(c,i){c.sa.delete(i.path.canonicalString());const o=c.ia.get(i);null!==o&&(Ih(c.remoteStore,o),c.ia=c.ia.remove(i),c.ra.delete(o),gg(c))}function fc(c,i,o){for(const h of o)h instanceof Ly?(c.oa.addReference(h.key,i),D0(c,h)):h instanceof By?(F("SyncEngine","Document no longer in limbo: "+h.key),c.oa.removeReference(h.key,i),c.oa.containsKey(h.key)||Ff(c,h.key)):pe()}function D0(c,i){const o=i.key,h=o.path.canonicalString();c.ia.get(o)||c.sa.has(h)||(F("SyncEngine","New document in limbo: "+o),c.sa.add(h),gg(c))}function gg(c){for(;c.sa.size>0&&c.ia.size<c.maxConcurrentLimboResolutions;){const i=c.sa.values().next().value;c.sa.delete(i);const o=new vn(ir.fromString(i)),h=c.ca.next();c.ra.set(h,new Vy(o)),c.ia=c.ia.insert(o,h),ng(c.remoteStore,new Fc(po(lo(o.path)),h,2,xo.A))}}function Do(c,i,o){return El.apply(this,arguments)}function El(){return El=(0,_e.Z)(function*(c,i,o){const h=Bt(c),g=[],y=[],D=[];var B;h.ea.isEmpty()||(h.ea.forEach((B,J)=>{D.push(h.la(J,i,o).then(ie=>{if(ie){h.isPrimaryClient&&h.sharedClientState.updateQueryState(J.targetId,ie.fromCache?"not-current":"current"),g.push(ie);const ze=Ch.Ys(J.targetId,ie);y.push(ze)}}))}),yield Promise.all(D),h.ta.Qo(g),yield(B=(0,_e.Z)(function*(J,ie){const ze=Bt(J);try{yield ze.persistence.runTransaction("notifyLocalViewChanges","readwrite",dt=>$t.forEach(ie,kt=>$t.forEach(kt.Hs,Qt=>ze.persistence.referenceDelegate.addReference(dt,kt.targetId,Qt)).next(()=>$t.forEach(kt.Js,Qt=>ze.persistence.referenceDelegate.removeReference(dt,kt.targetId,Qt)))))}catch(dt){if(!lc(dt))throw dt;F("LocalStore","Failed to update sequence numbers: "+dt)}for(const dt of ie){const kt=dt.targetId;if(!dt.fromCache){const Qt=ze.ii.get(kt),Fn=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion);ze.ii=ze.ii.insert(kt,Fn)}}}),function(J,ie){return B.apply(this,arguments)})(h.localStore,y))}),El.apply(this,arguments)}function Tl(c,i){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,_e.Z)(function*(c,i){const o=Bt(c);if(!o.currentUser.isEqual(i)){F("SyncEngine","User change. New user:",i.toKey());const h=yield yy(o.localStore,i);o.currentUser=i,(g=o).aa.forEach(D=>{D.forEach(B=>{B.reject(new Ut(gt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.aa.clear(),o.sharedClientState.handleUserChange(i,h.removedBatchIds,h.addedBatchIds),yield Do(o,h.hi)}var g}),Jo.apply(this,arguments)}function Um(c,i){const o=Bt(c),h=o.ra.get(i);if(h&&h.Zu)return ts().add(h.key);{let g=ts();const y=o.na.get(i);if(!y)return g;for(const D of y){const B=o.ea.get(D);g=g.unionWith(B.view.Ku)}return g}}function wu(c,i){return od.apply(this,arguments)}function od(){return od=(0,_e.Z)(function*(c,i){const o=Bt(c),h=yield Lo(o.localStore,i.query,!0),g=i.view.Yu(h);return o.isPrimaryClient&&fc(o,i.targetId,g.Hu),g}),od.apply(this,arguments)}function Lf(c,i){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,_e.Z)(function*(c,i){const o=Bt(c);return Bd(o.localStore,i).then(h=>Do(o,h))}),Bf.apply(this,arguments)}function pc(c,i,o,h){return gc.apply(this,arguments)}function gc(){return gc=(0,_e.Z)(function*(c,i,o,h){const g=Bt(c),y=yield function(D,B){const J=Bt(D),ie=Bt(J.Bs);return J.persistence.runTransaction("Lookup mutation documents","readonly",ze=>ie.fn(ze,B).next(dt=>dt?J.ci.Ks(ze,dt):$t.resolve(null)))}(g.localStore,i);var B;null!==y?("pending"===o?yield Ud(g.remoteStore):"acknowledged"===o||"rejected"===o?(Pn(g,i,h||null),Nh(g,i),B=i,Bt(Bt(g.localStore).Bs)._n(B)):pe(),yield Do(g,y)):F("SyncEngine","Cannot apply mutation batch with id: "+i)}),gc.apply(this,arguments)}function zc(){return zc=(0,_e.Z)(function*(c,i){const o=Bt(c);if(cd(o),ud(o),!0===i&&!0!==o.ha){const h=o.sharedClientState.getAllActiveQueryTargets(),g=yield Uf(o,h.toArray());o.ha=!0,yield lg(o.remoteStore,!0);for(const y of g)ng(o.remoteStore,y)}else if(!1===i&&!1!==o.ha){const h=[];let g=Promise.resolve();o.na.forEach((y,D)=>{o.sharedClientState.isLocalQueryTarget(D)?h.push(D):g=g.then(()=>(sd(o,D),Ld(o.localStore,D,!0))),Ih(o.remoteStore,D)}),yield g,yield Uf(o,h),function(y){const D=Bt(y);D.ra.forEach((B,J)=>{Ih(D.remoteStore,J)}),D.oa.bi(),D.ra=new Map,D.ia=new Gs(vn.comparator)}(o),o.ha=!1,yield lg(o.remoteStore,!1)}}),zc.apply(this,arguments)}function Uf(c,i,o){return nl.apply(this,arguments)}function nl(){return nl=(0,_e.Z)(function*(c,i,o){const h=Bt(c),g=[],y=[];for(const D of i){let B;const J=h.na.get(D);if(J&&0!==J.length){B=yield Fd(h.localStore,po(J[0]));for(const ie of J){const ze=h.ea.get(ie),dt=yield wu(h,ze);dt.snapshot&&y.push(dt.snapshot)}}else{const ie=yield Sf(h.localStore,D);B=yield Fd(h.localStore,ie),yield hg(h,mg(ie),D,!1)}g.push(B)}return h.ta.Qo(y),g}),nl.apply(this,arguments)}function mg(c){return pp(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function Rh(c){const i=Bt(c);return Bt(Bt(i.localStore).persistence).Fs()}function Ph(c,i,o,h){return ad.apply(this,arguments)}function ad(){return ad=(0,_e.Z)(function*(c,i,o,h){const g=Bt(c);if(g.ha)return void F("SyncEngine","Ignoring unexpected query state notification.");const y=g.na.get(i);if(y&&y.length>0)switch(o){case"current":case"not-current":{const D=yield Bd(g.localStore,gp(y[0])),B=hu.createSynthesizedRemoteEventForCurrentChange(i,"current"===o);yield Do(g,D,B);break}case"rejected":yield Ld(g.localStore,i,!0),sd(g,i,h);break;default:pe()}}),ad.apply(this,arguments)}function kh(c,i,o){return ld.apply(this,arguments)}function ld(){return ld=(0,_e.Z)(function*(c,i,o){const h=cd(c);if(h.ha){for(const g of i){if(h.na.has(g)){F("SyncEngine","Adding an already active target "+g);continue}const y=yield Sf(h.localStore,g),D=yield Fd(h.localStore,y);yield hg(h,mg(y),D.targetId,!1),ng(h.remoteStore,D)}for(const g of o)h.na.has(g)&&(yield Ld(h.localStore,g,!1).then(()=>{Ih(h.remoteStore,g),sd(h,g)}).catch(Xu))}}),ld.apply(this,arguments)}function cd(c){const i=Bt(c);return i.remoteStore.remoteSyncer.applyRemoteEvent=Oh.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=Um.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=co.bind(null,i),i.ta.Qo=E0.bind(null,i.eventManager),i.ta.fa=$d.bind(null,i.eventManager),i}function ud(c){const i=Bt(c);return i.remoteStore.remoteSyncer.applySuccessfulWrite=fg.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=zy.bind(null,i),i}class fa{constructor(){this.synchronizeTabs=!1}initialize(i){var o=this;return(0,_e.Z)(function*(){o.M=Dh(i.databaseInfo.databaseId),o.sharedClientState=o._a(i),o.persistence=o.wa(i),yield o.persistence.start(),o.gcScheduler=o.ma(i),o.localStore=o.ga(i)})()}ma(i){return null}ga(i){return Wp(this.persistence,new zp,i.initialUser,this.M)}wa(i){return new Ey(Kp.zi,this.M)}_a(i){return new ym}terminate(){var i=this;return(0,_e.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class dd extends fa{constructor(i,o,h){super(),this.ya=i,this.cacheSizeBytes=o,this.forceOwnership=h,this.synchronizeTabs=!1}initialize(i){var o=()=>super.initialize,h=this;return(0,_e.Z)(function*(){yield o().call(h,i),yield h.ya.initialize(h,i),yield ud(h.ya.syncEngine),yield Ud(h.ya.remoteStore),yield h.persistence.Ts(()=>(h.gcScheduler&&!h.gcScheduler.started&&h.gcScheduler.start(h.localStore),Promise.resolve()))})()}ga(i){return Wp(this.persistence,new zp,i.initialUser,this.M)}ma(i){return new Jb(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)}wa(i){const o=Df(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),h=void 0!==this.cacheSizeBytes?Yo.withCacheSize(this.cacheSizeBytes):Yo.DEFAULT;return new hm(this.synchronizeTabs,o,i.clientId,h,i.asyncQueue,Cm(),Xp(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(i){return new ym}}class wl extends dd{constructor(i,o){super(i,o,!1),this.ya=i,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(i){var o=()=>super.initialize,h=this;return(0,_e.Z)(function*(){yield o().call(h,i);const g=h.ya.syncEngine;h.sharedClientState instanceof Dy&&(h.sharedClientState.syncEngine={Mr:pc.bind(null,g),Or:Ph.bind(null,g),Fr:kh.bind(null,g),Fs:Rh.bind(null,g),kr:Lf.bind(null,g)},yield h.sharedClientState.start()),yield h.persistence.Ts(function(){var y=(0,_e.Z)(function*(D){yield function wa(c,i){return zc.apply(this,arguments)}(h.ya.syncEngine,D),h.gcScheduler&&(D&&!h.gcScheduler.started?h.gcScheduler.start(h.localStore):D||h.gcScheduler.stop())});return function(D){return y.apply(this,arguments)}}())})()}_a(i){const o=Cm();if(!Dy.vt(o))throw new Ut(gt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const h=Df(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new Dy(o,i.asyncQueue,h,i.clientId,i.initialUser)}}class Lh{initialize(i,o){var h=this;return(0,_e.Z)(function*(){h.localStore||(h.localStore=i.localStore,h.sharedClientState=i.sharedClientState,h.datastore=h.createDatastore(o),h.remoteStore=h.createRemoteStore(o),h.eventManager=h.createEventManager(o),h.syncEngine=h.createSyncEngine(o,!i.synchronizeTabs),h.sharedClientState.onlineStateHandler=g=>ql(h.syncEngine,g,1),h.remoteStore.remoteSyncer.handleCredentialChange=Tl.bind(null,h.syncEngine),yield lg(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(i){return new C0}createDatastore(i){const o=Dh(i.databaseInfo.databaseId),h=new Xb(i.databaseInfo);return new v0(i.authCredentials,i.appCheckCredentials,h,o)}createRemoteStore(i){return o=this.localStore,h=this.datastore,g=i.asyncQueue,y=B=>ql(this.syncEngine,B,0),D=bm.vt()?new bm:new vm,new Tm(o,h,g,y,D);var o,h,g,y,D}createSyncEngine(i,o){return function(h,g,y,D,B,J,ie){const ze=new $y(h,g,y,D,B,J);return ie&&(ze.ha=!0),ze}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,o)}terminate(){return(i=(0,_e.Z)(function*(o){const h=Bt(o);F("RemoteStore","RemoteStore shutting down."),h.fu.add(5),yield xf(h),h._u.shutdown(),h.wu.set("Unknown")}),function(o){return i.apply(this,arguments)})(this.remoteStore);var i}}function Wc(c,i=10240){let o=0;return{read:()=>(0,_e.Z)(function*(){if(o<c.byteLength){const h={value:c.slice(o,o+i),done:!1};return o+=i,h}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class mc{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.pa(this.observer.next,i)}error(i){this.observer.error?this.pa(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Ia(){this.muted=!0}pa(i,o){this.muted||setTimeout(()=>{this.muted||i(o)},0)}}class Vf{constructor(i,o){this.Ta=i,this.M=o,this.metadata=new di,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(h=>{h&&h.xu()?this.metadata.resolve(h.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==h?void 0:h.payload)}`))},h=>this.metadata.reject(h))}close(){return this.Ta.cancel()}getMetadata(){var i=this;return(0,_e.Z)(function*(){return i.metadata.promise})()}da(){var i=this;return(0,_e.Z)(function*(){return yield i.getMetadata(),i.Aa()})()}Aa(){var i=this;return(0,_e.Z)(function*(){const o=yield i.Ra();if(null===o)return null;const h=i.Ea.decode(o),g=Number(h);isNaN(g)&&i.Pa(`length string (${h}) is not valid number`);const y=yield i.ba(g);return new Fy(JSON.parse(y),o.length+g)})()}Va(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}Ra(){var i=this;return(0,_e.Z)(function*(){for(;i.Va()<0&&!(yield i.va()););if(0===i.buffer.length)return null;const o=i.Va();o<0&&i.Pa("Reached the end of bundle when a length string is expected.");const h=i.buffer.slice(0,o);return i.buffer=i.buffer.slice(o),h})()}ba(i){var o=this;return(0,_e.Z)(function*(){for(;o.buffer.length<i;)(yield o.va())&&o.Pa("Reached the end of bundle when more is expected.");const h=o.Ea.decode(o.buffer.slice(0,i));return o.buffer=o.buffer.slice(i),h})()}Pa(i){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${i}`)}va(){var i=this;return(0,_e.Z)(function*(){const o=yield i.Ta.read();if(!o.done){const h=new Uint8Array(i.buffer.length+o.value.length);h.set(i.buffer),h.set(o.value,i.buffer.length),i.buffer=h}return o.done})()}}class Hd{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var o=this;return(0,_e.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new Ut(gt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const h=yield(g=(0,_e.Z)(function*(y,D){const B=Bt(y),J=ff(B.M)+"/documents",ie={documents:D.map(Qt=>Id(B.M,Qt))},ze=yield B.ho("BatchGetDocuments",J,ie),dt=new Map;ze.forEach(Qt=>{const rn=function Q_(c,i){return"found"in i?function(o,h){at(!!h.found);const g=Hl(o,h.found.name),y=go(h.found.updateTime),D=new $({mapValue:{fields:h.found.fields}});return te.newFoundDocument(g,y,D)}(c,i):"missing"in i?function(o,h){at(!!h.missing),at(!!h.readTime);const g=Hl(o,h.missing),y=go(h.readTime);return te.newNoDocument(g,y)}(c,i):pe()}(B.M,Qt);dt.set(rn.key.toString(),rn)});const kt=[];return D.forEach(Qt=>{const rn=dt.get(Qt.toString());at(!!rn),kt.push(rn)}),kt}),function(y,D){return g.apply(this,arguments)})(o.datastore,i);var g;return h.forEach(g=>o.recordVersion(g)),h})()}set(i,o){this.write(o.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,o){try{this.write(o.toMutation(i,this.preconditionForUpdate(i)))}catch(h){this.lastWriteError=h}this.writtenDocs.add(i.toString())}delete(i){this.write(new Rc(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,_e.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const o=i.readVersions;var h;i.mutations.forEach(h=>{o.delete(h.key.toString())}),o.forEach((h,g)=>{const y=vn.fromPath(g);i.mutations.push(new ah(y,i.precondition(y)))}),yield(h=(0,_e.Z)(function*(g,y){const D=Bt(g),B=ff(D.M)+"/documents",J={writes:y.map(ie=>zu(D.M,ie))};yield D.oo("Commit",B,J)}),function(g,y){return h.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let o;if(i.isFoundDocument())o=i.version;else{if(!i.isNoDocument())throw pe();o=mi.min()}const h=this.readVersions.get(i.key.toString());if(h){if(!o.isEqual(h))throw new Ut(gt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),o)}precondition(i){const o=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&o?Ct.updateTime(o):Ct.none()}preconditionForUpdate(i){const o=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&o){if(o.isEqual(mi.min()))throw new Ut(gt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ct.updateTime(o)}return Ct.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class jd{constructor(i,o,h,g){this.asyncQueue=i,this.datastore=o,this.updateFunction=h,this.deferred=g,this.Sa=5,this.Do=new Em(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var i=this;this.Do.To((0,_e.Z)(function*(){const o=new Hd(i.datastore),h=i.Ca(o);h&&h.then(g=>{i.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{i.deferred.resolve(g)}).catch(y=>{i.xa(y)}))}).catch(g=>{i.xa(g)})}))}Ca(i){try{const o=this.updateFunction(i);return!oa(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}xa(i){this.Sa>0&&this.Na(i)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(i)}Na(i){if("FirebaseError"===i.name){const o=i.code;return"aborted"===o||"failed-precondition"===o||!Gu(o)}return!1}}class _g{constructor(i,o,h,g){var y=this;this.authCredentials=i,this.appCheckCredentials=o,this.asyncQueue=h,this.databaseInfo=g,this.user=Xs.UNAUTHENTICATED,this.clientId=To.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(h,function(){var D=(0,_e.Z)(function*(B){F("FirestoreClient","Received user=",B.uid),yield y.authCredentialListener(B),y.user=B});return function(B){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(h,D=>(F("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var i=this;return(0,_e.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,authCredentials:i.authCredentials,appCheckCredentials:i.appCheckCredentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ut(gt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const o=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),o.resolve()}catch(h){const g=Sh(h,"Failed to shutdown persistence");o.reject(g)}})),o.promise}}function yg(c,i){return vg.apply(this,arguments)}function vg(){return vg=(0,_e.Z)(function*(c,i){c.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const o=yield c.getConfiguration();yield i.initialize(o);let h=o.initialUser;c.setCredentialChangeListener(function(){var g=(0,_e.Z)(function*(y){h.isEqual(y)||(yield yy(i.localStore,y),h=y)});return function(y){return g.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>c.terminate()),c.offlineComponents=i}),vg.apply(this,arguments)}function qc(c,i){return bg.apply(this,arguments)}function bg(){return bg=(0,_e.Z)(function*(c,i){c.asyncQueue.verifyOperationInProgress();const o=yield Dl(c);F("FirestoreClient","Initializing OnlineComponentProvider");const h=yield c.getConfiguration();yield i.initialize(o,h),c.setCredentialChangeListener(g=>Py(i.remoteStore,g)),c.setAppCheckTokenChangeListener((g,y)=>Py(i.remoteStore,y)),c.onlineComponents=i}),bg.apply(this,arguments)}function Dl(c){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,_e.Z)(function*(c){return c.offlineComponents||(F("FirestoreClient","Using default OfflineComponentProvider"),yield yg(c,new fa)),c.offlineComponents}),Bh.apply(this,arguments)}function Uh(c){return $f.apply(this,arguments)}function $f(){return $f=(0,_e.Z)(function*(c){return c.onlineComponents||(F("FirestoreClient","Using default OnlineComponentProvider"),yield qc(c,new Lh)),c.onlineComponents}),$f.apply(this,arguments)}function Vh(c){return Dl(c).then(i=>i.persistence)}function Cg(c){return Dl(c).then(i=>i.localStore)}function Vm(c){return Uh(c).then(i=>i.remoteStore)}function $m(c){return Uh(c).then(i=>i.syncEngine)}function Du(c){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,_e.Z)(function*(c){const i=yield Uh(c),o=i.eventManager;return o.onListen=Hy.bind(null,i.syncEngine),o.onUnlisten=Tu.bind(null,i.syncEngine),o}),Eg.apply(this,arguments)}function I0(c,i,o={}){const h=new di;return c.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(g,y,D,B,J){const ie=new mc({next:dt=>{y.enqueueAndForget(()=>vs(g,ze));const kt=dt.docs.has(D);!kt&&dt.fromCache?J.reject(new Ut(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):kt&&dt.fromCache&&B&&"server"===B.source?J.reject(new Ut(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):J.resolve(dt)},error:dt=>J.reject(dt)}),ze=new Pf(lo(D.path),ie,{includeMetadataChanges:!0,Cu:!0});return Pm(g,ze)}(yield Du(c),c.asyncQueue,i,o,h)})),h.promise}function $h(c,i,o={}){const h=new di;return c.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(g,y,D,B,J){const ie=new mc({next:dt=>{y.enqueueAndForget(()=>vs(g,ze)),dt.fromCache&&"server"===B.source?J.reject(new Ut(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):J.resolve(dt)},error:dt=>J.reject(dt)}),ze=new Pf(D,ie,{includeMetadataChanges:!0,Cu:!0});return Pm(g,ze)}(yield Du(c),c.asyncQueue,i,o,h)})),h.promise}const hd=new Map;function jf(c,i,o){if(!o)throw new Ut(gt.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${i}.`)}function zm(c,i,o,h){if(!0===i&&!0===h)throw new Ut(gt.INVALID_ARGUMENT,`${c} and ${o} cannot be used together.`)}function Zy(c){if(!vn.isDocumentKey(c))throw new Ut(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function Wm(c){if(vn.isDocumentKey(c))throw new Ut(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function Gd(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const i=(o=c).constructor?o.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var o;return"function"==typeof c?"a function":pe()}function Vr(c,i){if("_delegate"in c&&(c=c._delegate),!(c instanceof i)){if(i.name===c.constructor.name)throw new Ut(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=Gd(c);throw new Ut(gt.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${o}`)}}return c}function zd(c,i){if(i<=0)throw new Ut(gt.INVALID_ARGUMENT,`Function ${c}() requires a positive number, but it was: ${i}.`)}class Yy{constructor(i){var o;if(void 0===i.host){if(void 0!==i.ssl)throw new Ut(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(o=i.ssl)||void 0===o||o;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Ut(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,zm("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Wd{constructor(i,o,h){this._authCredentials=o,this._appCheckCredentials=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yy({}),this._settingsFrozen=!1,i instanceof sa?this._databaseId=i:(this._app=i,this._databaseId=function(g){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ut(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(g.options.projectId)}(i))}get app(){if(!this._app)throw new Ut(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Ut(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yy(i),void 0!==i.credentials&&(this._authCredentials=function(o){if(!o)return new _r;switch(o.type){case"gapi":const h=o.client;return at(!("object"!=typeof h||null===h||!h.auth||!h.auth.getAuthHeaderValueForFirstParty)),new xl(h,o.sessionIndex||"0",o.iamToken||null);case"provider":return o.client;default:throw new Ut(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const o=hd.get(i);o&&(F("ComponentProvider","Removing Datastore"),hd.delete(i),o.terminate())}(this),Promise.resolve()}}class ks{constructor(i,o,h){this.converter=o,this._key=h,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _c(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new ks(this.firestore,i,this._key)}}class Da{constructor(i,o,h){this.converter=o,this._query=h,this.type="query",this.firestore=i}withConverter(i){return new Da(this.firestore,i,this._query)}}class _c extends Da{constructor(i,o,h){super(i,o,lo(h)),this._path=h,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new ks(this.firestore,null,new vn(i))}withConverter(i){return new _c(this.firestore,i,this._path)}}function Ky(c,i,...o){if(c=(0,We.m9)(c),jf("collection","path",i),c instanceof Wd){const h=ir.fromString(i,...o);return Wm(h),new _c(c,null,h)}{if(!(c instanceof ks||c instanceof _c))throw new Ut(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=c._path.child(ir.fromString(i,...o));return Wm(h),new _c(c.firestore,null,h)}}function Gf(c,i,...o){if(c=(0,We.m9)(c),1===arguments.length&&(i=To.R()),jf("doc","path",i),c instanceof Wd){const h=ir.fromString(i,...o);return Zy(h),new ks(c,null,new vn(h))}{if(!(c instanceof ks||c instanceof _c))throw new Ut(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=c._path.child(ir.fromString(i,...o));return Zy(h),new ks(c.firestore,c instanceof _c?c.converter:null,new vn(h))}}function Tg(c,i){return c=(0,We.m9)(c),i=(0,We.m9)(i),(c instanceof ks||c instanceof _c)&&(i instanceof ks||i instanceof _c)&&c.firestore===i.firestore&&c.path===i.path&&c.converter===i.converter}function M0(c,i){return c=(0,We.m9)(c),i=(0,We.m9)(i),c instanceof Da&&i instanceof Da&&c.firestore===i.firestore&&cu(c._query,i._query)&&c.converter===i.converter}class qm{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Em(this,"async_queue_retry"),this.qa=()=>{const o=Xp();o&&F("AsyncQueue","Visibility state changed to "+o.visibilityState),this.Do.Ao()};const i=Xp();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Ka(),this.Ga(i)}enterRestrictedMode(i){if(!this.Oa){this.Oa=!0,this.La=i||!1;const o=Xp();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.qa)}}enqueue(i){if(this.Ka(),this.Oa)return new Promise(()=>{});const o=new di;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(i().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Ma.push(i),this.Qa()))}Qa(){var i=this;return(0,_e.Z)(function*(){if(0!==i.Ma.length){try{yield i.Ma[0](),i.Ma.shift(),i.Do.reset()}catch(o){if(!lc(o))throw o;F("AsyncQueue","Operation failed with retryable error: "+o)}i.Ma.length>0&&i.Do.To(()=>i.Qa())}})()}Ga(i){const o=this.ka.then(()=>(this.Ba=!0,i().catch(h=>{throw this.$a=h,this.Ba=!1,Y("INTERNAL UNHANDLED ERROR: ",function(y){let D=y.message||"";return y.stack&&(D=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),D}(h)),h}).then(h=>(this.Ba=!1,h))));return this.ka=o,o}enqueueAfterDelay(i,o,h){this.Ka(),this.Ua.indexOf(i)>-1&&(o=0);const g=Ah.createAndSchedule(this,i,o,h,y=>this.ja(y));return this.Fa.push(g),g}Ka(){this.$a&&pe()}verifyOperationInProgress(){}Wa(){var i=this;return(0,_e.Z)(function*(){let o;do{o=i.ka,yield o}while(o!==i.ka)})()}za(i){for(const o of this.Fa)if(o.timerId===i)return!0;return!1}Ha(i){return this.Wa().then(()=>{this.Fa.sort((o,h)=>o.targetTimeMs-h.targetTimeMs);for(const o of this.Fa)if(o.skipDelay(),"all"!==i&&o.timerId===i)break;return this.Wa()})}Ja(i){this.Ua.push(i)}ja(i){const o=this.Fa.indexOf(i);this.Fa.splice(o,1)}}function Zm(c){return function(i,o){if("object"!=typeof i||null===i)return!1;const h=i;for(const g of["next","error","complete"])if(g in h&&"function"==typeof h[g])return!0;return!1}(c)}class tC{constructor(){this._progressObserver={},this._taskCompletionResolver=new di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,o,h){this._progressObserver={next:i,error:o,complete:h}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,o){return this._taskCompletionResolver.promise.then(i,o)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}class Fs extends Wd{constructor(i,o,h){super(i,o,h),this.type="firestore",this._queue=new qm,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Hh(this),this._firestoreClient.terminate()}}function _o(c){return c._firestoreClient||Hh(c),c._firestoreClient.verifyNotTerminated(),c._firestoreClient}function Hh(c){var i;const o=c._freezeSettings(),h=(y=(null===(i=c._app)||void 0===i?void 0:i.options.appId)||"",new Ya(c._databaseId,y,c._persistenceKey,(B=o).host,B.ssl,B.experimentalForceLongPolling,B.experimentalAutoDetectLongPolling,B.useFetchStreams));var y,B;c._firestoreClient=new _g(c._authCredentials,c._appCheckCredentials,c._queue,h)}function Dg(c,i,o){const h=new di;return c.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield yg(c,o),yield qc(c,i),h.resolve()}catch(g){if(!("FirebaseError"===(y=g).name?y.code===gt.FAILED_PRECONDITION||y.code===gt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&y instanceof DOMException)||22===y.code||20===y.code||11===y.code))throw g;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+g),h.reject(g)}var y})).then(()=>h.promise)}function e_(c){if(c._initialized||c._terminated)throw new Ut(gt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yc{constructor(...i){for(let o=0;o<i.length;++o)if(0===i[o].length)throw new Ut(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Os(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class Zc{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Zc(Pr.fromBase64String(i))}catch(o){throw new Ut(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(i){return new Zc(Pr.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class qd{constructor(i){this._methodName=i}}class Wf{constructor(i,o){if(!isFinite(i)||i<-90||i>90)throw new Ut(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(o)||o<-180||o>180)throw new Ut(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=i,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return vi(this._lat,i._lat)||vi(this._long,i._long)}}const t_=/^__.*__$/;class Xy{constructor(i,o,h){this.data=i,this.fieldMask=o,this.fieldTransforms=h}toMutation(i,o){return null!==this.fieldMask?new Ul(i,this.data,this.fieldMask,o,this.fieldTransforms):new pl(i,this.data,o,this.fieldTransforms)}}class ev{constructor(i,o,h){this.data=i,this.fieldMask=o,this.fieldTransforms=h}toMutation(i,o){return new Ul(i,this.data,this.fieldMask,o,this.fieldTransforms)}}function n_(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class qf{constructor(i,o,h,g,y,D){this.settings=i,this.databaseId=o,this.M=h,this.ignoreUndefinedProperties=g,void 0===y&&this.Ya(),this.fieldTransforms=y||[],this.fieldMask=D||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(i){return new qf(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(i){var o;const h=null===(o=this.path)||void 0===o?void 0:o.child(i),g=this.Za({path:h,ec:!1});return g.nc(i),g}sc(i){var o;const h=null===(o=this.path)||void 0===o?void 0:o.child(i),g=this.Za({path:h,ec:!1});return g.Ya(),g}ic(i){return this.Za({path:void 0,ec:!0})}rc(i){return Kf(i,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(i){return void 0!==this.fieldMask.find(o=>i.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>i.isPrefixOf(o.field))}Ya(){if(this.path)for(let i=0;i<this.path.length;i++)this.nc(this.path.get(i))}nc(i){if(0===i.length)throw this.rc("Document fields must not be empty");if(n_(this.Xa)&&t_.test(i))throw this.rc('Document fields cannot begin and end with "__"')}}class i_{constructor(i,o,h){this.databaseId=i,this.ignoreUndefinedProperties=o,this.M=h||Dh(i)}ac(i,o,h,g=!1){return new qf({Xa:i,methodName:o,uc:h,path:Os.emptyPath(),ec:!1,oc:g},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Yc(c){const i=c._freezeSettings(),o=Dh(c._databaseId);return new i_(c._databaseId,!!i.ignoreUndefinedProperties,o)}function Zf(c,i,o,h,g,y={}){const D=c.ac(y.merge||y.mergeFields?2:0,i,o,g);yo("Data must be an object, but it was:",D,h);const B=s_(h,D);let J,ie;if(y.merge)J=new Ol(D.fieldMask),ie=D.fieldTransforms;else if(y.mergeFields){const ze=[];for(const dt of y.mergeFields){const kt=Sg(i,dt,o);if(!D.contains(kt))throw new Ut(gt.INVALID_ARGUMENT,`Field '${kt}' is specified in your field mask but missing from your input data.`);av(ze,kt)||ze.push(kt)}J=new Ol(ze),ie=D.fieldTransforms.filter(dt=>J.covers(dt.field))}else J=null,ie=D.fieldTransforms;return new Xy(new $(B),J,ie)}class Yf extends qd{_toFieldTransform(i){if(2!==i.Xa)throw i.rc(1===i.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof Yf}}function r_(c,i,o){return new qf({Xa:3,uc:i.settings.uc,methodName:c._methodName,ec:o},i.databaseId,i.M,i.ignoreUndefinedProperties)}class Ig extends qd{_toFieldTransform(i){return new P(i.path,new Ll)}isEqual(i){return i instanceof Ig}}class tv extends qd{constructor(i,o){super(i),this.cc=o}_toFieldTransform(i){const o=r_(this,i,!0),h=this.cc.map(y=>Zd(y,o)),g=new Oc(h);return new P(i.path,g)}isEqual(i){return this===i}}class nv extends qd{constructor(i,o){super(i),this.cc=o}_toFieldTransform(i){const o=r_(this,i,!0),h=this.cc.map(y=>Zd(y,o)),g=new oc(h);return new P(i.path,g)}isEqual(i){return this===i}}class iv extends qd{constructor(i,o){super(i),this.hc=o}_toFieldTransform(i){const o=new M(i.M,Ba(i.M,this.hc));return new P(i.path,o)}isEqual(i){return this===i}}function Ag(c,i,o,h){const g=c.ac(1,i,o);yo("Data must be an object, but it was:",g,h);const y=[],D=$.empty();Xr(h,(J,ie)=>{const ze=Mg(i,J,o);ie=(0,We.m9)(ie);const dt=g.sc(ze);if(ie instanceof Yf)y.push(ze);else{const kt=Zd(ie,dt);null!=kt&&(y.push(ze),D.set(ze,kt))}});const B=new Ol(y);return new ev(D,B,g.fieldTransforms)}function rv(c,i,o,h,g,y){const D=c.ac(1,i,o),B=[Sg(i,h,o)],J=[g];if(y.length%2!=0)throw new Ut(gt.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let kt=0;kt<y.length;kt+=2)B.push(Sg(i,y[kt])),J.push(y[kt+1]);const ie=[],ze=$.empty();for(let kt=B.length-1;kt>=0;--kt)if(!av(ie,B[kt])){const Qt=B[kt];let rn=J[kt];rn=(0,We.m9)(rn);const Fn=D.sc(Qt);if(rn instanceof Yf)ie.push(Qt);else{const Si=Zd(rn,Fn);null!=Si&&(ie.push(Qt),ze.set(Qt,Si))}}const dt=new Ol(ie);return new ev(ze,dt,D.fieldTransforms)}function sv(c,i,o,h=!1){return Zd(o,c.ac(h?4:3,i))}function Zd(c,i){if(ov(c=(0,We.m9)(c)))return yo("Unsupported field value:",i,c),s_(c,i);if(c instanceof qd)return function(o,h){if(!n_(h.Xa))throw h.rc(`${o._methodName}() can only be used with update() and set()`);if(!h.path)throw h.rc(`${o._methodName}() is not currently supported inside arrays`);const g=o._toFieldTransform(h);g&&h.fieldTransforms.push(g)}(c,i),null;if(void 0===c&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),c instanceof Array){if(i.settings.ec&&4!==i.Xa)throw i.rc("Nested arrays are not supported");return function(o,h){const g=[];let y=0;for(const D of o){let B=Zd(D,h.ic(y));null==B&&(B={nullValue:"NULL_VALUE"}),g.push(B),y++}return{arrayValue:{values:g}}}(c,i)}return function(o,h){if(null===(o=(0,We.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Ba(h.M,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const g=Zr.fromDate(o);return{timestampValue:dh(h.M,g)}}if(o instanceof Zr){const g=new Zr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:dh(h.M,g)}}if(o instanceof Wf)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Zc)return{bytesValue:Jg(h.M,o._byteString)};if(o instanceof ks){const g=h.databaseId,y=o.firestore._databaseId;if(!y.isEqual(g))throw h.rc(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:Qg(o.firestore._databaseId||h.databaseId,o._key.path)}}throw h.rc(`Unsupported field value: ${Gd(o)}`)}(c,i)}function s_(c,i){const o={};return nf(c)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):Xr(c,(h,g)=>{const y=Zd(g,i.tc(h));null!=y&&(o[h]=y)}),{mapValue:{fields:o}}}function ov(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Zr||c instanceof Wf||c instanceof Zc||c instanceof ks||c instanceof qd)}function yo(c,i,o){if(!ov(o)||"object"!=typeof(h=o)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const h=Gd(o);throw i.rc("an object"===h?c+" a custom object":c+" "+h)}var h}function Sg(c,i,o){if((i=(0,We.m9)(i))instanceof yc)return i._internalPath;if("string"==typeof i)return Mg(c,i);throw Kf("Field path arguments must be of type string or ",c,!1,void 0,o)}const k0=new RegExp("[~\\*/\\[\\]]");function Mg(c,i,o){if(i.search(k0)>=0)throw Kf(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,o);try{return new yc(...i.split("."))._internalPath}catch(h){throw Kf(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,o)}}function Kf(c,i,o,h,g){const y=h&&!h.isEmpty(),D=void 0!==g;let B=`Function ${i}() called with invalid data`;o&&(B+=" (via `toFirestore()`)"),B+=". ";let J="";return(y||D)&&(J+=" (found",y&&(J+=` in field ${h}`),D&&(J+=` in document ${g}`),J+=")"),new Ut(gt.INVALID_ARGUMENT,B+c+J)}function av(c,i){return c.some(o=>o.isEqual(i))}class jh{constructor(i,o,h,g,y){this._firestore=i,this._userDataWriter=o,this._key=h,this._document=g,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new ks(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new lv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const o=this._document.data.field(Iu("DocumentSnapshot.get",i));if(null!==o)return this._userDataWriter.convertValue(o)}}}class lv extends jh{data(){return super.data()}}function Iu(c,i){return"string"==typeof i?Mg(c,i):i instanceof yc?i._internalPath:i._delegate._internalPath}class Yd{constructor(i,o){this.hasPendingWrites=i,this.fromCache=o}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class Au extends jh{constructor(i,o,h,g,y,D){super(i,o,h,g,D),this._firestore=i,this._firestoreImpl=i,this.metadata=y}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const o=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,o={}){if(this._document){const h=this._document.data.field(Iu("DocumentSnapshot.get",i));if(null!==h)return this._userDataWriter.convertValue(h,o.serverTimestamps)}}}class Gh extends Au{data(i={}){return super.data(i)}}class fd{constructor(i,o,h,g){this._firestore=i,this._userDataWriter=o,this._snapshot=g,this.metadata=new Yd(g.hasPendingWrites,g.fromCache),this.query=h}get docs(){const i=[];return this.forEach(o=>i.push(o)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,o){this._snapshot.docs.forEach(h=>{i.call(o,new Gh(this._firestore,this._userDataWriter,h.key,h,new Yd(this._snapshot.mutatedKeys.has(h.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const o=!!i.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new Ut(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(h,g){if(h._snapshot.oldDocs.isEmpty()){let y=0;return h._snapshot.docChanges.map(D=>({type:"added",doc:new Gh(h._firestore,h._userDataWriter,D.doc.key,D.doc,new Yd(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:y++}))}{let y=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(D=>g||3!==D.type).map(D=>{const B=new Gh(h._firestore,h._userDataWriter,D.doc.key,D.doc,new Yd(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter);let J=-1,ie=-1;return 0!==D.type&&(J=y.indexOf(D.doc.key),y=y.delete(D.doc.key)),1!==D.type&&(y=y.add(D.doc),ie=y.indexOf(D.doc.key)),{type:cv(D.type),doc:B,oldIndex:J,newIndex:ie}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function cv(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}function F0(c,i){return c instanceof Au&&i instanceof Au?c._firestore===i._firestore&&c._key.isEqual(i._key)&&(null===c._document?null===i._document:c._document.isEqual(i._document))&&c._converter===i._converter:c instanceof fd&&i instanceof fd&&c._firestore===i._firestore&&M0(c.query,i.query)&&c.metadata.isEqual(i.metadata)&&c._snapshot.isEqual(i._snapshot)}function xg(c){if(fl(c)&&0===c.explicitOrderBy.length)throw new Ut(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kd{}function pa(c,...i){for(const o of i)c=o._apply(c);return c}class L0 extends Kd{constructor(i,o,h){super(),this.lc=i,this.fc=o,this.dc=h,this.type="where"}_apply(i){const o=Yc(i.firestore),h=function(g,y,D,B,J,ie,ze){let dt;if(J.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new Ut(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){mv(ze,ie);const Qt=[];for(const rn of ze)Qt.push(a_(B,g,rn));dt={arrayValue:{values:Qt}}}else dt=a_(B,g,ze)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||mv(ze,ie),dt=sv(D,"where",ze,"in"===ie||"not-in"===ie);const kt=fo.create(J,ie,dt);return function(Qt,rn){if(rn.S()){const Si=Vu(Qt);if(null!==Si&&!Si.isEqual(rn.field))throw new Ut(gt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Si.toString()}' and '${rn.field.toString()}'`);const Ls=lu(Qt);null!==Ls&&l_(0,rn.field,Ls)}const Fn=function(Si,Ls){for(const vo of Si.filters)if(Ls.indexOf(vo.op)>=0)return vo.op;return null}(Qt,function(Si){switch(Si){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(rn.op));if(null!==Fn)throw new Ut(gt.INVALID_ARGUMENT,Fn===rn.op?`Invalid query. You cannot use more than one '${rn.op.toString()}' filter.`:`Invalid query. You cannot use '${rn.op.toString()}' filters with '${Fn.toString()}' filters.`)}(g,kt),kt}(i._query,0,o,i.firestore._databaseId,this.lc,this.fc,this.dc);return new Da(i.firestore,i.converter,function(g,y){const D=g.filters.concat([y]);return new sc(g.path,g.collectionGroup,g.explicitOrderBy.slice(),D,g.limit,g.limitType,g.startAt,g.endAt)}(i._query,h))}}class Kc extends Kd{constructor(i,o){super(),this.lc=i,this._c=o,this.type="orderBy"}_apply(i){const o=function(h,g,y){if(null!==h.startAt)throw new Ut(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new Ut(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const D=new kl(g,y);return function(B,J){if(null===lu(B)){const ie=Vu(B);null!==ie&&l_(0,ie,J.field)}}(h,D),D}(i._query,this.lc,this._c);return new Da(i.firestore,i.converter,function(h,g){const y=h.explicitOrderBy.concat([g]);return new sc(h.path,h.collectionGroup,y,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(i._query,o))}}class Zl extends Kd{constructor(i,o,h){super(),this.type=i,this.wc=o,this.mc=h}_apply(i){return new Da(i.firestore,i.converter,Fl(i._query,this.wc,this.mc))}}class fv extends Kd{constructor(i,o,h){super(),this.type=i,this.gc=o,this.yc=h}_apply(i){const o=gv(i,this.type,this.gc,this.yc);return new Da(i.firestore,i.converter,(g=o,new sc((h=i._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,g,h.endAt)));var h,g}}class pv extends Kd{constructor(i,o,h){super(),this.type=i,this.gc=o,this.yc=h}_apply(i){const o=gv(i,this.type,this.gc,this.yc);return new Da(i.firestore,i.converter,(g=o,new sc((h=i._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,g)));var h,g}}function gv(c,i,o,h){if(o[0]=(0,We.m9)(o[0]),o[0]instanceof jh)return function(g,y,D,B,J){if(!B)throw new Ut(gt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const ie=[];for(const ze of da(g))if(ze.field.isKeyField())ie.push(la(y,B.key));else{const dt=B.data.field(ze.field);if(Uu(dt))throw new Ut(gt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ze.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===dt){const kt=ze.field.canonicalString();throw new Ut(gt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${kt}' (used as the orderBy) does not exist.`)}ie.push(dt)}return new rc(ie,J)}(c._query,c.firestore._databaseId,i,o[0]._document,h);{const g=Yc(c.firestore);return function(y,D,B,J,ie,ze){const dt=y.explicitOrderBy;if(ie.length>dt.length)throw new Ut(gt.INVALID_ARGUMENT,`Too many arguments provided to ${J}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const kt=[];for(let Qt=0;Qt<ie.length;Qt++){const rn=ie[Qt];if(dt[Qt].field.isKeyField()){if("string"!=typeof rn)throw new Ut(gt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${J}(), but got a ${typeof rn}`);if(!$u(y)&&-1!==rn.indexOf("/"))throw new Ut(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${J}() must be a plain document ID, but '${rn}' contains a slash.`);const Fn=y.path.child(ir.fromString(rn));if(!vn.isDocumentKey(Fn))throw new Ut(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${J}() must result in a valid document path, but '${Fn}' is not because it contains an odd number of segments.`);const Si=new vn(Fn);kt.push(la(D,Si))}else{const Fn=sv(B,J,rn);kt.push(Fn)}}return new rc(kt,ze)}(c._query,c.firestore._databaseId,g,i,o,h)}}function a_(c,i,o){if("string"==typeof(o=(0,We.m9)(o))){if(""===o)throw new Ut(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$u(i)&&-1!==o.indexOf("/"))throw new Ut(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const h=i.path.child(ir.fromString(o));if(!vn.isDocumentKey(h))throw new Ut(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${h}' is not because it has an odd number of segments (${h.length}).`);return la(c,new vn(h))}if(o instanceof ks)return la(c,o._key);throw new Ut(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gd(o)}.`)}function mv(c,i){if(!Array.isArray(c)||0===c.length)throw new Ut(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(c.length>10)throw new Ut(gt.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function l_(c,i,o){if(!o.isEqual(i))throw new Ut(gt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class Og{convertValue(i,o="none"){switch(Ka(i)){case 0:return null;case 1:return i.booleanValue;case 2:return es(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,o);case 5:return i.stringValue;case 6:return this.convertBytes(_s(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,o);case 10:return this.convertObject(i.mapValue,o);default:throw pe()}}convertObject(i,o){const h={};return Xr(i.fields,(g,y)=>{h[g]=this.convertValue(y,o)}),h}convertGeoPoint(i){return new Wf(es(i.latitude),es(i.longitude))}convertArray(i,o){return(i.values||[]).map(h=>this.convertValue(h,o))}convertServerTimestamp(i,o){switch(o){case"previous":const h=ec(i);return null==h?null:this.convertValue(h,o);case"estimate":return this.convertTimestamp(Ns(i));default:return null}}convertTimestamp(i){const o=yr(i);return new Zr(o.seconds,o.nanos)}convertDocumentKey(i,o){const h=ir.fromString(i);at(Dp(h));const g=new sa(h.get(1),h.get(3)),y=new vn(h.popFirst(5));return g.isEqual(o)||Y(`Document ${y} contains a document reference within a different database (${g.projectId}/${g.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),y}}function Jd(c,i,o){let h;return h=c?o&&(o.merge||o.mergeFields)?c.toFirestore(i,o):c.toFirestore(i):i,h}class V0 extends Og{constructor(i){super(),this.firestore=i}convertBytes(i){return new Zc(i)}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return new ks(this.firestore,null,o)}}class c_{constructor(i,o){this._firestore=i,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=Yc(i)}set(i,o,h){this._verifyNotCommitted();const g=Su(i,this._firestore),y=Jd(g.converter,o,h),D=Zf(this._dataReader,"WriteBatch.set",g._key,y,null!==g.converter,h);return this._mutations.push(D.toMutation(g._key,Ct.none())),this}update(i,o,h,...g){this._verifyNotCommitted();const y=Su(i,this._firestore);let D;return D="string"==typeof(o=(0,We.m9)(o))||o instanceof yc?rv(this._dataReader,"WriteBatch.update",y._key,o,h,g):Ag(this._dataReader,"WriteBatch.update",y._key,o),this._mutations.push(D.toMutation(y._key,Ct.exists(!0))),this}delete(i){this._verifyNotCommitted();const o=Su(i,this._firestore);return this._mutations=this._mutations.concat(new Rc(o._key,Ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ut(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Su(c,i){if((c=(0,We.m9)(c)).firestore!==i)throw new Ut(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}class Jc extends Og{constructor(i){super(),this.firestore=i}convertBytes(i){return new Zc(i)}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return new ks(this.firestore,null,o)}}function h_(c,i,o){c=Vr(c,ks);const h=Vr(c.firestore,Fs),g=Jd(c.converter,i,o);return zh(h,[Zf(Yc(h),"setDoc",c._key,g,null!==c.converter,o).toMutation(c._key,Ct.none())])}function f_(c,i,o,...h){c=Vr(c,ks);const g=Vr(c.firestore,Fs),y=Yc(g);let D;return D="string"==typeof(i=(0,We.m9)(i))||i instanceof yc?rv(y,"updateDoc",c._key,i,o,h):Ag(y,"updateDoc",c._key,i),zh(g,[D.toMutation(c._key,Ct.exists(!0))])}function Cv(c,...i){var o,h,g;c=(0,We.m9)(c);let y={includeMetadataChanges:!1},D=0;"object"!=typeof i[D]||Zm(i[D])||(y=i[D],D++);const B={includeMetadataChanges:y.includeMetadataChanges};if(Zm(i[D])){const dt=i[D];i[D]=null===(o=dt.next)||void 0===o?void 0:o.bind(dt),i[D+1]=null===(h=dt.error)||void 0===h?void 0:h.bind(dt),i[D+2]=null===(g=dt.complete)||void 0===g?void 0:g.bind(dt)}let J,ie,ze;if(c instanceof ks)ie=Vr(c.firestore,Fs),ze=lo(c._key.path),J={next:dt=>{i[D]&&i[D](p_(ie,c,dt))},error:i[D+1],complete:i[D+2]};else{const dt=Vr(c,Da);ie=Vr(dt.firestore,Fs),ze=dt._query;const kt=new Jc(ie);J={next:Qt=>{i[D]&&i[D](new fd(ie,kt,dt,Qt))},error:i[D+1],complete:i[D+2]},xg(c._query)}return function(dt,kt,Qt,rn){const Fn=new mc(rn),Si=new Pf(kt,Fn,Qt);return dt.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Pm(yield Du(dt),Si)})),()=>{Fn.Ia(),dt.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return vs(yield Du(dt),Si)}))}}(_o(ie),ze,B,J)}function zh(c,i){return function(o,h){const g=new di;return o.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function Gy(c,i,o){return Fm.apply(this,arguments)}(yield $m(o),h,g)})),g.promise}(_o(c),i)}function p_(c,i,o){const h=o.docs.get(i._key),g=new Jc(c);return new Au(c,g,i._key,h,new Yd(o.hasPendingWrites,o.fromCache),i.converter)}class j0 extends class{constructor(i,o){this._firestore=i,this._transaction=o,this._dataReader=Yc(i)}get(i){const o=Su(i,this._firestore),h=new V0(this._firestore);return this._transaction.lookup([o._key]).then(g=>{if(!g||1!==g.length)return pe();const y=g[0];if(y.isFoundDocument())return new jh(this._firestore,h,y.key,y,o.converter);if(y.isNoDocument())return new jh(this._firestore,h,o._key,null,o.converter);throw pe()})}set(i,o,h){const g=Su(i,this._firestore),y=Jd(g.converter,o,h),D=Zf(this._dataReader,"Transaction.set",g._key,y,null!==g.converter,h);return this._transaction.set(g._key,D),this}update(i,o,h,...g){const y=Su(i,this._firestore);let D;return D="string"==typeof(o=(0,We.m9)(o))||o instanceof yc?rv(this._dataReader,"Transaction.update",y._key,o,h,g):Ag(this._dataReader,"Transaction.update",y._key,o),this._transaction.update(y._key,D),this}delete(i){const o=Su(i,this._firestore);return this._transaction.delete(o._key),this}}{constructor(i,o){super(i,o),this._firestore=i}get(i){const o=Su(i,this._firestore),h=new Jc(this._firestore);return super.get(i).then(g=>new Au(this._firestore,h,o._key,g._document,new Yd(!1,!1),o.converter))}}function Ev(c,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new Ut("invalid-argument",`Invalid options passed to function ${c}(): You cannot specify both "merge" and "mergeFields".`);return i}function g_(){if("undefined"==typeof Uint8Array)throw new Ut("unimplemented","Uint8Arrays are not available in this environment.")}function m_(){if(!function vd(){return"undefined"!=typeof atob}())throw new Ut("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(c,i=!0){cl=vt.SDK_VERSION,(0,vt._registerComponent)(new lt.wA("firestore",(o,{options:h})=>{const g=o.getProvider("app").getImmediate(),y=new Fs(g,new oo(o.getProvider("auth-internal")),new yd(o.getProvider("app-check-internal")));return h=Object.assign({useFetchStreams:i},h),y._setSettings(h),y},"PUBLIC")),(0,vt.registerVersion)(ka,"3.4.8",c),(0,vt.registerVersion)(ka,"3.4.8","esm2017")}();class Qf{constructor(i){this._delegate=i}static fromBase64String(i){return m_(),new Qf(Zc.fromBase64String(i))}static fromUint8Array(i){return g_(),new Qf(Zc.fromUint8Array(i))}toBase64(){return m_(),this._delegate.toBase64()}toUint8Array(){return g_(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function __(c){return function Tv(c,i){if("object"!=typeof c||null===c)return!1;const o=c;for(const h of i)if(h in o&&"function"==typeof o[h])return!0;return!1}(c,["next","error","complete"])}class wv{enableIndexedDbPersistence(i,o){return function wg(c,i){e_(c=Vr(c,Fs));const o=_o(c),h=c._freezeSettings(),g=new Lh;return Dg(o,g,new dd(g,h.cacheSizeBytes,null==i?void 0:i.forceOwnership))}(i._delegate,{forceOwnership:o})}enableMultiTabIndexedDbPersistence(i){return function Qy(c){e_(c=Vr(c,Fs));const i=_o(c),o=c._freezeSettings(),h=new Lh;return Dg(i,h,new wl(h,o.cacheSizeBytes))}(i._delegate)}clearIndexedDbPersistence(i){return function N0(c){if(c._initialized&&!c._terminated)throw new Ut(gt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new di;return c._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(o=(0,_e.Z)(function*(h){if(!ml.vt())return Promise.resolve();const g=h+"main";yield ml.delete(g)}),function(h){return o.apply(this,arguments)})(Df(c._databaseId,c._persistenceKey)),i.resolve()}catch(o){i.reject(o)}var o})),i.promise}(i._delegate)}}class Dv{constructor(i,o,h){this._delegate=o,this._persistenceProvider=h,this.INTERNAL={delete:()=>this.terminate()},i instanceof sa||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const o=this._delegate._getSettings();!i.merge&&o.host!==i.host&&le("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},o),i)).merge,this._delegate._setSettings(i)}useEmulator(i,o,h={}){!function S0(c,i,o,h={}){var g;const y=(c=Vr(c,Wd))._getSettings();if("firestore.googleapis.com"!==y.host&&y.host!==i&&le("Host has been set in both settings() and useEmulator(), emulator host will be used"),c._setSettings(Object.assign(Object.assign({},y),{host:`${i}:${o}`,ssl:!1})),h.mockUserToken){let D,B;if("string"==typeof h.mockUserToken)D=h.mockUserToken,B=Xs.MOCK_USER;else{D=(0,We.Sg)(h.mockUserToken,null===(g=c._app)||void 0===g?void 0:g.options.projectId);const J=h.mockUserToken.sub||h.mockUserToken.user_id;if(!J)throw new Ut(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");B=new Xs(J)}c._authCredentials=new Oi(new Ca(D,B))}}(this._delegate,i,o,h)}enableNetwork(){return function Km(c){return function Hf(c){return c.asyncQueue.enqueue((0,_e.Z)(function*(){const i=yield Vh(c),o=yield Vm(c);return i.setNetworkEnabled(!0),function(h){const g=Bt(h);return g.fu.delete(0),eg(g)}(o)}))}(_o(c=Vr(c,Fs)))}(this._delegate)}disableNetwork(){return function Jm(c){return function Hm(c){return c.asyncQueue.enqueue((0,_e.Z)(function*(){const i=yield Vh(c),o=yield Vm(c);return i.setNetworkEnabled(!1),(h=(0,_e.Z)(function*(g){const y=Bt(g);y.fu.add(0),yield xf(y),y.wu.set("Offline")}),function(g){return h.apply(this,arguments)})(o);var h}))}(_o(c=Vr(c,Fs)))}(this._delegate)}enablePersistence(i){let o=!1,h=!1;return i&&(o=!!i.synchronizeTabs,h=!!i.experimentalForceOwningTab,zm("synchronizeTabs",o,"experimentalForceOwningTab",h)),o?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,h)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ym(c){return function(i){const o=new di;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function w0(c,i){return pg.apply(this,arguments)}(yield $m(i),o)})),o.promise}(_o(c=Vr(c,Fs)))}(this._delegate)}onSnapshotsInSync(i){return function H0(c,i){return function jm(c,i){const o=new mc(i);return c.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return h=yield Du(c),g=o,Bt(h).Eu.add(g),void g.next();var h,g})),()=>{o.Ia(),c.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return h=yield Du(c),g=o,void Bt(h).Eu.delete(g);var h,g}))}}(_o(c=Vr(c,Fs)),Zm(i)?i:{next:i})}(this._delegate,i)}get app(){if(!this._appCompat)throw new Ut("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new ri(this,Ky(this._delegate,i))}catch(o){throw il(o,"collection()","Firestore.collection()")}}doc(i){try{return new bc(this,Gf(this._delegate,i))}catch(o){throw il(o,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new ja(this,function Jy(c,i){if(c=Vr(c,Wd),jf("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Ut(gt.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Da(c,null,(o=i,new sc(ir.emptyPath(),o)));var o}(this._delegate,i))}catch(o){throw il(o,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return function G0(c,i){return function Gm(c,i){const o=new di;return c.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const h=yield(g=c,Uh(g).then(y=>y.datastore));var g;new jd(c.asyncQueue,h,i,o).run()})),o.promise}(_o(c=Vr(c,Fs)),o=>i(new j0(c,o)))}(this._delegate,o=>i(new y_(this,o)))}batch(){return _o(this._delegate),new v_(new c_(this._delegate,i=>zh(this._delegate,i)))}loadBundle(i){return function Qm(c,i){const o=_o(c=Vr(c,Fs)),h=new tC;return function A0(c,i,o,h){const g=function(y,D){let B;return B="string"==typeof y?(new TextEncoder).encode(y):y,J=function(J,ie){if(J instanceof Uint8Array)return Wc(J,void 0);if(J instanceof ArrayBuffer)return Wc(new Uint8Array(J),void 0);if(J instanceof ReadableStream)return J.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(B),new Vf(J,D);var J}(o,Dh(i));c.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function Fh(c,i,o){const h=Bt(c);var g;(g=(0,_e.Z)(function*(y,D,B){try{const J=yield D.getMetadata();if(yield function(kt,Qt){const rn=Bt(kt),Fn=go(Qt.createTime);return rn.persistence.runTransaction("hasNewerBundle","readonly",Si=>rn._s.getBundleMetadata(Si,Qt.id)).then(Si=>!!Si&&Si.createTime.compareTo(Fn)>=0)}(y.localStore,J))return yield D.close(),B._completeWith({taskState:"Success",documentsLoaded:(kt=J).totalDocuments,bytesLoaded:kt.totalBytes,totalDocuments:kt.totalDocuments,totalBytes:kt.totalBytes}),Promise.resolve(new Set);B._updateProgress(ug(J));const ie=new Bo(J,y.localStore,D.M);let ze=yield D.da();for(;ze;){const kt=yield ie.ku(ze);kt&&B._updateProgress(kt),ze=yield D.da()}const dt=yield ie.complete();return yield Do(y,dt.Fu,void 0),yield function(kt,Qt){const rn=Bt(kt);return rn.persistence.runTransaction("Save bundle","readwrite",Fn=>rn._s.saveBundleMetadata(Fn,Qt))}(y.localStore,J),B._completeWith(dt.progress),Promise.resolve(dt.Ou)}catch(J){return le("SyncEngine",`Loading bundle failed with ${J}`),B._failWith(J),Promise.resolve(new Set)}var kt}),function(y,D,B){return g.apply(this,arguments)})(h,i,o).then(g=>{h.sharedClientState.notifyBundleLoaded(g)})}(yield $m(c),g,h)}))}(o,c._databaseId,i,h),h}(this._delegate,i)}namedQuery(i){return function Xm(c,i){return function qy(c,i){return c.asyncQueue.enqueue((0,_e.Z)(function*(){return function(o,h){const g=Bt(o);return g.persistence.runTransaction("Get named query","readonly",y=>g._s.getNamedQuery(y,h))}(yield Cg(c),i)}))}(_o(c=Vr(c,Fs)),i).then(o=>o?new Da(c,null,o.query):null)}(this._delegate,i).then(o=>o?new ja(this,o):null)}}class Rg extends Og{constructor(i){super(),this.firestore=i}convertBytes(i){return new Qf(new Zc(i))}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return bc.forKey(o,this.firestore,null)}}class y_{constructor(i,o){this._firestore=i,this._delegate=o,this._userDataWriter=new Rg(i)}get(i){const o=Io(i);return this._delegate.get(o).then(h=>new Wh(this._firestore,new Au(this._firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,o.converter)))}set(i,o,h){const g=Io(i);return h?(Ev("Transaction.set",h),this._delegate.set(g,o,h)):this._delegate.set(g,o),this}update(i,o,h,...g){const y=Io(i);return 2===arguments.length?this._delegate.update(y,o):this._delegate.update(y,o,h,...g),this}delete(i){const o=Io(i);return this._delegate.delete(o),this}}class v_{constructor(i){this._delegate=i}set(i,o,h){const g=Io(i);return h?(Ev("WriteBatch.set",h),this._delegate.set(g,o,h)):this._delegate.set(g,o),this}update(i,o,h,...g){const y=Io(i);return 2===arguments.length?this._delegate.update(y,o):this._delegate.update(y,o,h,...g),this}delete(i){const o=Io(i);return this._delegate.delete(o),this}commit(){return this._delegate.commit()}}class Il{constructor(i,o,h){this._firestore=i,this._userDataWriter=o,this._delegate=h}fromFirestore(i,o){const h=new Gh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new Cc(this._firestore,h),null!=o?o:{})}toFirestore(i,o){return o?this._delegate.toFirestore(i,o):this._delegate.toFirestore(i)}static getInstance(i,o){const h=Il.INSTANCES;let g=h.get(i);g||(g=new WeakMap,h.set(i,g));let y=g.get(o);return y||(y=new Il(i,new Rg(i),o),g.set(o,y)),y}}Il.INSTANCES=new WeakMap;class bc{constructor(i,o){this.firestore=i,this._delegate=o,this._userDataWriter=new Rg(i)}static forPath(i,o,h){if(i.length%2!=0)throw new Ut("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new bc(o,new ks(o._delegate,h,new vn(i)))}static forKey(i,o,h){return new bc(o,new ks(o._delegate,h,i))}get id(){return this._delegate.id}get parent(){return new ri(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new ri(this.firestore,Ky(this._delegate,i))}catch(o){throw il(o,"collection()","DocumentReference.collection()")}}isEqual(i){return(i=(0,We.m9)(i))instanceof ks&&Tg(this._delegate,i)}set(i,o){o=Ev("DocumentReference.set",o);try{return o?h_(this._delegate,i,o):h_(this._delegate,i)}catch(h){throw il(h,"setDoc()","DocumentReference.set()")}}update(i,o,...h){try{return 1===arguments.length?f_(this._delegate,i):f_(this._delegate,i,o,...h)}catch(g){throw il(g,"updateDoc()","DocumentReference.update()")}}delete(){return function bv(c){return zh(Vr(c.firestore,Fs),[new Rc(c._key,Ct.none())])}(this._delegate)}onSnapshot(...i){const o=Qd(i),h=Z0(i,g=>new Wh(this.firestore,new Au(this.firestore._delegate,this._userDataWriter,g._key,g._document,g.metadata,this._delegate.converter)));return Cv(this._delegate,o,h)}get(i){let o;return o="cache"===(null==i?void 0:i.source)?function d_(c){c=Vr(c,ks);const i=Vr(c.firestore,Fs),o=_o(i),h=new Jc(i);return function Wy(c,i){const o=new di;return c.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(h=(0,_e.Z)(function*(g,y,D){try{const B=yield function(J,ie){const ze=Bt(J);return ze.persistence.runTransaction("read document","readonly",dt=>ze.ci.Ls(dt,ie))}(g,y);B.isFoundDocument()?D.resolve(B):B.isNoDocument()?D.resolve(null):D.reject(new Ut(gt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(B){const J=Sh(B,`Failed to get document '${y} from cache`);D.reject(J)}}),function(g,y,D){return h.apply(this,arguments)})(yield Cg(c),i,o);var h})),o.promise}(o,c._key).then(g=>new Au(i,h,c._key,g,new Yd(null!==g&&g.hasLocalMutations,!0),c.converter))}(this._delegate):"server"===(null==i?void 0:i.source)?function _v(c){c=Vr(c,ks);const i=Vr(c.firestore,Fs);return I0(_o(i),c._key,{source:"server"}).then(o=>p_(i,c,o))}(this._delegate):function u_(c){c=Vr(c,ks);const i=Vr(c.firestore,Fs);return I0(_o(i),c._key).then(o=>p_(i,c,o))}(this._delegate),o.then(h=>new Wh(this.firestore,new Au(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)))}withConverter(i){return new bc(this.firestore,this._delegate.withConverter(i?Il.getInstance(this.firestore,i):null))}}function il(c,i,o){return c.message=c.message.replace(i,o),c}function Qd(c){for(const i of c)if("object"==typeof i&&!__(i))return i;return{}}function Z0(c,i){var o,h;let g;return g=__(c[0])?c[0]:__(c[1])?c[1]:"function"==typeof c[0]?{next:c[0],error:c[1],complete:c[2]}:{next:c[1],error:c[2],complete:c[3]},{next:y=>{g.next&&g.next(i(y))},error:null===(o=g.error)||void 0===o?void 0:o.bind(g),complete:null===(h=g.complete)||void 0===h?void 0:h.bind(g)}}class Wh{constructor(i,o){this._firestore=i,this._delegate=o}get ref(){return new bc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,o){return this._delegate.get(i,o)}isEqual(i){return F0(this._delegate,i._delegate)}}class Cc extends Wh{data(i){const o=this._delegate.data(i);return function Tn(c,i){c||pe()}(void 0!==o),o}}class ja{constructor(i,o){this.firestore=i,this._delegate=o,this._userDataWriter=new Rg(i)}where(i,o,h){try{return new ja(this.firestore,pa(this._delegate,function uv(c,i,o){const h=i,g=Iu("where",c);return new L0(g,h,o)}(i,o,h)))}catch(g){throw il(g,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,o){try{return new ja(this.firestore,pa(this._delegate,function vc(c,i="asc"){const o=i,h=Iu("orderBy",c);return new Kc(h,o)}(i,o)))}catch(h){throw il(h,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new ja(this.firestore,pa(this._delegate,function dv(c){return zd("limit",c),new Zl("limit",c,"F")}(i)))}catch(o){throw il(o,"limit()","Query.limit()")}}limitToLast(i){try{return new ja(this.firestore,pa(this._delegate,function hv(c){return zd("limitToLast",c),new Zl("limitToLast",c,"L")}(i)))}catch(o){throw il(o,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new ja(this.firestore,pa(this._delegate,function B0(...c){return new fv("startAt",c,!0)}(...i)))}catch(o){throw il(o,"startAt()","Query.startAt()")}}startAfter(...i){try{return new ja(this.firestore,pa(this._delegate,function U0(...c){return new fv("startAfter",c,!1)}(...i)))}catch(o){throw il(o,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new ja(this.firestore,pa(this._delegate,function o_(...c){return new pv("endBefore",c,!1)}(...i)))}catch(o){throw il(o,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new ja(this.firestore,pa(this._delegate,function Jf(...c){return new pv("endAt",c,!0)}(...i)))}catch(o){throw il(o,"endAt()","Query.endAt()")}}isEqual(i){return M0(this._delegate,i._delegate)}get(i){let o;return o="cache"===(null==i?void 0:i.source)?function Ng(c){c=Vr(c,Da);const i=Vr(c.firestore,Fs),o=_o(i),h=new Jc(i);return function eC(c,i){const o=new di;return c.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(h=(0,_e.Z)(function*(g,y,D){try{const B=yield Lo(g,y,!0),J=new Uy(y,B.li),ie=J.Gu(B.documents),ze=J.applyChanges(ie,!1);D.resolve(ze.snapshot)}catch(B){const J=Sh(B,`Failed to execute query '${y} against cache`);D.reject(J)}}),function(g,y,D){return h.apply(this,arguments)})(yield Cg(c),i,o);var h})),o.promise}(o,c._query).then(g=>new fd(i,h,c,g))}(this._delegate):"server"===(null==i?void 0:i.source)?function vv(c){c=Vr(c,Da);const i=Vr(c.firestore,Fs),o=_o(i),h=new Jc(i);return $h(o,c._query,{source:"server"}).then(g=>new fd(i,h,c,g))}(this._delegate):function yv(c){c=Vr(c,Da);const i=Vr(c.firestore,Fs),o=_o(i),h=new Jc(i);return xg(c._query),$h(o,c._query).then(g=>new fd(i,h,c,g))}(this._delegate),o.then(h=>new b_(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)))}onSnapshot(...i){const o=Qd(i),h=Z0(i,g=>new b_(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,this._delegate,g._snapshot)));return Cv(this._delegate,o,h)}withConverter(i){return new ja(this.firestore,this._delegate.withConverter(i?Il.getInstance(this.firestore,i):null))}}class Av{constructor(i,o){this._firestore=i,this._delegate=o}get type(){return this._delegate.type}get doc(){return new Cc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class b_{constructor(i,o){this._firestore=i,this._delegate=o}get query(){return new ja(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new Cc(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(o=>new Av(this._firestore,o))}forEach(i,o){this._delegate.forEach(h=>{i.call(o,new Cc(this._firestore,h))})}isEqual(i){return F0(this._delegate,i._delegate)}}class ri extends ja{constructor(i,o){super(i,o),this.firestore=i,this._delegate=o}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new bc(this.firestore,i):null}doc(i){try{return new bc(this.firestore,void 0===i?Gf(this._delegate):Gf(this._delegate,i))}catch(o){throw il(o,"doc()","CollectionReference.doc()")}}add(i){return function $0(c,i){const o=Vr(c.firestore,Fs),h=Gf(c),g=Jd(c.converter,i);return zh(o,[Zf(Yc(c.firestore),"addDoc",h._key,g,null!==c.converter,{}).toMutation(h._key,Ct.exists(!1))]).then(()=>h)}(this._delegate,i).then(o=>new bc(this.firestore,o))}isEqual(i){return Tg(this._delegate,i._delegate)}withConverter(i){return new ri(this.firestore,this._delegate.withConverter(i?Il.getInstance(this.firestore,i):null))}}function Io(c){return Vr(c,ks)}class Mu{constructor(...i){this._delegate=new yc(...i)}static documentId(){return new Mu(Os.keyField().canonicalString())}isEqual(i){return(i=(0,We.m9)(i))instanceof yc&&this._delegate._internalPath.isEqual(i._internalPath)}}class Xd{constructor(i){this._delegate=i}static serverTimestamp(){const i=function nC(){return new Ig("serverTimestamp")}();return i._methodName="FieldValue.serverTimestamp",new Xd(i)}static delete(){const i=function z0(){return new Yf("deleteField")}();return i._methodName="FieldValue.delete",new Xd(i)}static arrayUnion(...i){const o=function iC(...c){return new tv("arrayUnion",c)}(...i);return o._methodName="FieldValue.arrayUnion",new Xd(o)}static arrayRemove(...i){const o=function rC(...c){return new nv("arrayRemove",c)}(...i);return o._methodName="FieldValue.arrayRemove",new Xd(o)}static increment(i){const o=function W0(c){return new iv("increment",c)}(i);return o._methodName="FieldValue.increment",new Xd(o)}isEqual(i){return this._delegate.isEqual(i._delegate)}}const C_={Firestore:Dv,GeoPoint:Wf,Timestamp:Zr,Blob:Qf,Transaction:y_,WriteBatch:v_,DocumentReference:bc,DocumentSnapshot:Wh,Query:ja,QueryDocumentSnapshot:Cc,QuerySnapshot:b_,CollectionReference:ri,FieldPath:Mu,FieldValue:Xd,setLogLevel:function Iv(c){!function S(c){k.setLogLevel(c)}(c)},CACHE_SIZE_UNLIMITED:-1};!function Xf(c){(function aC(c,i){c.INTERNAL.registerComponent(new lt.wA("firestore-compat",o=>{const h=o.getProvider("app-compat").getImmediate(),g=o.getProvider("firestore").getImmediate();return i(h,g)},"PUBLIC").setServiceProps(Object.assign({},C_)))})(c,(i,o)=>new Dv(i,o,new wv)),c.registerVersion("@firebase/firestore-compat","0.1.17")}(fe.Z);var Ec=L(1205),bs=L(440),lC=L(127);function Sv(c,i){return function Y0(c,i=s.z){return new Q.y(o=>{let h;return null!=i?i.schedule(()=>{h=c.onSnapshot({includeMetadataChanges:!0},o)}):h=c.onSnapshot({includeMetadataChanges:!0},o),()=>{null!=h&&h()}})}(c,i)}function Pg(c,i){return Sv(c,i).pipe((0,de.U)(o=>({payload:o,type:"query"})))}function ep(c,i){return Pg(c,i).pipe((0,Ne.O)(void 0),Ze(),(0,de.U)(([o,h])=>{const g=h.payload.docChanges(),y=g.map(D=>({type:D.type,payload:D}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(h.payload.metadata)&&h.payload.docs.forEach((D,B)=>{const J=g.find(ze=>ze.doc.ref.isEqual(D.ref)),ie=null==o?void 0:o.payload.docs.find(ze=>ze.ref.isEqual(D.ref));J&&JSON.stringify(J.doc.metadata)===JSON.stringify(D.metadata)||!J&&ie&&JSON.stringify(ie.metadata)===JSON.stringify(D.metadata)||y.push({type:"modified",payload:{oldIndex:B,newIndex:B,type:"modified",doc:D}})}),y}))}function eh(c,i,o){return ep(c,o).pipe((0,Be.R)((h,g)=>function Ia(c,i,o){return i.forEach(h=>{o.indexOf(h.type)>-1&&(c=function K0(c,i){switch(i.type){case"added":if(!c[i.newIndex]||!c[i.newIndex].doc.ref.isEqual(i.doc.ref))return E_(c,i.newIndex,0,i);break;case"modified":if(null==c[i.oldIndex]||c[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const o=c.slice();return o.splice(i.oldIndex,1),o.splice(i.newIndex,0,i),o}return E_(c,i.newIndex,1,i)}break;case"removed":if(c[i.oldIndex]&&c[i.oldIndex].doc.ref.isEqual(i.doc.ref))return E_(c,i.oldIndex,1)}return c}(c,h))}),c}(h,g.map(y=>y.payload),i),[]),(0,Te.x)(),(0,de.U)(h=>h.map(g=>({type:g.type,payload:g}))))}function E_(c,i,o,...h){const g=c.slice();return g.splice(i,o,...h),g}function T_(c){return(!c||0===c.length)&&(c=["added","removed","modified"]),c}class xu{constructor(i,o,h){this.ref=i,this.query=o,this.afs=h}stateChanges(i){let o=ep(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(o=o.pipe((0,de.U)(h=>h.filter(g=>i.indexOf(g.type)>-1)))),o.pipe((0,Ne.O)(void 0),Ze(),(0,je.h)(([h,g])=>g.length>0||!h),(0,de.U)(([h,g])=>g),ae.iC)}auditTrail(i){return this.stateChanges(i).pipe((0,Be.R)((o,h)=>[...o,...h],[]))}snapshotChanges(i){const o=T_(i);return eh(this.query,o,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(i={}){return Pg(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(o=>o.payload.docs.map(h=>i.idField?Object.assign(Object.assign({},h.data()),{[i.idField]:h.id}):h.data())),ae.iC)}get(i){return(0,Ce.D)(this.query.get(i)).pipe(ae.iC)}add(i){return this.ref.add(i)}doc(i){return new xv(this.ref.doc(i),this.afs)}}class xv{constructor(i,o){this.ref=i,this.afs=o}set(i,o){return this.ref.set(i,o)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,o){const h=this.ref.collection(i),{ref:g,query:y}=D_(h,o);return new xu(g,y,this.afs)}snapshotChanges(){return function Mv(c,i){return Sv(c,i).pipe((0,Ne.O)(void 0),Ze(),(0,de.U)(([o,h])=>h.exists?(null==o?void 0:o.exists)?{payload:h,type:"modified"}:{payload:h,type:"added"}:{payload:h,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(i={}){return this.snapshotChanges().pipe((0,de.U)(({payload:o})=>i.idField?Object.assign(Object.assign({},o.data()),{[i.idField]:o.id}):o.data()))}get(i){return(0,Ce.D)(this.ref.get(i)).pipe(ae.iC)}}class J0{constructor(i,o){this.query=i,this.afs=o}stateChanges(i){return i&&0!==i.length?ep(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(o=>o.filter(h=>i.indexOf(h.type)>-1)),(0,je.h)(o=>o.length>0),ae.iC):ep(this.query,this.afs.schedulers.outsideAngular).pipe(ae.iC)}auditTrail(i){return this.stateChanges(i).pipe((0,Be.R)((o,h)=>[...o,...h],[]))}snapshotChanges(i){const o=T_(i);return eh(this.query,o,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(i={}){return Pg(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(h=>h.payload.docs.map(g=>i.idField?Object.assign({[i.idField]:g.id},g.data()):g.data())),ae.iC)}get(i){return(0,Ce.D)(this.query.get(i)).pipe(ae.iC)}}const kg=new b.OlP("angularfire2.enableFirestorePersistence"),qh=new b.OlP("angularfire2.firestore.persistenceSettings"),w_=new b.OlP("angularfire2.firestore.settings"),Fg=new b.OlP("angularfire2.firestore.use-emulator");function D_(c,i=(o=>o)){return{query:i(c),ref:c}}let I_=(()=>{class c{constructor(o,h,g,y,D,B,J,ie,ze,dt,kt,Qt,rn,Fn,Si,Ls,vo){this.schedulers=J;const ls=(0,it.on)(o,B,h),zs=ze;dt&&(0,Ec.nw)(ls,B,kt,rn,Fn,Si,Qt,Ls),[this.firestore,this.persistenceEnabled$]=(0,it.cc)(`${ls.name}.firestore`,"AngularFirestore",ls.name,()=>{const Cs=B.runOutsideAngular(()=>ls.firestore());if(y&&Cs.settings(y),zs&&Cs.useEmulator(...zs),g&&!(0,Le.PM)(D)){const Ws=()=>{try{return(0,Ce.D)(Cs.enablePersistence(ie||void 0).then(()=>!0,()=>!1))}catch(uo){return"undefined"!=typeof console&&console.warn(uo),(0,Ie.of)(!1)}};return[Cs,B.runOutsideAngular(Ws)]}return[Cs,(0,Ie.of)(!1)]},[y,zs,g])}collection(o,h){let g;g="string"==typeof o?this.firestore.collection(o):o;const{ref:y,query:D}=D_(g,h),B=this.schedulers.ngZone.run(()=>y);return new xu(B,D,this)}collectionGroup(o,h){const g=h||(D=>D),y=this.firestore.collectionGroup(o);return new J0(g(y),this)}doc(o){let h;h="string"==typeof o?this.firestore.doc(o):o;const g=this.schedulers.ngZone.run(()=>h);return new xv(g,this)}createId(){return this.firestore.collection("_").doc().id}}return c.\u0275fac=function(o){return new(o||c)(b.LFG(it.Dh),b.LFG(it.xv,8),b.LFG(kg,8),b.LFG(w_,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(ae.HU),b.LFG(qh,8),b.LFG(Fg,8),b.LFG(Ec.zQ,8),b.LFG(Ec.Qv,8),b.LFG(Ec.L6,8),b.LFG(Ec._Q,8),b.LFG(Ec.rT,8),b.LFG(Ec.lh,8),b.LFG(Ec.f7,8),b.LFG(bs.nm,8))},c.\u0275prov=b.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),Zh=(()=>{class c{constructor(){lC.Z.registerVersion("angularfire",ae.q4.full,"fst-compat")}static enablePersistence(o){return{ngModule:c,providers:[{provide:kg,useValue:!0},{provide:qh,useValue:o}]}}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=b.oAB({type:c}),c.\u0275inj=b.cJS({providers:[I_]}),c})()},2084:(nn,ht,L)=>{"use strict";L.d(ht,{Q1:()=>os,TE:()=>V});var b=L(8306),s=L(9646),Q=L(8996),Ce=L(4986),Ie=L(4482),ae=L(5403),Pe=L(4004),Ze=L(3900),Ne=L(5813),de=L(5e3),Be=L(2011),Te=L(3942),je=L(5861),it=L(9681),Le=L(2090),Ve=L(4859);const fe="firebasestorage.googleapis.com",_e="storageBucket";class Qe extends Le.ZR{constructor(R,re){super(We(R),`Firebase Storage: ${re} (${We(R)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qe.prototype)}_codeEquals(R){return We(R)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(R){this.customData.serverResponse=R,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function We(T){return"storage/"+T}function Ye(){return new Qe("unknown","An unknown error occurred, please check the error payload for server response.")}function rt(){return new Qe("canceled","User canceled the upload/download.")}function mt(){return new Qe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Et(T){return new Qe("invalid-argument",T)}function pt(){return new Qe("app-deleted","The Firebase app was deleted.")}function Dt(T){return new Qe("invalid-root-operation","The operation '"+T+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _t(T,R){return new Qe("invalid-format","String does not match format '"+T+"': "+R)}function Ft(T){throw new Qe("internal-error","Internal error: "+T)}class Ot{constructor(R,re){this.bucket=R,this.path_=re}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const R=encodeURIComponent;return"/b/"+R(this.bucket)+"/o/"+R(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(R,re){let Ee;try{Ee=Ot.makeFromUrl(R,re)}catch(st){return new Ot(R,"")}if(""===Ee.path)return Ee;throw function Jt(T){return new Qe("invalid-default-bucket","Invalid default bucket '"+T+"'.")}(R)}static makeFromUrl(R,re){let Ee=null;const st="([A-Za-z0-9.\\-_]+)",Dn=new RegExp("^gs://"+st+"(/(.*))?$","i");function pi(as){as.path_=decodeURIComponent(as.path)}const Tr=re.replace(/[.]/g,"\\."),Pi=[{regex:Dn,indices:{bucket:1,path:3},postModify:function Mt(as){"/"===as.path.charAt(as.path.length-1)&&(as.path_=as.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Tr}/v[A-Za-z0-9_]+/b/${st}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:pi},{regex:new RegExp(`^https?://${re===fe?"(?:storage.googleapis.com|storage.cloud.google.com)":re}/${st}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:pi}];for(let as=0;as<Pi.length;as++){const Co=Pi[as],$o=Co.regex.exec(R);if($o){let _a=$o[Co.indices.path];_a||(_a=""),Ee=new Ot($o[Co.indices.bucket],_a),Co.postModify(Ee);break}}if(null==Ee)throw function tt(T){return new Qe("invalid-url","Invalid URL '"+T+"'.")}(R);return Ee}}class Cn{constructor(R){this.promise_=Promise.reject(R)}getPromise(){return this.promise_}cancel(R=!1){}}function jn(T){return"string"==typeof T||T instanceof String}function ki(T){return gi()&&T instanceof Blob}function gi(){return"undefined"!=typeof Blob}function bn(T,R,re,Ee){if(Ee<R)throw Et(`Invalid value for '${T}'. Expected ${R} or greater.`);if(Ee>re)throw Et(`Invalid value for '${T}'. Expected ${re} or less.`)}function Qn(T,R,re){let Ee=R;return null==re&&(Ee=`https://${R}`),`${re}://${Ee}/v0${T}`}function Gn(T){const R=encodeURIComponent;let re="?";for(const Ee in T)T.hasOwnProperty(Ee)&&(re=re+(R(Ee)+"=")+R(T[Ee])+"&");return re=re.slice(0,-1),re}var Kt=(()=>{return(T=Kt||(Kt={}))[T.NO_ERROR=0]="NO_ERROR",T[T.NETWORK_ERROR=1]="NETWORK_ERROR",T[T.ABORT=2]="ABORT",Kt;var T})();class Di{constructor(R,re,Ee,st,Mt,Yt,Dn,_n,pi,Ri,Tr){this.url_=R,this.method_=re,this.headers_=Ee,this.body_=st,this.successCodes_=Mt,this.additionalRetryCodes_=Yt,this.callback_=Dn,this.errorCallback_=_n,this.timeout_=pi,this.progressCallback_=Ri,this.connectionFactory_=Tr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((nr,Wi)=>{this.resolve_=nr,this.reject_=Wi,this.start_()})}start_(){const re=(Ee,st)=>{const Mt=this.resolve_,Yt=this.reject_,Dn=st.connection;if(st.wasSuccessCode)try{const _n=this.callback_(Dn,Dn.getResponse());!function Zn(T){return void 0!==T}(_n)?Mt():Mt(_n)}catch(_n){Yt(_n)}else if(null!==Dn){const _n=Ye();_n.serverResponse=Dn.getErrorText(),Yt(this.errorCallback_?this.errorCallback_(Dn,_n):_n)}else Yt(st.canceled?this.appDelete_?pt():rt():function Re(){return new Qe("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?re(0,new sr(!1,null,!0)):this.backoffId_=function ti(T,R,re){let Ee=1,st=null,Mt=null,Yt=!1,Dn=0;function _n(){return 2===Dn}let pi=!1;function Ri(...mr){pi||(pi=!0,R.apply(null,mr))}function Tr(mr){st=setTimeout(()=>{st=null,T(Wi,_n())},mr)}function nr(){Mt&&clearTimeout(Mt)}function Wi(mr,...Ur){if(pi)return void nr();if(mr)return nr(),void Ri.call(null,mr,...Ur);if(_n()||Yt)return nr(),void Ri.call(null,mr,...Ur);let Pi;Ee<64&&(Ee*=2),1===Dn?(Dn=2,Pi=0):Pi=1e3*(Ee+Math.random()),Tr(Pi)}let wr=!1;function Qr(mr){wr||(wr=!0,nr(),!pi&&(null!==st?(mr||(Dn=2),clearTimeout(st),Tr(0)):mr||(Dn=1)))}return Tr(0),Mt=setTimeout(()=>{Yt=!0,Qr(!0)},re),Qr}((Ee,st)=>{if(st)return void Ee(!1,new sr(!1,null,!0));const Mt=this.connectionFactory_();this.pendingConnection_=Mt;const Yt=Dn=>{null!==this.progressCallback_&&this.progressCallback_(Dn.loaded,Dn.lengthComputable?Dn.total:-1)};null!==this.progressCallback_&&Mt.addUploadProgressListener(Yt),Mt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Mt.removeUploadProgressListener(Yt),this.pendingConnection_=null;const Dn=Mt.getErrorCode()===Kt.NO_ERROR,_n=Mt.getStatus();if(!Dn||this.isRetryStatusCode_(_n)){const Ri=Mt.getErrorCode()===Kt.ABORT;return void Ee(!1,new sr(!1,null,Ri))}const pi=-1!==this.successCodes_.indexOf(_n);Ee(!0,new sr(pi,Mt))})},re,this.timeout_)}getPromise(){return this.promise_}cancel(R){this.canceled_=!0,this.appDelete_=R||!1,null!==this.backoffId_&&function $n(T){T(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(R){const re=R>=500&&R<600,st=-1!==[408,429].indexOf(R),Mt=-1!==this.additionalRetryCodes_.indexOf(R);return re||st||Mt}}class sr{constructor(R,re,Ee){this.wasSuccessCode=R,this.connection=re,this.canceled=!!Ee}}function pn(...T){const R=function hn(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==R){const re=new R;for(let Ee=0;Ee<T.length;Ee++)re.append(T[Ee]);return re.getBlob()}if(gi())return new Blob(T);throw new Qe("unsupported-environment","This browser doesn't seem to support creating Blobs")}const xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fi{constructor(R,re){this.data=R,this.contentType=re||null}}function Ti(T,R){switch(T){case xn.RAW:return new Fi(Li(R));case xn.BASE64:case xn.BASE64URL:return new Fi(or(T,R));case xn.DATA_URL:return new Fi(function cn(T){const R=new ci(T);return R.base64?or(xn.BASE64,R.rest):function Ln(T){let R;try{R=decodeURIComponent(T)}catch(re){throw _t(xn.DATA_URL,"Malformed data URL.")}return Li(R)}(R.rest)}(R),function zt(T){return new ci(T).contentType}(R))}throw Ye()}function Li(T){const R=[];for(let re=0;re<T.length;re++){let Ee=T.charCodeAt(re);Ee<=127?R.push(Ee):Ee<=2047?R.push(192|Ee>>6,128|63&Ee):55296==(64512&Ee)?re<T.length-1&&56320==(64512&T.charCodeAt(re+1))?(Ee=65536|(1023&Ee)<<10|1023&T.charCodeAt(++re),R.push(240|Ee>>18,128|Ee>>12&63,128|Ee>>6&63,128|63&Ee)):R.push(239,191,189):56320==(64512&Ee)?R.push(239,191,189):R.push(224|Ee>>12,128|Ee>>6&63,128|63&Ee)}return new Uint8Array(R)}function or(T,R){switch(T){case xn.BASE64:{const st=-1!==R.indexOf("-"),Mt=-1!==R.indexOf("_");if(st||Mt)throw _t(T,"Invalid character '"+(st?"-":"_")+"' found: is it base64url encoded?");break}case xn.BASE64URL:{const st=-1!==R.indexOf("+"),Mt=-1!==R.indexOf("/");if(st||Mt)throw _t(T,"Invalid character '"+(st?"+":"/")+"' found: is it base64 encoded?");R=R.replace(/-/g,"+").replace(/_/g,"/");break}}let re;try{re=function jr(T){return atob(T)}(R)}catch(st){throw _t(T,"Invalid character found")}const Ee=new Uint8Array(re.length);for(let st=0;st<re.length;st++)Ee[st]=re.charCodeAt(st);return Ee}class ci{constructor(R){this.base64=!1,this.contentType=null;const re=R.match(/^data:([^,]+)?,/);if(null===re)throw _t(xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ee=re[1]||null;null!=Ee&&(this.base64=function mn(T,R){return T.length>=R.length&&T.substring(T.length-R.length)===R}(Ee,";base64"),this.contentType=this.base64?Ee.substring(0,Ee.length-7):Ee),this.rest=R.substring(R.indexOf(",")+1)}}class ln{constructor(R,re){let Ee=0,st="";ki(R)?(this.data_=R,Ee=R.size,st=R.type):R instanceof ArrayBuffer?(re?this.data_=new Uint8Array(R):(this.data_=new Uint8Array(R.byteLength),this.data_.set(new Uint8Array(R))),Ee=this.data_.length):R instanceof Uint8Array&&(re?this.data_=R:(this.data_=new Uint8Array(R.length),this.data_.set(R)),Ee=R.length),this.size_=Ee,this.type_=st}size(){return this.size_}type(){return this.type_}slice(R,re){if(ki(this.data_)){const st=function ur(T,R,re){return T.webkitSlice?T.webkitSlice(R,re):T.mozSlice?T.mozSlice(R,re):T.slice?T.slice(R,re):null}(this.data_,R,re);return null===st?null:new ln(st)}{const Ee=new Uint8Array(this.data_.buffer,R,re-R);return new ln(Ee,!0)}}static getBlob(...R){if(gi()){const re=R.map(Ee=>Ee instanceof ln?Ee.data_:Ee);return new ln(pn.apply(null,re))}{const re=R.map(Yt=>jn(Yt)?Ti(xn.RAW,Yt).data:Yt.data_);let Ee=0;re.forEach(Yt=>{Ee+=Yt.byteLength});const st=new Uint8Array(Ee);let Mt=0;return re.forEach(Yt=>{for(let Dn=0;Dn<Yt.length;Dn++)st[Mt++]=Yt[Dn]}),new ln(st,!0)}}uploadData(){return this.data_}}function Bn(T){let R;try{R=JSON.parse(T)}catch(re){return null}return function ai(T){return"object"==typeof T&&!Array.isArray(T)}(R)?R:null}function ve(T){const R=T.lastIndexOf("/",T.length-2);return-1===R?T:T.slice(R+1)}function Xe(T,R){return R}class Tt{constructor(R,re,Ee,st){this.server=R,this.local=re||R,this.writable=!!Ee,this.xform=st||Xe}}let ue=null;function ye(){if(ue)return ue;const T=[];T.push(new Tt("bucket")),T.push(new Tt("generation")),T.push(new Tt("metageneration")),T.push(new Tt("name","fullPath",!0));const re=new Tt("name");re.xform=function R(Mt,Yt){return function Me(T){return!jn(T)||T.length<2?T:ve(T)}(Yt)},T.push(re);const st=new Tt("size");return st.xform=function Ee(Mt,Yt){return void 0!==Yt?Number(Yt):Yt},T.push(st),T.push(new Tt("timeCreated")),T.push(new Tt("updated")),T.push(new Tt("md5Hash",null,!0)),T.push(new Tt("cacheControl",null,!0)),T.push(new Tt("contentDisposition",null,!0)),T.push(new Tt("contentEncoding",null,!0)),T.push(new Tt("contentLanguage",null,!0)),T.push(new Tt("contentType",null,!0)),T.push(new Tt("metadata","customMetadata",!0)),ue=T,ue}function un(T,R,re){const Ee=Bn(R);return null===Ee?null:function Xt(T,R,re){const Ee={type:"file"},st=re.length;for(let Mt=0;Mt<st;Mt++){const Yt=re[Mt];Ee[Yt.local]=Yt.xform(Ee,R[Yt.server])}return function St(T,R){Object.defineProperty(T,"ref",{get:function re(){const Mt=new Ot(T.bucket,T.fullPath);return R._makeStorageReference(Mt)}})}(Ee,T),Ee}(T,Ee,re)}function sn(T,R){const re={},Ee=R.length;for(let st=0;st<Ee;st++){const Mt=R[st];Mt.writable&&(re[Mt.server]=T[Mt.local])}return JSON.stringify(re)}const Un="prefixes";class Hi{constructor(R,re,Ee,st){this.url=R,this.method=re,this.handler=Ee,this.timeout=st,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xi(T){if(!T)throw Ye()}function qi(T,R){return function re(Ee,st){const Mt=un(T,st,R);return Xi(null!==Mt),Mt}}function Ht(T){return function R(re,Ee){let st;return st=401===re.getStatus()?re.getErrorText().includes("Firebase App Check token is invalid")?function ke(){return new Qe("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Se(){return new Qe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===re.getStatus()?function Ke(T){return new Qe("quota-exceeded","Quota for bucket '"+T+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(T.bucket):403===re.getStatus()?function De(T){return new Qe("unauthorized","User does not have permission to access '"+T+"'.")}(T.path):Ee,st.serverResponse=Ee.serverResponse,st}}function ii(T){const R=Ht(T);return function re(Ee,st){let Mt=R(Ee,st);return 404===Ee.getStatus()&&(Mt=function Ae(T){return new Qe("object-not-found","Object '"+T+"' does not exist.")}(T.path)),Mt.serverResponse=st.serverResponse,Mt}}function hi(T,R,re){const st=Qn(R.fullServerUrl(),T.host,T._protocol),Yt=T.maxOperationRetryTime,Dn=new Hi(st,"GET",qi(T,re),Yt);return Dn.errorHandler=ii(R),Dn}function fr(T,R,re,Ee,st){const Mt={};Mt.prefix=R.isRoot?"":R.path+"/",re&&re.length>0&&(Mt.delimiter=re),Ee&&(Mt.pageToken=Ee),st&&(Mt.maxResults=st);const Dn=Qn(R.bucketOnlyServerUrl(),T.host,T._protocol),pi=T.maxOperationRetryTime,Ri=new Hi(Dn,"GET",function Jr(T,R){return function re(Ee,st){const Mt=function fi(T,R,re){const Ee=Bn(re);return null===Ee?null:function Mi(T,R,re){const Ee={prefixes:[],items:[],nextPageToken:re.nextPageToken};if(re[Un])for(const st of re[Un]){const Mt=st.replace(/\/$/,""),Yt=T._makeStorageReference(new Ot(R,Mt));Ee.prefixes.push(Yt)}if(re.items)for(const st of re.items){const Mt=T._makeStorageReference(new Ot(R,st.name));Ee.items.push(Mt)}return Ee}(T,R,Ee)}(T,R,st);return Xi(null!==Mt),Mt}}(T,R.bucket),pi);return Ri.urlParams=Mt,Ri.errorHandler=Ht(R),Ri}function ui(T,R,re){const Ee=Object.assign({},re);return Ee.fullPath=T.path,Ee.size=R.size(),Ee.contentType||(Ee.contentType=function Bi(T,R){return T&&T.contentType||R&&R.type()||"application/octet-stream"}(null,R)),Ee}class Rr{constructor(R,re,Ee,st){this.current=R,this.total=re,this.finalized=!!Ee,this.metadata=st||null}}function Sr(T,R){let re=null;try{re=T.getResponseHeader("X-Goog-Upload-Status")}catch(st){Xi(!1)}return Xi(!!re&&-1!==(R||["active"]).indexOf(re)),re}const Lr={STATE_CHANGED:"state_changed"},X={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function he(T){switch(T){case"running":case"pausing":case"canceling":return X.RUNNING;case"paused":return X.PAUSED;case"success":return X.SUCCESS;case"canceled":return X.CANCELED;default:return X.ERROR}}class ct{constructor(R,re,Ee){if(function Hn(T){return"function"==typeof T}(R)||null!=re||null!=Ee)this.next=R,this.error=null!=re?re:void 0,this.complete=null!=Ee?Ee:void 0;else{const Mt=R;this.next=Mt.next,this.error=Mt.error,this.complete=Mt.complete}}}function yt(T){return(...R)=>{Promise.resolve().then(()=>T(...R))}}class bt extends class $e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kt.NO_ERROR,this.sendPromise_=new Promise(R=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kt.ABORT,R()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kt.NETWORK_ERROR,R()}),this.xhr_.addEventListener("load",()=>{R()})})}send(R,re,Ee,st){if(this.sent_)throw Ft("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(re,R,!0),void 0!==st)for(const Mt in st)st.hasOwnProperty(Mt)&&this.xhr_.setRequestHeader(Mt,st[Mt].toString());return void 0!==Ee?this.xhr_.send(Ee):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ft("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ft("cannot .getStatus() before sending");try{return this.xhr_.status}catch(R){return-1}}getResponse(){if(!this.sent_)throw Ft("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ft("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(R){return this.xhr_.getResponseHeader(R)}addUploadProgressListener(R){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",R)}removeUploadProgressListener(R){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",R)}}{initXhr(){this.xhr_.responseType="text"}}function Rt(){return new bt}class Xn{constructor(R,re,Ee=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=R,this._blob=re,this._metadata=Ee,this._mappings=ye(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=st=>{this._request=void 0,this._chunkMultiplier=1,st._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=st,this._transition("error"))},this._metadataErrorHandler=st=>{this._request=void 0,st._codeEquals("canceled")?this.completeTransitions_():(this._error=st,this._transition("error"))},this._promise=new Promise((st,Mt)=>{this._resolve=st,this._reject=Mt,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const R=this._transferred;return re=>this._updateProgress(R+re)}_shouldDoResumable(R){return R.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(R){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([re,Ee])=>{switch(this._state){case"running":R(re,Ee);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((R,re)=>{const Ee=function Is(T,R,re,Ee,st){const Mt=R.bucketOnlyServerUrl(),Yt=ui(R,Ee,st),Dn={name:Yt.fullPath},_n=Qn(Mt,T.host,T._protocol),Ri={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ee.size()}`,"X-Goog-Upload-Header-Content-Type":Yt.contentType,"Content-Type":"application/json; charset=utf-8"},Tr=sn(Yt,re),wr=new Hi(_n,"POST",function Wi(Qr){let mr;Sr(Qr);try{mr=Qr.getResponseHeader("X-Goog-Upload-URL")}catch(Ur){Xi(!1)}return Xi(jn(mr)),mr},T.maxUploadRetryTime);return wr.urlParams=Dn,wr.headers=Ri,wr.body=Tr,wr.errorHandler=Ht(R),wr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),st=this._ref.storage._makeRequest(Ee,Rt,R,re);this._request=st,st.getPromise().then(Mt=>{this._request=void 0,this._uploadUrl=Mt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const R=this._uploadUrl;this._resolveToken((re,Ee)=>{const st=function er(T,R,re,Ee){const _n=new Hi(re,"POST",function Mt(pi){const Ri=Sr(pi,["active","final"]);let Tr=null;try{Tr=pi.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Wi){Xi(!1)}Tr||Xi(!1);const nr=Number(Tr);return Xi(!isNaN(nr)),new Rr(nr,Ee.size(),"final"===Ri)},T.maxUploadRetryTime);return _n.headers={"X-Goog-Upload-Command":"query"},_n.errorHandler=Ht(R),_n}(this._ref.storage,this._ref._location,R,this._blob),Mt=this._ref.storage._makeRequest(st,Rt,re,Ee);this._request=Mt,Mt.getPromise().then(Yt=>{Yt=Yt,this._request=void 0,this._updateProgress(Yt.current),this._needToFetchStatus=!1,Yt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const R=262144*this._chunkMultiplier,re=new Rr(this._transferred,this._blob.size()),Ee=this._uploadUrl;this._resolveToken((st,Mt)=>{let Yt;try{Yt=function zr(T,R,re,Ee,st,Mt,Yt,Dn){const _n=new Rr(0,0);if(Yt?(_n.current=Yt.current,_n.total=Yt.total):(_n.current=0,_n.total=Ee.size()),Ee.size()!==_n.total)throw function nt(){return new Qe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const pi=_n.total-_n.current;let Ri=pi;st>0&&(Ri=Math.min(Ri,st));const Tr=_n.current,wr={"X-Goog-Upload-Command":Ri===pi?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_n.current}`},Qr=Ee.slice(Tr,Tr+Ri);if(null===Qr)throw mt();const Pi=new Hi(re,"POST",function mr(as,Co){const $o=Sr(as,["active","final"]),ea=_n.current+Ri,_a=Ee.size();let Ma;return Ma="final"===$o?qi(R,Mt)(as,Co):null,new Rr(ea,_a,"final"===$o,Ma)},R.maxUploadRetryTime);return Pi.headers=wr,Pi.body=Qr.uploadData(),Pi.progressCallback=Dn||null,Pi.errorHandler=Ht(T),Pi}(this._ref._location,this._ref.storage,Ee,this._blob,R,this._mappings,re,this._makeProgressCallback())}catch(_n){return this._error=_n,void this._transition("error")}const Dn=this._ref.storage._makeRequest(Yt,Rt,st,Mt);this._request=Dn,Dn.getPromise().then(_n=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_n.current),_n.finalized?(this._metadata=_n.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((R,re)=>{const Ee=hi(this._ref.storage,this._ref._location,this._mappings),st=this._ref.storage._makeRequest(Ee,Rt,R,re);this._request=st,st.getPromise().then(Mt=>{this._request=void 0,this._metadata=Mt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((R,re)=>{const Ee=function Wn(T,R,re,Ee,st){const Mt=R.bucketOnlyServerUrl(),Yt={"X-Goog-Upload-Protocol":"multipart"},_n=function Dn(){let Pi="";for(let as=0;as<2;as++)Pi+=Math.random().toString().slice(2);return Pi}();Yt["Content-Type"]="multipart/related; boundary="+_n;const pi=ui(R,Ee,st),Ri=sn(pi,re),Wi=ln.getBlob("--"+_n+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ri+"\r\n--"+_n+"\r\nContent-Type: "+pi.contentType+"\r\n\r\n",Ee,"\r\n--"+_n+"--");if(null===Wi)throw mt();const wr={name:pi.fullPath},Qr=Qn(Mt,T.host,T._protocol),Ur=T.maxUploadRetryTime,Xo=new Hi(Qr,"POST",qi(T,re),Ur);return Xo.urlParams=wr,Xo.headers=Yt,Xo.body=Wi.uploadData(),Xo.errorHandler=Ht(R),Xo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),st=this._ref.storage._makeRequest(Ee,Rt,R,re);this._request=st,st.getPromise().then(Mt=>{this._request=void 0,this._metadata=Mt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(R){const re=this._transferred;this._transferred=R,this._transferred!==re&&this._notifyObservers()}_transition(R){if(this._state!==R)switch(R){case"canceling":case"pausing":this._state=R,void 0!==this._request&&this._request.cancel();break;case"running":const re="paused"===this._state;this._state=R,re&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=R,this._notifyObservers();break;case"canceled":this._error=rt(),this._state=R,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const R=he(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:R,metadata:this._metadata,task:this,ref:this._ref}}on(R,re,Ee,st){const Mt=new ct(re||void 0,Ee||void 0,st||void 0);return this._addObserver(Mt),()=>{this._removeObserver(Mt)}}then(R,re){return this._promise.then(R,re)}catch(R){return this.then(null,R)}_addObserver(R){this._observers.push(R),this._notifyObserver(R)}_removeObserver(R){const re=this._observers.indexOf(R);-1!==re&&this._observers.splice(re,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(re=>{this._notifyObserver(re)})}_finishPromise(){if(void 0!==this._resolve){let R=!0;switch(he(this._state)){case X.SUCCESS:yt(this._resolve.bind(null,this.snapshot))();break;case X.CANCELED:case X.ERROR:yt(this._reject.bind(null,this._error))();break;default:R=!1}R&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(R){switch(he(this._state)){case X.RUNNING:case X.PAUSED:R.next&&yt(R.next.bind(R,this.snapshot))();break;case X.SUCCESS:R.complete&&yt(R.complete.bind(R))();break;default:R.error&&yt(R.error.bind(R,this._error))()}}resume(){const R="paused"===this._state||"pausing"===this._state;return R&&this._transition("running"),R}pause(){const R="running"===this._state;return R&&this._transition("pausing"),R}cancel(){const R="running"===this._state||"pausing"===this._state;return R&&this._transition("canceling"),R}}class oi{constructor(R,re){this._service=R,this._location=re instanceof Ot?re:Ot.makeFromUrl(re,R.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(R,re){return new oi(R,re)}get root(){const R=new Ot(this._location.bucket,"");return this._newRef(this._service,R)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ve(this._location.path)}get storage(){return this._service}get parent(){const R=function zn(T){if(0===T.length)return null;const R=T.lastIndexOf("/");return-1===R?"":T.slice(0,R)}(this._location.path);if(null===R)return null;const re=new Ot(this._location.bucket,R);return new oi(this._service,re)}_throwIfRoot(R){if(""===this._location.path)throw Dt(R)}}function on(T,R,re){return An.apply(this,arguments)}function An(){return(An=(0,je.Z)(function*(T,R,re){const st=yield dr(T,{pageToken:re});R.prefixes.push(...st.prefixes),R.items.push(...st.items),null!=st.nextPageToken&&(yield on(T,R,st.nextPageToken))})).apply(this,arguments)}function dr(T,R){null!=R&&"number"==typeof R.maxResults&&bn("options.maxResults",1,1e3,R.maxResults);const re=R||{},Ee=fr(T.storage,T._location,"/",re.pageToken,re.maxResults);return T.storage.makeRequestWithTokens(Ee,Rt)}function Mr(T){T._throwIfRoot("getDownloadURL");const R=function wi(T,R,re){const st=Qn(R.fullServerUrl(),T.host,T._protocol),Yt=T.maxOperationRetryTime,Dn=new Hi(st,"GET",function Yn(T,R){return function re(Ee,st){const Mt=un(T,st,R);return Xi(null!==Mt),function En(T,R,re,Ee){const st=Bn(R);if(null===st||!jn(st.downloadTokens))return null;const Mt=st.downloadTokens;if(0===Mt.length)return null;const Yt=encodeURIComponent;return Mt.split(",").map(pi=>{const Tr=T.fullPath;return Qn("/b/"+Yt(T.bucket)+"/o/"+Yt(Tr),re,Ee)+Gn({alt:"media",token:pi})})[0]}(Mt,st,T.host,T._protocol)}}(T,re),Yt);return Dn.errorHandler=ii(R),Dn}(T.storage,T._location,ye());return T.storage.makeRequestWithTokens(R,Rt).then(re=>{if(null===re)throw function Je(){return new Qe("no-download-url","The given file does not have any download URLs.")}();return re})}function io(T,R){const re=function qe(T,R){const re=R.split("/").filter(Ee=>Ee.length>0).join("/");return 0===T.length?re:T+"/"+re}(T._location.path,R),Ee=new Ot(T._location.bucket,re);return new oi(T.storage,Ee)}function qs(T,R){if(T instanceof Zs){const re=T;if(null==re._bucket)throw function Gt(){return new Qe("no-default-bucket","No default bucket found. Did you set the '"+_e+"' property when initializing the app?")}();const Ee=new oi(re,re._bucket);return null!=R?qs(Ee,R):Ee}return void 0!==R?io(T,R):T}function Br(T,R){if(R&&function Bs(T){return/^[A-Za-z]+:\/\//.test(T)}(R)){if(T instanceof Zs)return function ro(T,R){return new oi(T,R)}(T,R);throw Et("To use ref(service, url), the first argument must be a Storage instance.")}return qs(T,R)}function So(T,R){const re=null==R?void 0:R[_e];return null==re?null:Ot.makeFromBucketSpec(re,T)}class Zs{constructor(R,re,Ee,st,Mt){this.app=R,this._authProvider=re,this._appCheckProvider=Ee,this._url=st,this._firebaseVersion=Mt,this._bucket=null,this._host=fe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=st?Ot.makeFromBucketSpec(st,this._host):So(this._host,this.app.options)}get host(){return this._host}set host(R){this._host=R,this._bucket=null!=this._url?Ot.makeFromBucketSpec(this._url,R):So(R,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(R){bn("time",0,Number.POSITIVE_INFINITY,R),this._maxUploadRetryTime=R}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(R){bn("time",0,Number.POSITIVE_INFINITY,R),this._maxOperationRetryTime=R}_getAuthToken(){var R=this;return(0,je.Z)(function*(){if(R._overrideAuthToken)return R._overrideAuthToken;const re=R._authProvider.getImmediate({optional:!0});if(re){const Ee=yield re.getToken();if(null!==Ee)return Ee.accessToken}return null})()}_getAppCheckToken(){var R=this;return(0,je.Z)(function*(){const re=R._appCheckProvider.getImmediate({optional:!0});return re?(yield re.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(R=>R.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(R){return new oi(this,R)}_makeRequest(R,re,Ee,st){if(this._deleted)return new Cn(pt());{const Mt=function ni(T,R,re,Ee,st,Mt){const Yt=Gn(T.urlParams),Dn=T.url+Yt,_n=Object.assign({},T.headers);return function Nr(T,R){R&&(T["X-Firebase-GMPID"]=R)}(_n,R),function zi(T,R){null!==R&&R.length>0&&(T.Authorization="Firebase "+R)}(_n,re),function rr(T,R){T["X-Firebase-Storage-Version"]="webjs/"+(null!=R?R:"AppManager")}(_n,Mt),function cr(T,R){null!==R&&(T["X-Firebase-AppCheck"]=R)}(_n,Ee),new Di(Dn,T.method,_n,T.body,T.successCodes,T.additionalRetryCodes,T.handler,T.errorHandler,T.timeout,T.progressCallback,st)}(R,this._appId,Ee,st,re,this._firebaseVersion);return this._requests.add(Mt),Mt.getPromise().then(()=>this._requests.delete(Mt),()=>this._requests.delete(Mt)),Mt}}makeRequestWithTokens(R,re){var Ee=this;return(0,je.Z)(function*(){const[st,Mt]=yield Promise.all([Ee._getAuthToken(),Ee._getAppCheckToken()]);return Ee._makeRequest(R,re,st,Mt).getPromise()})()}}const gs="@firebase/storage";function xe(T,R){return Br(T=(0,Le.m9)(T),R)}function Zi(T,{instanceIdentifier:R}){const re=T.getProvider("app").getImmediate(),Ee=T.getProvider("auth-internal"),st=T.getProvider("app-check-internal");return new Zs(re,Ee,st,R,it.SDK_VERSION)}!function z(){(0,it._registerComponent)(new Ve.wA("storage",Zi,"PUBLIC").setMultipleInstances(!0)),(0,it.registerVersion)(gs,"0.9.5",""),(0,it.registerVersion)(gs,"0.9.5","esm2017")}();class oe{constructor(R,re,Ee){this._delegate=R,this.task=re,this.ref=Ee}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class G{constructor(R,re){this._delegate=R,this._ref=re,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new oe(this._delegate.snapshot,this,this._ref)}then(R,re){return this._delegate.then(Ee=>{if(R)return R(new oe(Ee,this,this._ref))},re)}on(R,re,Ee,st){let Mt;return re&&(Mt="function"==typeof re?Yt=>re(new oe(Yt,this,this._ref)):{next:re.next?Yt=>re.next(new oe(Yt,this,this._ref)):void 0,complete:re.complete||void 0,error:re.error||void 0}),this._delegate.on(R,Mt,Ee||void 0,st||void 0)}}class ce{constructor(R,re){this._delegate=R,this._service=re}get prefixes(){return this._delegate.prefixes.map(R=>new He(R,this._service))}get items(){return this._delegate.items.map(R=>new He(R,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class He{constructor(R,re){this._delegate=R,this.storage=re}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(R){const re=function is(T,R){return io(T,R)}(this._delegate,R);return new He(re,this.storage)}get root(){return new He(this._delegate.root,this.storage)}get parent(){const R=this._delegate.parent;return null==R?null:new He(R,this.storage)}put(R,re){return this._throwIfRoot("put"),new G(function us(T,R,re){return function et(T,R,re){return T._throwIfRoot("uploadBytesResumable"),new Xn(T,new ln(R),re)}(T=(0,Le.m9)(T),R,re)}(this._delegate,R,re),this)}putString(R,re=xn.RAW,Ee){this._throwIfRoot("putString");const st=Ti(re,R),Mt=Object.assign({},Ee);return null==Mt.contentType&&null!=st.contentType&&(Mt.contentType=st.contentType),new G(new Xn(this._delegate,new ln(st.data,!0),Mt),this)}listAll(){return function Ys(T){return function Wt(T){const R={prefixes:[],items:[]};return on(T,R).then(()=>R)}(T=(0,Le.m9)(T))}(this._delegate).then(R=>new ce(R,this.storage))}list(R){return function ar(T,R){return dr(T=(0,Le.m9)(T),R)}(this._delegate,R||void 0).then(re=>new ce(re,this.storage))}getMetadata(){return function ds(T){return function Wr(T){T._throwIfRoot("getMetadata");const R=hi(T.storage,T._location,ye());return T.storage.makeRequestWithTokens(R,Rt)}(T=(0,Le.m9)(T))}(this._delegate)}updateMetadata(R){return function ho(T,R){return function ji(T,R){T._throwIfRoot("updateMetadata");const re=function Ar(T,R,re,Ee){const Mt=Qn(R.fullServerUrl(),T.host,T._protocol),Dn=sn(re,Ee),pi=T.maxOperationRetryTime,Ri=new Hi(Mt,"PATCH",qi(T,Ee),pi);return Ri.headers={"Content-Type":"application/json; charset=utf-8"},Ri.body=Dn,Ri.errorHandler=ii(R),Ri}(T.storage,T._location,R,ye());return T.storage.makeRequestWithTokens(re,Rt)}(T=(0,Le.m9)(T),R)}(this._delegate,R)}getDownloadURL(){return function Sa(T){return Mr(T=(0,Le.m9)(T))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Us(T){return function Ao(T){T._throwIfRoot("deleteObject");const R=function Vi(T,R){const Ee=Qn(R.fullServerUrl(),T.host,T._protocol),Dn=new Hi(Ee,"DELETE",function Yt(_n,pi){},T.maxOperationRetryTime);return Dn.successCodes=[200,204],Dn.errorHandler=ii(R),Dn}(T.storage,T._location);return T.storage.makeRequestWithTokens(R,Rt)}(T=(0,Le.m9)(T))}(this._delegate)}_throwIfRoot(R){if(""===this._delegate._location.path)throw Dt(R)}}class Pt{constructor(R,re){this.app=R,this._delegate=re}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(R){if(qt(R))throw Et("ref() expected a child path but got a URL, use refFromURL instead.");return new He(xe(this._delegate,R),this)}refFromURL(R){if(!qt(R))throw Et("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ot.makeFromUrl(R,this._delegate.host)}catch(re){throw Et("refFromUrl() expected a valid full URL but got an invalid one.")}return new He(xe(this._delegate,R),this)}setMaxUploadRetryTime(R){this._delegate.maxUploadRetryTime=R}setMaxOperationRetryTime(R){this._delegate.maxOperationRetryTime=R}useEmulator(R,re,Ee={}){!function rs(T,R,re,Ee={}){!function br(T,R,re,Ee={}){T.host=`${R}:${re}`,T._protocol="http";const{mockUserToken:st}=Ee;st&&(T._overrideAuthToken="string"==typeof st?st:(0,Le.Sg)(st,T.app.options.projectId))}(T,R,re,Ee)}(this._delegate,R,re,Ee)}}function qt(T){return/^[A-Za-z]+:\/\//.test(T)}function Ii(T,{instanceIdentifier:R}){const re=T.getProvider("app-compat").getImmediate(),Ee=T.getProvider("storage").getImmediate({identifier:R});return new Pt(re,Ee)}!function ei(T){const R={TaskState:X,TaskEvent:Lr,StringFormat:xn,Storage:Pt,Reference:He};T.INTERNAL.registerComponent(new Ve.wA("storage-compat",Ii,"PUBLIC").setServiceProps(R).setMultipleInstances(!0)),T.registerVersion("@firebase/storage-compat","0.1.13")}(Te.Z);var xr=L(440),gr=L(127);function Er(T){const R=function tr(T){return new b.y(R=>{const re=Yt=>R.next(Yt);re(T.snapshot);const Mt=T.on("state_changed",re);return T.then(Yt=>{re(Yt),R.complete()},Yt=>{re(T.snapshot),(Yt=>{R.error(Yt)})(Yt)}),function(){Mt()}}).pipe(function ge(T,R=Ce.z){return(0,Ie.e)((re,Ee)=>{let st=null,Mt=null,Yt=null;const Dn=()=>{if(st){st.unsubscribe(),st=null;const pi=Mt;Mt=null,Ee.next(pi)}};function _n(){const pi=Yt+T,Ri=R.now();if(Ri<pi)return st=this.schedule(void 0,pi-Ri),void Ee.add(st);Dn()}re.subscribe((0,ae.x)(Ee,pi=>{Mt=pi,Yt=R.now(),st||(st=R.schedule(_n,T),Ee.add(st))},()=>{Dn(),Ee.complete()},void 0,()=>{Mt=st=null}))})}(0))}(T);return{task:T,then:T.then.bind(T),catch:T.catch.bind(T),pause:T.pause.bind(T),cancel:T.cancel.bind(T),resume:T.resume.bind(T),snapshotChanges:()=>R,percentageChanges:()=>R.pipe((0,Pe.U)(re=>re.bytesTransferred/re.totalBytes*100))}}function Gr(T){return{getDownloadURL:()=>(0,s.of)(void 0).pipe(Ne.fc,(0,Ze.w)(()=>T.getDownloadURL()),Ne.iC),getMetadata:()=>(0,s.of)(void 0).pipe(Ne.fc,(0,Ze.w)(()=>T.getMetadata()),Ne.iC),delete:()=>(0,Q.D)(T.delete()),child:R=>Gr(T.child(R)),updateMetadata:R=>(0,Q.D)(T.updateMetadata(R)),put:(R,re)=>Er(T.put(R,re)),putString:(R,re,Ee)=>Er(T.putString(R,re,Ee)),list:R=>(0,Q.D)(T.list(R)),listAll:()=>(0,Q.D)(T.listAll())}}const Rn=new de.OlP("angularfire2.storageBucket"),xs=new de.OlP("angularfire2.storage.maxUploadRetryTime"),Js=new de.OlP("angularfire2.storage.maxOperationRetryTime"),ss=new de.OlP("angularfire2.storage.use-emulator");let os=(()=>{class T{constructor(re,Ee,st,Mt,Yt,Dn,_n,pi,Ri,Tr){const nr=(0,Be.on)(re,Yt,Ee);this.storage=(0,Be.cc)(`${nr.name}.storage.${st}`,"AngularFireStorage",nr.name,()=>{const Wi=Yt.runOutsideAngular(()=>nr.storage(st||void 0)),wr=Ri;return wr&&Wi.useEmulator(...wr),_n&&Wi.setMaxUploadRetryTime(_n),pi&&Wi.setMaxOperationRetryTime(pi),Wi},[_n,pi])}ref(re){return Gr(this.storage.ref(re))}refFromURL(re){return Gr(this.storage.refFromURL(re))}upload(re,Ee,st){return Gr(this.storage.ref(re)).put(Ee,st)}}return T.\u0275fac=function(re){return new(re||T)(de.LFG(Be.Dh),de.LFG(Be.xv,8),de.LFG(Rn,8),de.LFG(de.Lbi),de.LFG(de.R0b),de.LFG(Ne.HU),de.LFG(xs,8),de.LFG(Js,8),de.LFG(ss,8),de.LFG(xr.nm,8))},T.\u0275prov=de.Yz7({token:T,factory:T.\u0275fac,providedIn:"any"}),T})(),j=(()=>{class T{}return T.\u0275fac=function(re){return new(re||T)},T.\u0275mod=de.oAB({type:T}),T.\u0275inj=de.cJS({}),T})(),V=(()=>{class T{constructor(){gr.Z.registerVersion("angularfire",Ne.q4.full,"gcs-compat")}}return T.\u0275fac=function(re){return new(re||T)},T.\u0275mod=de.oAB({type:T}),T.\u0275inj=de.cJS({providers:[os],imports:[j]}),T})()},2011:(nn,ht,L)=>{"use strict";L.d(ht,{Dh:()=>Pe,GT:()=>ae,cc:()=>je,hO:()=>Te,on:()=>Ne,pX:()=>Ie,xv:()=>Ze});var b=L(5e3),s=L(127),Q=L(5813);nn=L.hmd(nn);const Ce=["ngOnDestroy"],Ie=(fe,_e,vt,lt={})=>new Proxy(fe,{get:(Qe,We)=>vt.runOutsideAngular(()=>{var Ye;if(fe[We])return(null===(Ye=null==lt?void 0:lt.spy)||void 0===Ye?void 0:Ye.get)&&lt.spy.get(We,fe[We]),fe[We];if(Ce.indexOf(We)>-1)return()=>{};const Ae=_e.toPromise().then(Ke=>{const Se=Ke&&Ke[We];return"function"==typeof Se?Se.bind(Ke):Se&&Se.then?Se.then(ke=>vt.run(()=>ke)):vt.run(()=>Se)});return new Proxy(()=>{},{get:(Ke,Se)=>Ae[Se],apply:(Ke,Se,ke)=>Ae.then(De=>{var Re;const rt=De&&De(...ke);return(null===(Re=null==lt?void 0:lt.spy)||void 0===Re?void 0:Re.apply)&&lt.spy.apply(We,ke,rt),rt})})})}),ae=(fe,_e)=>{_e.forEach(vt=>{Object.getOwnPropertyNames(vt.prototype||vt).forEach(lt=>{Object.defineProperty(fe.prototype,lt,Object.getOwnPropertyDescriptor(vt.prototype||vt,lt))})})};class ge{constructor(_e){return _e}}const Pe=new b.OlP("angularfire2.app.options"),Ze=new b.OlP("angularfire2.app.name");function Ne(fe,_e,vt){const Qe="object"==typeof vt&&vt||{};Qe.name=Qe.name||"string"==typeof vt&&vt||"[DEFAULT]";const Ye=s.Z.apps.filter(Ae=>Ae&&Ae.name===Qe.name)[0]||_e.runOutsideAngular(()=>s.Z.initializeApp(fe,Qe));try{JSON.stringify(fe)!==JSON.stringify(Ye.options)&&de("error",`${Ye.name} Firebase App already initialized with different options${nn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ae){}return new ge(Ye)}const de=(fe,..._e)=>{(0,b.X6Q)()&&"undefined"!=typeof console&&console[fe](..._e)},Be={provide:ge,useFactory:Ne,deps:[Pe,b.R0b,[new b.FiY,Ze]]};let Te=(()=>{class fe{constructor(vt){s.Z.registerVersion("angularfire",Q.q4.full,"core"),s.Z.registerVersion("angularfire",Q.q4.full,"app-compat"),s.Z.registerVersion("angular",b.q4F.full,vt.toString())}static initializeApp(vt,lt){return{ngModule:fe,providers:[{provide:Pe,useValue:vt},{provide:Ze,useValue:lt}]}}}return fe.\u0275fac=function(vt){return new(vt||fe)(b.LFG(b.Lbi))},fe.\u0275mod=b.oAB({type:fe}),fe.\u0275inj=b.cJS({providers:[Be]}),fe})();function je(fe,_e,vt,lt,Qe){const[,We,Ye]=globalThis.\u0275AngularfireInstanceCache.find(Ae=>Ae[0]===fe)||[];if(We)return function it(fe,_e){try{return fe.toString()===_e.toString()}catch(vt){return fe===_e}}(Qe,Ye)||(Ve("error",`${_e} was already initialized on the ${vt} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),Ve("warn",{is:Qe,was:Ye})),We;{const Ae=lt();return globalThis.\u0275AngularfireInstanceCache.push([fe,Ae,Qe]),Ae}}const Le=!!nn.hot,Ve=(fe,..._e)=>{(0,b.X6Q)()&&"undefined"!=typeof console&&console[fe](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(nn,ht,L)=>{"use strict";L.d(ht,{q4:()=>sa,iC:()=>ou,fc:()=>tc,HU:()=>La,vb:()=>Nl,JM:()=>hl});var b=L(5e3),s=L(5867),Q=L(5861),Ce=L(9681),Ie=L(2090),ae=L(4859),ge=L(1877);const Pe="@firebase/installations",de="w:0.5.8",Be="FIS_v2",fe=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _e($){return $ instanceof Ie.ZR&&$.code.includes("request-failed")}function vt({projectId:$}){return`https://firebaseinstallations.googleapis.com/v1/projects/${$}/installations`}function lt($){return{token:$.token,requestStatus:2,expiresIn:ke($.expiresIn),creationTime:Date.now()}}function Qe($,W){return We.apply(this,arguments)}function We(){return(We=(0,Q.Z)(function*($,W){const Ge=(yield W.json()).error;return fe.create("request-failed",{requestName:$,serverCode:Ge.code,serverMessage:Ge.message,serverStatus:Ge.status})})).apply(this,arguments)}function Ye({apiKey:$}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$})}function Ae($,{refreshToken:W}){const te=Ye($);return te.append("Authorization",function De($){return`${Be} ${$}`}(W)),te}function Ke($){return Se.apply(this,arguments)}function Se(){return(Se=(0,Q.Z)(function*($){const W=yield $();return W.status>=500&&W.status<600?$():W})).apply(this,arguments)}function ke($){return Number($.replace("s","000"))}function Re($,W){return rt.apply(this,arguments)}function rt(){return(rt=(0,Q.Z)(function*({appConfig:$,heartbeatServiceProvider:W},{fid:te}){const Ge=vt($),wt=Ye($),Nt=W.getImmediate({optional:!0});if(Nt){const _i=yield Nt.getHeartbeatsHeader();_i&&wt.append("x-firebase-client",_i)}const On={method:"POST",headers:wt,body:JSON.stringify({fid:te,authVersion:Be,appId:$.appId,sdkVersion:de})},qn=yield Ke(()=>fetch(Ge,On));if(qn.ok){const _i=yield qn.json();return{fid:_i.fid||te,registrationStatus:2,refreshToken:_i.refreshToken,authToken:lt(_i.authToken)}}throw yield Qe("Create Installation",qn)})).apply(this,arguments)}function tt($){return new Promise(W=>{setTimeout(W,$)})}const Gt=/^[cdef][\w-]{21}$/;function nt(){try{const $=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues($),$[0]=112+$[0]%16;const te=function Je($){return function Jt($){return btoa(String.fromCharCode(...$)).replace(/\+/g,"-").replace(/\//g,"_")}($).substr(0,22)}($);return Gt.test(te)?te:""}catch($){return""}}function Et($){return`${$.appName}!${$.appId}`}const pt=new Map;function Dt($,W){const te=Et($);Ot(te,W),function Cn($,W){const te=function $n(){return!ti&&"BroadcastChannel"in self&&(ti=new BroadcastChannel("[Firebase] FID Change"),ti.onmessage=$=>{Ot($.data.key,$.data.fid)}),ti}();te&&te.postMessage({key:$,fid:W}),function Zn(){0===pt.size&&ti&&(ti.close(),ti=null)}()}(te,W)}function Ot($,W){const te=pt.get($);if(te)for(const Ge of te)Ge(W)}let ti=null;const jn="firebase-installations-store";let ki=null;function gi(){return ki||(ki=(0,Ie.X3)("firebase-installations-database",1,($,W)=>{0===W&&$.createObjectStore(jn)})),ki}function bn($,W){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,Q.Z)(function*($,W){const te=Et($),wt=(yield gi()).transaction(jn,"readwrite"),Nt=wt.objectStore(jn),an=yield Nt.get(te);return yield Nt.put(W,te),yield wt.complete,(!an||an.fid!==W.fid)&&Dt($,W.fid),W})).apply(this,arguments)}function Gn($){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,Q.Z)(function*($){const W=Et($),Ge=(yield gi()).transaction(jn,"readwrite");yield Ge.objectStore(jn).delete(W),yield Ge.complete})).apply(this,arguments)}function Di($,W){return sr.apply(this,arguments)}function sr(){return(sr=(0,Q.Z)(function*($,W){const te=Et($),wt=(yield gi()).transaction(jn,"readwrite"),Nt=wt.objectStore(jn),an=yield Nt.get(te),On=W(an);return void 0===On?yield Nt.delete(te):yield Nt.put(On,te),yield wt.complete,On&&(!an||an.fid!==On.fid)&&Dt($,On.fid),On})).apply(this,arguments)}function zi($){return rr.apply(this,arguments)}function rr(){return(rr=(0,Q.Z)(function*($){let W;const te=yield Di($.appConfig,Ge=>{const wt=Nr(Ge),Nt=cr($,wt);return W=Nt.registrationPromise,Nt.installationEntry});return""===te.fid?{installationEntry:yield W}:{installationEntry:te,registrationPromise:W}})).apply(this,arguments)}function Nr($){return xn($||{fid:nt(),registrationStatus:0})}function cr($,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(fe.create("app-offline"))};const te={fid:W.fid,registrationStatus:1,registrationTime:Date.now()},Ge=function ni($,W){return hn.apply(this,arguments)}($,te);return{installationEntry:te,registrationPromise:Ge}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:pn($)}:{installationEntry:W}}function hn(){return(hn=(0,Q.Z)(function*($,W){try{const te=yield Re($,W);return bn($.appConfig,te)}catch(te){throw _e(te)&&409===te.customData.serverCode?yield Gn($.appConfig):yield bn($.appConfig,{fid:W.fid,registrationStatus:0}),te}})).apply(this,arguments)}function pn($){return ur.apply(this,arguments)}function ur(){return(ur=(0,Q.Z)(function*($){let W=yield jr($.appConfig);for(;1===W.registrationStatus;)yield tt(100),W=yield jr($.appConfig);if(0===W.registrationStatus){const{installationEntry:te,registrationPromise:Ge}=yield zi($);return Ge||te}return W})).apply(this,arguments)}function jr($){return Di($,W=>{if(!W)throw fe.create("installation-not-found");return xn(W)})}function xn($){return function Fi($){return 1===$.registrationStatus&&$.registrationTime+1e4<Date.now()}($)?{fid:$.fid,registrationStatus:0}:$}function Ti($,W){return Li.apply(this,arguments)}function Li(){return(Li=(0,Q.Z)(function*({appConfig:$,heartbeatServiceProvider:W},te){const Ge=Ln($,te),wt=Ae($,te),Nt=W.getImmediate({optional:!0});if(Nt){const _i=yield Nt.getHeartbeatsHeader();_i&&wt.append("x-firebase-client",_i)}const On={method:"POST",headers:wt,body:JSON.stringify({installation:{sdkVersion:de,appId:$.appId}})},qn=yield Ke(()=>fetch(Ge,On));if(qn.ok)return lt(yield qn.json());throw yield Qe("Generate Auth Token",qn)})).apply(this,arguments)}function Ln($,{fid:W}){return`${vt($)}/${W}/authTokens:generate`}function or($){return ci.apply(this,arguments)}function ci(){return(ci=(0,Q.Z)(function*($,W=!1){let te;const Ge=yield Di($.appConfig,Nt=>{if(!zn(Nt))throw fe.create("not-registered");const an=Nt.authToken;if(!W&&qe(an))return Nt;if(1===an.requestStatus)return te=cn($,W),Nt;{if(!navigator.onLine)throw fe.create("app-offline");const On=Xe(Nt);return te=ln($,On),On}});return te?yield te:Ge.authToken})).apply(this,arguments)}function cn($,W){return zt.apply(this,arguments)}function zt(){return(zt=(0,Q.Z)(function*($,W){let te=yield mn($.appConfig);for(;1===te.authToken.requestStatus;)yield tt(100),te=yield mn($.appConfig);const Ge=te.authToken;return 0===Ge.requestStatus?or($,W):Ge})).apply(this,arguments)}function mn($){return Di($,W=>{if(!zn(W))throw fe.create("not-registered");return function Tt($){return 1===$.requestStatus&&$.requestTime+1e4<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function ln($,W){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,Q.Z)(function*($,W){try{const te=yield Ti($,W),Ge=Object.assign(Object.assign({},W),{authToken:te});return yield bn($.appConfig,Ge),te}catch(te){if(!_e(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const Ge=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield bn($.appConfig,Ge)}else yield Gn($.appConfig);throw te}})).apply(this,arguments)}function zn($){return void 0!==$&&2===$.registrationStatus}function qe($){return 2===$.requestStatus&&!function ve($){const W=Date.now();return W<$.creationTime||$.creationTime+$.expiresIn<W+36e5}($)}function Xe($){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},$),{authToken:W})}function Me(){return(Me=(0,Q.Z)(function*($){const W=$,{installationEntry:te,registrationPromise:Ge}=yield zi(W);return Ge?Ge.catch(console.error):or(W).catch(console.error),te.fid})).apply(this,arguments)}function St(){return(St=(0,Q.Z)(function*($,W=!1){const te=$;return yield Xt(te),(yield or(te,W)).token})).apply(this,arguments)}function Xt($){return un.apply(this,arguments)}function un(){return(un=(0,Q.Z)(function*($){const{registrationPromise:W}=yield zi($);W&&(yield W)})).apply(this,arguments)}function qi($){return fe.create("missing-app-config-values",{valueName:$})}const Jr="installations",Ht=$=>{const W=$.getProvider("app").getImmediate(),te=function Xi($){if(!$||!$.options)throw qi("App Configuration");if(!$.name)throw qi("App Name");const W=["projectId","apiKey","appId"];for(const te of W)if(!$.options[te])throw qi(te);return{appName:$.name,projectId:$.options.projectId,apiKey:$.options.apiKey,appId:$.options.appId}}(W);return{app:W,appConfig:te,heartbeatServiceProvider:(0,Ce._getProvider)(W,"heartbeat"),_delete:()=>Promise.resolve()}},ii=$=>{const W=$.getProvider("app").getImmediate(),te=(0,Ce._getProvider)(W,Jr).getImmediate();return{getId:()=>function ue($){return Me.apply(this,arguments)}(te),getToken:wt=>function ye($){return St.apply(this,arguments)}(te,wt)}};(function hi(){(0,Ce._registerComponent)(new ae.wA(Jr,Ht,"PUBLIC")),(0,Ce._registerComponent)(new ae.wA("installations-internal",ii,"PRIVATE"))})(),(0,Ce.registerVersion)(Pe,"0.5.8"),(0,Ce.registerVersion)(Pe,"0.5.8","esm2017");const fr="@firebase/remote-config",Bi=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fn{constructor(W,te,Ge,wt){this.client=W,this.storage=te,this.storageCache=Ge,this.logger=wt}isCachedDataFresh(W,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ge=Date.now()-te,wt=Ge<=W;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${W}. Is cache hit: ${wt}.`),wt}fetch(W){var te=this;return(0,Q.Z)(function*(){const[Ge,wt]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(wt&&te.isCachedDataFresh(W.cacheMaxAgeMillis,Ge))return wt;W.eTag=wt&&wt.eTag;const Nt=yield te.client.fetch(W),an=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Nt.status&&an.push(te.storage.setLastSuccessfulFetchResponse(Nt)),yield Promise.all(an),Nt})()}}function wn($=navigator){return $.languages&&$.languages[0]||$.language}class Xn{constructor(W,te,Ge,wt,Nt,an){this.firebaseInstallations=W,this.sdkVersion=te,this.namespace=Ge,this.projectId=wt,this.apiKey=Nt,this.appId=an}fetch(W){var te=this;return(0,Q.Z)(function*(){const[Ge,wt]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),an=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,On={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":W.eTag||"*"},qn={sdk_version:te.sdkVersion,app_instance_id:Ge,app_instance_id_token:wt,app_id:te.appId,language_code:wn()},_i={method:"POST",headers:On,body:JSON.stringify(qn)},Ki=fetch(an,_i),Ai=new Promise((No,ua)=>{W.signal.addEventListener(()=>{const Rl=new Error("The operation was aborted.");Rl.name="AbortError",ua(Rl)})});let Ts;try{yield Promise.race([Ki,Ai]),Ts=yield Ki}catch(No){let ua="fetch-client-network";throw"AbortError"===No.name&&(ua="fetch-timeout"),Bi.create(ua,{originalErrorMessage:No.message})}let js=Ts.status;const qo=Ts.headers.get("ETag")||void 0;let au,Ta;if(200===Ts.status){let No;try{No=yield Ts.json()}catch(ua){throw Bi.create("fetch-client-parse",{originalErrorMessage:ua.message})}au=No.entries,Ta=No.state}if("INSTANCE_STATE_UNSPECIFIED"===Ta?js=500:"NO_CHANGE"===Ta?js=304:("NO_TEMPLATE"===Ta||"EMPTY_CONFIG"===Ta)&&(au={}),304!==js&&200!==js)throw Bi.create("fetch-status",{httpStatus:js});return{status:js,eTag:qo,config:au}})()}}class vr{constructor(W,te){this.client=W,this.storage=te}fetch(W){var te=this;return(0,Q.Z)(function*(){const Ge=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(W,Ge)})()}attemptFetch(W,{throttleEndTimeMillis:te,backoffCount:Ge}){var wt=this;return(0,Q.Z)(function*(){yield function oi($,W){return new Promise((te,Ge)=>{const wt=Math.max(W-Date.now(),0),Nt=setTimeout(te,wt);$.addEventListener(()=>{clearTimeout(Nt),Ge(Bi.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(W.signal,te);try{const Nt=yield wt.client.fetch(W);return yield wt.storage.deleteThrottleMetadata(),Nt}catch(Nt){if(!function ns($){if(!($ instanceof Ie.ZR&&$.customData))return!1;const W=Number($.customData.httpStatus);return 429===W||500===W||503===W||504===W}(Nt))throw Nt;const an={throttleEndTimeMillis:Date.now()+(0,Ie.$s)(Ge),backoffCount:Ge+1};return yield wt.storage.setThrottleMetadata(an),wt.attemptFetch(W,an)}})()}}class xt{constructor(W,te,Ge,wt,Nt){this.app=W,this._client=te,this._storageCache=Ge,this._storage=wt,this._logger=Nt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wt($,W){const te=$.target.error||void 0;return Bi.create(W,{originalErrorMessage:te&&te.message})}const on="app_namespace_store";class ji{constructor(W,te,Ge,wt=function Wr(){return new Promise(($,W)=>{try{const te=indexedDB.open("firebase_remote_config",1);te.onerror=Ge=>{W(Wt(Ge,"storage-open"))},te.onsuccess=Ge=>{$(Ge.target.result)},te.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(on,{keyPath:"compositeKey"})}}catch(te){W(Bi.create("storage-open",{originalErrorMessage:te}))}})}()){this.appId=W,this.appName=te,this.namespace=Ge,this.openDbPromise=wt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(W){return this.set("last_fetch_status",W)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(W){return this.set("last_successful_fetch_timestamp_millis",W)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(W){return this.set("last_successful_fetch_response",W)}getActiveConfig(){return this.get("active_config")}setActiveConfig(W){return this.set("active_config",W)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(W){return this.set("active_config_etag",W)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(W){return this.set("throttle_metadata",W)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(W){var te=this;return(0,Q.Z)(function*(){const Ge=yield te.openDbPromise;return new Promise((wt,Nt)=>{const On=Ge.transaction([on],"readonly").objectStore(on),qn=te.createCompositeKey(W);try{const _i=On.get(qn);_i.onerror=Ki=>{Nt(Wt(Ki,"storage-get"))},_i.onsuccess=Ki=>{const Ai=Ki.target.result;wt(Ai?Ai.value:void 0)}}catch(_i){Nt(Bi.create("storage-get",{originalErrorMessage:_i&&_i.message}))}})})()}set(W,te){var Ge=this;return(0,Q.Z)(function*(){const wt=yield Ge.openDbPromise;return new Promise((Nt,an)=>{const qn=wt.transaction([on],"readwrite").objectStore(on),_i=Ge.createCompositeKey(W);try{const Ki=qn.put({compositeKey:_i,value:te});Ki.onerror=Ai=>{an(Wt(Ai,"storage-set"))},Ki.onsuccess=()=>{Nt()}}catch(Ki){an(Bi.create("storage-set",{originalErrorMessage:Ki&&Ki.message}))}})})()}delete(W){var te=this;return(0,Q.Z)(function*(){const Ge=yield te.openDbPromise;return new Promise((wt,Nt)=>{const On=Ge.transaction([on],"readwrite").objectStore(on),qn=te.createCompositeKey(W);try{const _i=On.delete(qn);_i.onerror=Ki=>{Nt(Wt(Ki,"storage-delete"))},_i.onsuccess=()=>{wt()}}catch(_i){Nt(Bi.create("storage-delete",{originalErrorMessage:_i&&_i.message}))}})})()}createCompositeKey(W){return[this.appId,this.appName,this.namespace,W].join()}}class Mr{constructor(W){this.storage=W}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var W=this;return(0,Q.Z)(function*(){const te=W.storage.getLastFetchStatus(),Ge=W.storage.getLastSuccessfulFetchTimestampMillis(),wt=W.storage.getActiveConfig(),Nt=yield te;Nt&&(W.lastFetchStatus=Nt);const an=yield Ge;an&&(W.lastSuccessfulFetchTimestampMillis=an);const On=yield wt;On&&(W.activeConfig=On)})()}setLastFetchStatus(W){return this.lastFetchStatus=W,this.storage.setLastFetchStatus(W)}setLastSuccessfulFetchTimestampMillis(W){return this.lastSuccessfulFetchTimestampMillis=W,this.storage.setLastSuccessfulFetchTimestampMillis(W)}setActiveConfig(W){return this.activeConfig=W,this.storage.setActiveConfig(W)}}function ro(){return qs.apply(this,arguments)}function qs(){return(qs=(0,Q.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch($){return!1}})).apply(this,arguments)}!function Ao(){(0,Ce._registerComponent)(new ae.wA("remote-config",function $(W,{instanceIdentifier:te}){const Ge=W.getProvider("app").getImmediate(),wt=W.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bi.create("registration-window");if(!(0,Ie.hl)())throw Bi.create("indexed-db-unavailable");const{projectId:Nt,apiKey:an,appId:On}=Ge.options;if(!Nt)throw Bi.create("registration-project-id");if(!an)throw Bi.create("registration-api-key");if(!On)throw Bi.create("registration-app-id");const qn=new ji(On,Ge.name,te=te||"firebase"),_i=new Mr(qn),Ki=new ge.Yd(fr);Ki.logLevel=ge.in.ERROR;const Ai=new Xn(wt,Ce.SDK_VERSION,te,Nt,an,On),Ts=new vr(Ai,qn),js=new fn(Ts,qn,_i,Ki),qo=new xt(Ge,js,_i,qn,Ki);return function X($){const W=(0,Ie.m9)($);W._initializePromise||(W._initializePromise=W._storageCache.loadFromStorage().then(()=>{W._isInitializationComplete=!0}))}(qo),qo},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(fr,"0.3.7"),(0,Ce.registerVersion)(fr,"0.3.7","esm2017")}();const Br="/firebase-messaging-sw.js",So="/firebase-cloud-messaging-push-scope",br="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gs="google.c.a.c_id",As="google.c.a.c_l",ma="google.c.a.ts",Ss="google.c.a.e";var qr=(()=>{return($=qr||(qr={})).PUSH_RECEIVED="push-received",$.NOTIFICATION_CLICKED="notification-clicked",qr;var $})();function us($){const W=new Uint8Array($);return btoa(String.fromCharCode(...W)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ds($){const te=($+"=".repeat((4-$.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ge=atob(te),wt=new Uint8Array(Ge.length);for(let Nt=0;Nt<Ge.length;++Nt)wt[Nt]=Ge.charCodeAt(Nt);return wt}const ho="fcm_token_details_db",Ys="fcm_token_object_Store";function Sa($){return Us.apply(this,arguments)}function Us(){return Us=(0,Q.Z)(function*($){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Nt=>Nt.name).includes(ho))return null;let W=null;return(yield(0,Ie.X3)(ho,5,function(){var Ge=(0,Q.Z)(function*(wt,Nt,an,On){var qn;if(Nt<2||!wt.objectStoreNames.contains(Ys))return;const _i=On.objectStore(Ys),Ki=yield _i.index("fcmSenderId").get($);if(yield _i.clear(),Ki)if(2===Nt){const Ai=Ki;if(!Ai.auth||!Ai.p256dh||!Ai.endpoint)return;W={token:Ai.fcmToken,createTime:null!==(qn=Ai.createTime)&&void 0!==qn?qn:Date.now(),subscriptionOptions:{auth:Ai.auth,p256dh:Ai.p256dh,endpoint:Ai.endpoint,swScope:Ai.swScope,vapidKey:"string"==typeof Ai.vapidKey?Ai.vapidKey:us(Ai.vapidKey)}}}else if(3===Nt){const Ai=Ki;W={token:Ai.fcmToken,createTime:Ai.createTime,subscriptionOptions:{auth:us(Ai.auth),p256dh:us(Ai.p256dh),endpoint:Ai.endpoint,swScope:Ai.swScope,vapidKey:us(Ai.vapidKey)}}}else if(4===Nt){const Ai=Ki;W={token:Ai.fcmToken,createTime:Ai.createTime,subscriptionOptions:{auth:us(Ai.auth),p256dh:us(Ai.p256dh),endpoint:Ai.endpoint,swScope:Ai.swScope,vapidKey:us(Ai.vapidKey)}}}});return function(wt,Nt,an,On){return Ge.apply(this,arguments)}}())).close(),yield(0,Ie.Lj)(ho),yield(0,Ie.Lj)("fcm_vapid_details_db"),yield(0,Ie.Lj)("undefined"),xe(W)?W:null}),Us.apply(this,arguments)}function xe($){if(!$||!$.subscriptionOptions)return!1;const{subscriptionOptions:W}=$;return"number"==typeof $.createTime&&$.createTime>0&&"string"==typeof $.token&&$.token.length>0&&"string"==typeof W.auth&&W.auth.length>0&&"string"==typeof W.p256dh&&W.p256dh.length>0&&"string"==typeof W.endpoint&&W.endpoint.length>0&&"string"==typeof W.swScope&&W.swScope.length>0&&"string"==typeof W.vapidKey&&W.vapidKey.length>0}const rs="firebase-messaging-store";let Ks=null;function Ms(){return Ks||(Ks=(0,Ie.X3)("firebase-messaging-database",1,($,W)=>{0===W&&$.createObjectStore(rs)})),Ks}function Zi($){return z.apply(this,arguments)}function z(){return(z=(0,Q.Z)(function*($){const W=Pt($),Ge=yield(yield Ms()).transaction(rs).objectStore(rs).get(W);if(Ge)return Ge;{const wt=yield Sa($.appConfig.senderId);if(wt)return yield oe($,wt),wt}})).apply(this,arguments)}function oe($,W){return G.apply(this,arguments)}function G(){return(G=(0,Q.Z)(function*($,W){const te=Pt($),wt=(yield Ms()).transaction(rs,"readwrite");return yield wt.objectStore(rs).put(W,te),yield wt.complete,W})).apply(this,arguments)}function ce($){return He.apply(this,arguments)}function He(){return(He=(0,Q.Z)(function*($){const W=Pt($),Ge=(yield Ms()).transaction(rs,"readwrite");yield Ge.objectStore(rs).delete(W),yield Ge.complete})).apply(this,arguments)}function Pt({appConfig:$}){return $.appId}const dn=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yi($,W){return xi.apply(this,arguments)}function xi(){return(xi=(0,Q.Z)(function*($,W){const te=yield Er($),Ge=Rn(W),wt={method:"POST",headers:te,body:JSON.stringify(Ge)};let Nt;try{Nt=yield(yield fetch(tr($.appConfig),wt)).json()}catch(an){throw dn.create("token-subscribe-failed",{errorInfo:an})}if(Nt.error)throw dn.create("token-subscribe-failed",{errorInfo:Nt.error.message});if(!Nt.token)throw dn.create("token-subscribe-no-token");return Nt.token})).apply(this,arguments)}function Ii($,W){return ei.apply(this,arguments)}function ei(){return(ei=(0,Q.Z)(function*($,W){const te=yield Er($),Ge=Rn(W.subscriptionOptions),wt={method:"PATCH",headers:te,body:JSON.stringify(Ge)};let Nt;try{Nt=yield(yield fetch(`${tr($.appConfig)}/${W.token}`,wt)).json()}catch(an){throw dn.create("token-update-failed",{errorInfo:an})}if(Nt.error)throw dn.create("token-update-failed",{errorInfo:Nt.error.message});if(!Nt.token)throw dn.create("token-update-no-token");return Nt.token})).apply(this,arguments)}function xr($,W){return gr.apply(this,arguments)}function gr(){return(gr=(0,Q.Z)(function*($,W){const Ge={method:"DELETE",headers:yield Er($)};try{const Nt=yield(yield fetch(`${tr($.appConfig)}/${W}`,Ge)).json();if(Nt.error)throw dn.create("token-unsubscribe-failed",{errorInfo:Nt.error.message})}catch(wt){throw dn.create("token-unsubscribe-failed",{errorInfo:wt})}})).apply(this,arguments)}function tr({projectId:$}){return`https://fcmregistrations.googleapis.com/v1/projects/${$}/registrations`}function Er($){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,Q.Z)(function*({appConfig:$,installations:W}){const te=yield W.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function Rn({p256dh:$,auth:W,endpoint:te,vapidKey:Ge}){const wt={web:{endpoint:te,auth:W,p256dh:$}};return Ge!==br&&(wt.web.applicationPubKey=Ge),wt}const xs=6048e5;function Js($){return ss.apply(this,arguments)}function ss(){return(ss=(0,Q.Z)(function*($){const W=yield re($.swRegistration,$.vapidKey),te={vapidKey:$.vapidKey,swScope:$.swRegistration.scope,endpoint:W.endpoint,auth:us(W.getKey("auth")),p256dh:us(W.getKey("p256dh"))},Ge=yield Zi($.firebaseDependencies);if(Ge){if(st(Ge.subscriptionOptions,te))return Date.now()>=Ge.createTime+xs?j($,{token:Ge.token,createTime:Date.now(),subscriptionOptions:te}):Ge.token;try{yield xr($.firebaseDependencies,Ge.token)}catch(wt){console.warn(wt)}return T($.firebaseDependencies,te)}return T($.firebaseDependencies,te)})).apply(this,arguments)}function os($){return q.apply(this,arguments)}function q(){return(q=(0,Q.Z)(function*($){const W=yield Zi($.firebaseDependencies);W&&(yield xr($.firebaseDependencies,W.token),yield ce($.firebaseDependencies));const te=yield $.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()})).apply(this,arguments)}function j($,W){return V.apply(this,arguments)}function V(){return(V=(0,Q.Z)(function*($,W){try{const te=yield Ii($.firebaseDependencies,W),Ge=Object.assign(Object.assign({},W),{token:te,createTime:Date.now()});return yield oe($.firebaseDependencies,Ge),te}catch(te){throw yield os($),te}})).apply(this,arguments)}function T($,W){return R.apply(this,arguments)}function R(){return(R=(0,Q.Z)(function*($,W){const Ge={token:yield yi($,W),createTime:Date.now(),subscriptionOptions:W};return yield oe($,Ge),Ge.token})).apply(this,arguments)}function re($,W){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,Q.Z)(function*($,W){return(yield $.pushManager.getSubscription())||$.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ds(W)})})).apply(this,arguments)}function st($,W){return W.vapidKey===$.vapidKey&&W.endpoint===$.endpoint&&W.auth===$.auth&&W.p256dh===$.p256dh}function Mt($){const W={from:$.from,collapseKey:$.collapse_key,messageId:$.fcmMessageId};return function Yt($,W){if(!W.notification)return;$.notification={};const te=W.notification.title;te&&($.notification.title=te);const Ge=W.notification.body;Ge&&($.notification.body=Ge);const wt=W.notification.image;wt&&($.notification.image=wt)}(W,$),function Dn($,W){!W.data||($.data=W.data)}(W,$),function _n($,W){if(!W.fcmOptions)return;$.fcmOptions={};const te=W.fcmOptions.link;te&&($.fcmOptions.link=te);const Ge=W.fcmOptions.analytics_label;Ge&&($.fcmOptions.analyticsLabel=Ge)}(W,$),W}function pi($){return"object"==typeof $&&!!$&&gs in $}function Ri($,W){const te=[];for(let Ge=0;Ge<$.length;Ge++)te.push($.charAt(Ge)),Ge<W.length&&te.push(W.charAt(Ge));return te.join("")}function nr($){return dn.create("missing-app-config-values",{valueName:$})}Ri("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ri("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wi{constructor(W,te,Ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const wt=function Tr($){if(!$||!$.options)throw nr("App Configuration Object");if(!$.name)throw nr("App Name");const W=["projectId","apiKey","appId","messagingSenderId"],{options:te}=$;for(const Ge of W)if(!te[Ge])throw nr(Ge);return{appName:$.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(W);this.firebaseDependencies={app:W,appConfig:wt,installations:te,analyticsProvider:Ge}}_delete(){return Promise.resolve()}}function wr($){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,Q.Z)(function*($){try{$.swRegistration=yield navigator.serviceWorker.register(Br,{scope:So}),$.swRegistration.update().catch(()=>{})}catch(W){throw dn.create("failed-service-worker-registration",{browserErrorMessage:W.message})}})).apply(this,arguments)}function mr($,W){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,Q.Z)(function*($,W){if(!W&&!$.swRegistration&&(yield wr($)),W||!$.swRegistration){if(!(W instanceof ServiceWorkerRegistration))throw dn.create("invalid-sw-registration");$.swRegistration=W}})).apply(this,arguments)}function Xo($,W){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,Q.Z)(function*($,W){W?$.vapidKey=W:$.vapidKey||($.vapidKey=br)})).apply(this,arguments)}function Co(){return(Co=(0,Q.Z)(function*($,W){if(!navigator)throw dn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw dn.create("permission-blocked");return yield Xo($,null==W?void 0:W.vapidKey),yield mr($,null==W?void 0:W.serviceWorkerRegistration),Js($)})).apply(this,arguments)}function $o($,W,te){return ea.apply(this,arguments)}function ea(){return(ea=(0,Q.Z)(function*($,W,te){const Ge=_a(W);(yield $.firebaseDependencies.analyticsProvider.get()).logEvent(Ge,{message_id:te[gs],message_name:te[As],message_time:te[ma],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _a($){switch($){case qr.NOTIFICATION_CLICKED:return"notification_open";case qr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Sl(){return(Sl=(0,Q.Z)(function*($,W){const te=W.data;if(!te.isFirebaseMessaging)return;$.onMessageHandler&&te.messageType===qr.PUSH_RECEIVED&&("function"==typeof $.onMessageHandler?$.onMessageHandler(Mt(te)):$.onMessageHandler.next(Mt(te)));const Ge=te.data;pi(Ge)&&"1"===Ge[Ss]&&(yield $o($,te.messageType,Ge))})).apply(this,arguments)}const xa="@firebase/messaging",ta=$=>{const W=new Wi($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),$.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function Ma($,W){return Sl.apply(this,arguments)}(W,te)),W},na=$=>{const W=$.getProvider("messaging").getImmediate();return{getToken:Ge=>function as($,W){return Co.apply(this,arguments)}(W,Ge)}};function Kl(){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,Q.Z)(function*(){try{yield(0,Ie.eu)()}catch($){return!1}return"undefined"!=typeof window&&(0,Ie.hl)()&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Yl(){(0,Ce._registerComponent)(new ae.wA("messaging",ta,"PUBLIC")),(0,Ce._registerComponent)(new ae.wA("messaging-internal",na,"PRIVATE")),(0,Ce.registerVersion)(xa,"0.9.12"),(0,Ce.registerVersion)(xa,"0.9.12","esm2017")}();const $s="analytics",rl="firebase_id",Ra="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jo="https://www.googletagmanager.com/gtag/js",hs=new ge.Yd("@firebase/analytics");function sl($){return Promise.all($.map(W=>W.catch(te=>te)))}function Ql($,W){const te=document.createElement("script");te.src=`${jo}?l=${$}&id=${W}`,te.async=!0,document.head.appendChild(te)}function Go($,W,te,Ge,wt,Nt){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,Q.Z)(function*($,W,te,Ge,wt,Nt){const an=Ge[wt];try{if(an)yield W[an];else{const qn=(yield sl(te)).find(_i=>_i.measurementId===wt);qn&&(yield W[qn.appId])}}catch(On){hs.error(On)}$("config",wt,Nt)})).apply(this,arguments)}function ol($,W,te,Ge,wt){return al.apply(this,arguments)}function al(){return(al=(0,Q.Z)(function*($,W,te,Ge,wt){try{let Nt=[];if(wt&&wt.send_to){let an=wt.send_to;Array.isArray(an)||(an=[an]);const On=yield sl(te);for(const qn of an){const _i=On.find(Ai=>Ai.measurementId===qn),Ki=_i&&W[_i.appId];if(!Ki){Nt=[];break}Nt.push(Ki)}}0===Nt.length&&(Nt=Object.values(W)),yield Promise.all(Nt),$("event",Ge,wt||{})}catch(Nt){hs.error(Nt)}})).apply(this,arguments)}function so(){const $=window.document.getElementsByTagName("script");for(const W of Object.values($))if(W.src&&W.src.includes(jo))return W;return null}const zo=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Eo=new class eu{constructor(W={},te=1e3){this.throttleMetadata=W,this.intervalMillis=te}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,te){this.throttleMetadata[W]=te}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function tu($){return new Headers({Accept:"application/json","x-goog-api-key":$})}function Es($){return ba.apply(this,arguments)}function ba(){return(ba=(0,Q.Z)(function*($){var W;const{appId:te,apiKey:Ge}=$,wt={method:"GET",headers:tu(Ge)},Nt=Ra.replace("{app-id}",te),an=yield fetch(Nt,wt);if(200!==an.status&&304!==an.status){let On="";try{const qn=yield an.json();(null===(W=qn.error)||void 0===W?void 0:W.message)&&(On=qn.error.message)}catch(qn){}throw zo.create("config-fetch-failed",{httpStatus:an.status,responseMessage:On})}return an.json()})).apply(this,arguments)}function Xl($){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,Q.Z)(function*($,W=Eo,te){const{appId:Ge,apiKey:wt,measurementId:Nt}=$.options;if(!Ge)throw zo.create("no-app-id");if(!wt){if(Nt)return{measurementId:Nt,appId:Ge};throw zo.create("no-api-key")}const an=W.getThrottleMetadata(Ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},On=new k;return setTimeout((0,Q.Z)(function*(){On.abort()}),void 0!==te?te:6e4),ll({appId:Ge,apiKey:wt,measurementId:Nt},an,On,W)})).apply(this,arguments)}function ll($,W,te){return ka.apply(this,arguments)}function ka(){return(ka=(0,Q.Z)(function*($,{throttleEndTimeMillis:W,backoffCount:te},Ge,wt=Eo){const{appId:Nt,measurementId:an}=$;try{yield Xs(Ge,W)}catch(On){if(an)return hs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${an} provided in the "measurementId" field in the local Firebase config. [${On.message}]`),{appId:Nt,measurementId:an};throw On}try{const On=yield Es($);return wt.deleteThrottleMetadata(Nt),On}catch(On){if(!cl(On)){if(wt.deleteThrottleMetadata(Nt),an)return hs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${an} provided in the "measurementId" field in the local Firebase config. [${On.message}]`),{appId:Nt,measurementId:an};throw On}const qn=503===Number(On.customData.httpStatus)?(0,Ie.$s)(te,wt.intervalMillis,30):(0,Ie.$s)(te,wt.intervalMillis),_i={throttleEndTimeMillis:Date.now()+qn,backoffCount:te+1};return wt.setThrottleMetadata(Nt,_i),hs.debug(`Calling attemptFetch again in ${qn} millis`),ll($,_i,Ge,wt)}})).apply(this,arguments)}function Xs($,W){return new Promise((te,Ge)=>{const wt=Math.max(W-Date.now(),0),Nt=setTimeout(te,wt);$.addEventListener(()=>{clearTimeout(Nt),Ge(zo.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}function cl($){if(!($ instanceof Ie.ZR&&$.customData))return!1;const W=Number($.customData.httpStatus);return 429===W||500===W||503===W||504===W}class k{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}function O(){return S.apply(this,arguments)}function S(){return(S=(0,Q.Z)(function*(){if(!(0,Ie.hl)())return hs.warn(zo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch($){return hs.warn(zo.create("indexeddb-unavailable",{errorInfo:$}).message),!1}return!0})).apply(this,arguments)}function Y(){return(Y=(0,Q.Z)(function*($,W,te,Ge,wt,Nt,an){var On;const qn=Xl($);qn.then(js=>{te[js.measurementId]=js.appId,$.options.measurementId&&js.measurementId!==$.options.measurementId&&hs.warn(`The measurement ID in the local Firebase config (${$.options.measurementId}) does not match the measurement ID fetched from the server (${js.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(js=>hs.error(js)),W.push(qn);const _i=O().then(js=>{if(js)return Ge.getId()}),[Ki,Ai]=yield Promise.all([qn,_i]);so()||Ql(Nt,Ki.measurementId),wt("js",new Date);const Ts=null!==(On=null==an?void 0:an.config)&&void 0!==On?On:{};return Ts.origin="firebase",Ts.update=!0,null!=Ai&&(Ts[rl]=Ai),wt("config",Ki.measurementId,Ts),Ki.measurementId})).apply(this,arguments)}class le{constructor(W){this.app=W}_delete(){return delete we[this.app.options.appId],Promise.resolve()}}let we={},pe=[];const at={};let gt,Ut,Tn="dataLayer",di=!1;function Oi($,W,te){!function _r(){const $=[];if((0,Ie.ru)()&&$.push("This is a browser extension environment."),(0,Ie.zI)()||$.push("Cookies are not available."),$.length>0){const W=$.map((Ge,wt)=>`(${wt+1}) ${Ge}`).join(" "),te=zo.create("invalid-analytics-context",{errorInfo:W});hs.warn(te.message)}}();const Ge=$.options.appId;if(!Ge)throw zo.create("no-app-id");if(!$.options.apiKey){if(!$.options.measurementId)throw zo.create("no-api-key");hs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${$.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=we[Ge])throw zo.create("already-exists",{id:Ge});if(!di){!function ia($){let W=[];Array.isArray(window[$])?W=window[$]:window[$]=W}(Tn);const{wrappedGtag:Nt,gtagCore:an}=function Pa($,W,te,Ge,wt){let Nt=function(...an){window[Ge].push(arguments)};return window[wt]&&"function"==typeof window[wt]&&(Nt=window[wt]),window[wt]=function va($,W,te,Ge){function Nt(){return(Nt=(0,Q.Z)(function*(an,On,qn){try{"event"===an?yield ol($,W,te,On,qn):"config"===an?yield Go($,W,te,Ge,On,qn):$("set",On)}catch(_i){hs.error(_i)}})).apply(this,arguments)}return function wt(an,On,qn){return Nt.apply(this,arguments)}}(Nt,$,W,te),{gtagCore:Nt,wrappedGtag:window[wt]}}(we,pe,at,Tn,"gtag");Ut=Nt,gt=an,di=!0}return we[Ge]=function F($,W,te,Ge,wt,Nt,an){return Y.apply(this,arguments)}($,pe,at,W,gt,Tn,te),new le($)}function qa(){return(qa=(0,Q.Z)(function*($,W,te,Ge,wt){if(wt&&wt.global)$("event",te,Ge);else{const Nt=yield W;$("event",te,Object.assign(Object.assign({},Ge),{send_to:Nt}))}})).apply(this,arguments)}function Zr(){return mi.apply(this,arguments)}function mi(){return(mi=(0,Q.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch($){return!1}})).apply(this,arguments)}const lr="@firebase/analytics";!function Ol(){(0,Ce._registerComponent)(new ae.wA($s,(W,{options:te})=>Oi(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,Ce._registerComponent)(new ae.wA("analytics-internal",function $(W){try{const te=W.getProvider($s).getImmediate();return{logEvent:(Ge,wt,Nt)=>function ir($,W,te,Ge){$=(0,Ie.m9)($),function oo($,W,te,Ge,wt){return qa.apply(this,arguments)}(Ut,we[$.app.options.appId],W,te,Ge).catch(wt=>hs.error(wt))}(te,Ge,wt,Nt)}}catch(te){throw zo.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,Ce.registerVersion)(lr,"0.7.8"),(0,Ce.registerVersion)(lr,"0.7.8","esm2017")}();var vd=L(4408),iu=L(7565);const es=new class yr extends iu.v{}(class Pr extends vd.o{constructor(W,te){super(W,te),this.scheduler=W,this.work=te}schedule(W,te=0){return te>0?super.schedule(W,te):(this.delay=te,this.state=W,this.scheduler.flush(this),this)}execute(W,te){return te>0||this.closed?super.execute(W,te):this._execute(W,te)}requestAsyncId(W,te,Ge=0){return null!=Ge&&Ge>0||null==Ge&&this.delay>0?super.requestAsyncId(W,te,Ge):W.flush(this)}});var Uu=L(4986),ec=L(8505),Ns=L(5363),Ya=L(9468);const sa=new b.GfV("7.3.0"),oa="__angularfire_symbol__analyticsIsSupportedValue",ao="__angularfire_symbol__analyticsIsSupported",Ea="__angularfire_symbol__remoteConfigIsSupportedValue",vn="__angularfire_symbol__remoteConfigIsSupported",ru="__angularfire_symbol__messagingIsSupportedValue",bd="__angularfire_symbol__messagingIsSupported";function hl($,W,te){if(W){if(1===W.length)return W[0];const Nt=W.filter(an=>an.app===te);if(1===Nt.length)return Nt[0]}return te.container.getProvider($).getImmediate({optional:!0})}globalThis[ao]||(globalThis[ao]=Zr().then($=>globalThis[oa]=$).catch(()=>globalThis[oa]=!1)),globalThis[bd]||(globalThis[bd]=Kl().then($=>globalThis[ru]=$).catch(()=>globalThis[ru]=!1)),globalThis[vn]||(globalThis[vn]=ro().then($=>globalThis[Ea]=$).catch(()=>globalThis[Ea]=!1));const Nl=($,W)=>{const te=W?[W]:(0,s.C6)(),Ge=[];return te.forEach(wt=>{wt.container.getProvider($).instances.forEach(an=>{Ge.includes(an)||Ge.push(an)})}),Ge};function aa(){}class la{constructor(W,te=es){this.zone=W,this.delegate=te}now(){return this.delegate.now()}schedule(W,te,Ge){const wt=this.zone;return this.delegate.schedule(function(an){wt.runGuarded(()=>{W.apply(this,[an])})},te,Ge)}}class ca{constructor(W){this.zone=W,this.task=null}call(W,te){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",aa,{},aa,aa)),te.pipe((0,ec.b)({next:Ge,complete:Ge,error:Ge})).subscribe(W).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let La=(()=>{class ${constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new la(Zone.current)),this.insideAngular=te.run(()=>new la(Zone.current,Uu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return $.\u0275fac=function(te){return new(te||$)(b.LFG(b.R0b))},$.\u0275prov=b.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();function bi(){const $=globalThis.\u0275AngularFireScheduler;if(!$)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return $}function tc($){return $.pipe((0,Ns.Q)(bi().outsideAngular))}function ou($){return bi(),function nc($){return function(te){return(te=te.lift(new ca($.ngZone))).pipe((0,Ya.R)($.outsideAngular),(0,Ns.Q)($.insideAngular))}}(bi())($)}},573:(nn,ht,L)=>{"use strict";L.d(ht,{$:()=>Js,A:()=>de,E:()=>ii,G:()=>Ar,I:()=>vr,K:()=>ve,L:()=>qs,M:()=>Zs,N:()=>gs,P:()=>oa,Q:()=>As,R:()=>Os,T:()=>br,U:()=>qr,V:()=>us,W:()=>Sa,X:()=>qt,Y:()=>yi,Z:()=>Ii,_:()=>tr,a:()=>ra,a0:()=>os,a1:()=>j,a2:()=>T,a3:()=>re,a4:()=>st,a5:()=>Yt,a6:()=>Dn,a7:()=>pi,a8:()=>Ri,a9:()=>wr,aA:()=>Ts,aB:()=>Ac,aC:()=>Yn,aG:()=>Eo,aJ:()=>Ss,aa:()=>mr,ab:()=>Xo,ae:()=>$o,af:()=>_a,ag:()=>Ma,aj:()=>rs,ak:()=>Dc,am:()=>Ra,an:()=>Go,ao:()=>Qi,ap:()=>Se,aq:()=>Un,ar:()=>un,as:()=>vt,at:()=>uu,au:()=>fo,av:()=>lt,aw:()=>Ae,ax:()=>De,ay:()=>Xe,az:()=>No,b:()=>Ic,c:()=>dl,d:()=>la,e:()=>Nl,f:()=>W,g:()=>On,h:()=>wt,i:()=>_r,j:()=>Ki,k:()=>Ba,l:()=>yr,m:()=>ys,n:()=>Nc,o:()=>Pe,r:()=>_s,s:()=>Pr,u:()=>Ya,z:()=>je});var b=L(5861),s=L(2090),Q=L(9681),Ce=L(655),Ie=L(1877),ae=L(4859);const Pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const je=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},it=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new Ie.Yd("@firebase/auth");function _e(M,...C){fe.logLevel<=Ie.in.ERROR&&fe.error(`Auth (${Q.SDK_VERSION}): ${M}`,...C)}function vt(M,...C){throw Ye(M,...C)}function lt(M,...C){return Ye(M,...C)}function Qe(M,C,E){const P=Object.assign(Object.assign({},it()),{[C]:E});return new s.LL("auth","Firebase",P).create(C,{appName:M.name})}function We(M,C,E){if(!(C instanceof E))throw E.name!==C.constructor.name&&vt(M,"argument-error"),Qe(M,"argument-error",`Type of ${C.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(M,...C){if("string"!=typeof M){const E=C[0],P=[...C.slice(1)];return P[0]&&(P[0].appName=M.name),M._errorFactory.create(E,...P)}return Le.create(M,...C)}function Ae(M,C,...E){if(!M)throw Ye(C,...E)}function Ke(M){const C="INTERNAL ASSERTION FAILED: "+M;throw _e(C),new Error(C)}function Se(M,C){M||Ke(C)}const ke=new Map;function De(M){Se(M instanceof Function,"Expected a class definition");let C=ke.get(M);return C?(Se(C instanceof M,"Instance stored in cache mismatched with class"),C):(C=new M,ke.set(M,C),C)}function tt(){var M;return"undefined"!=typeof self&&(null===(M=self.location)||void 0===M?void 0:M.href)||""}function Jt(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var M;return"undefined"!=typeof self&&(null===(M=self.location)||void 0===M?void 0:M.protocol)||null}class Je{constructor(C,E){this.shortDelay=C,this.longDelay=E,Se(E>C,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return function mt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Jt()||(0,s.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Et(M,C){Se(M.emulator,"Emulator should always be set here");const{url:E}=M.emulator;return C?`${E}${C.startsWith("/")?C.slice(1):C}`:E}class pt{static initialize(C,E,P){this.fetchImpl=C,E&&(this.headersImpl=E),P&&(this.responseImpl=P)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},_t=new Je(3e4,6e4);function Ft(M,C){return M.tenantId&&!C.tenantId?Object.assign(Object.assign({},C),{tenantId:M.tenantId}):C}function Ot(M,C,E,P){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,b.Z)(function*(M,C,E,P,ne={}){return ti(M,ne,(0,b.Z)(function*(){let Oe={},Ct={};P&&("GET"===C?Ct=P:Oe={body:JSON.stringify(P)});const en=(0,s.xO)(Object.assign({key:M.config.apiKey},Ct)).slice(1),Kn=yield M._getAdditionalHeaders();return Kn["Content-Type"]="application/json",M.languageCode&&(Kn["X-Firebase-Locale"]=M.languageCode),pt.fetch()(ai(M,M.config.apiHost,E,en),Object.assign({method:C,headers:Kn,referrerPolicy:"no-referrer"},Oe))}))})).apply(this,arguments)}function ti(M,C,E){return $n.apply(this,arguments)}function $n(){return($n=(0,b.Z)(function*(M,C,E){M._canInitEmulator=!1;const P=Object.assign(Object.assign({},Dt),C);try{const ne=new jn(M),Oe=yield Promise.race([E(),ne.promise]);ne.clearNetworkTimeout();const Ct=yield Oe.json();if("needConfirmation"in Ct)throw ki(M,"account-exists-with-different-credential",Ct);if(Oe.ok&&!("errorMessage"in Ct))return Ct;{const en=Oe.ok?Ct.errorMessage:Ct.error.message,[Kn,Ci]=en.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kn)throw ki(M,"credential-already-in-use",Ct);if("EMAIL_EXISTS"===Kn)throw ki(M,"email-already-in-use",Ct);const Ji=P[Kn]||Kn.toLowerCase().replace(/[_\s]+/g,"-");if(Ci)throw Qe(M,Ji,Ci);vt(M,Ji)}}catch(ne){if(ne instanceof s.ZR)throw ne;vt(M,"network-request-failed")}})).apply(this,arguments)}function Zn(M,C,E,P){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,b.Z)(function*(M,C,E,P,ne={}){const Oe=yield Ot(M,C,E,P,ne);return"mfaPendingCredential"in Oe&&vt(M,"multi-factor-auth-required",{_serverResponse:Oe}),Oe})).apply(this,arguments)}function ai(M,C,E,P){const ne=`${C}${E}?${P}`;return M.config.emulator?Et(M.config,ne):`${M.config.apiScheme}://${ne}`}class jn{constructor(C){this.auth=C,this.timer=null,this.promise=new Promise((E,P)=>{this.timer=setTimeout(()=>P(lt(this.auth,"network-request-failed")),_t.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ki(M,C,E){const P={appName:M.name};E.email&&(P.email=E.email),E.phoneNumber&&(P.phoneNumber=E.phoneNumber);const ne=lt(M,C,P);return ne.customData._tokenResponse=E,ne}function bn(){return(bn=(0,b.Z)(function*(M,C){return Ot(M,"POST","/v1/accounts:delete",C)})).apply(this,arguments)}function Qn(M,C){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,b.Z)(function*(M,C){return Ot(M,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Kt(M,C){return Di.apply(this,arguments)}function Di(){return(Di=(0,b.Z)(function*(M,C){return Ot(M,"POST","/v1/accounts:lookup",C)})).apply(this,arguments)}function sr(M){if(M)try{const C=new Date(Number(M));if(!isNaN(C.getTime()))return C.toUTCString()}catch(C){}}function Nr(){return(Nr=(0,b.Z)(function*(M,C=!1){const E=(0,s.m9)(M),P=yield E.getIdToken(C),ne=ni(P);Ae(ne&&ne.exp&&ne.auth_time&&ne.iat,E.auth,"internal-error");const Oe="object"==typeof ne.firebase?ne.firebase:void 0,Ct=null==Oe?void 0:Oe.sign_in_provider;return{claims:ne,token:P,authTime:sr(cr(ne.auth_time)),issuedAtTime:sr(cr(ne.iat)),expirationTime:sr(cr(ne.exp)),signInProvider:Ct||null,signInSecondFactor:(null==Oe?void 0:Oe.sign_in_second_factor)||null}})).apply(this,arguments)}function cr(M){return 1e3*Number(M)}function ni(M){const[C,E,P]=M.split(".");if(void 0===C||void 0===E||void 0===P)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const ne=(0,s.tV)(E);return ne?JSON.parse(ne):(_e("Failed to decode base64 JWT payload"),null)}catch(ne){return _e("Caught error parsing JWT payload as JSON",ne),null}}function pn(M,C){return ur.apply(this,arguments)}function ur(){return(ur=(0,b.Z)(function*(M,C,E=!1){if(E)return C;try{return yield C}catch(P){throw P instanceof s.ZR&&jr(P)&&M.auth.currentUser===M&&(yield M.auth.signOut()),P}})).apply(this,arguments)}function jr({code:M}){return"auth/user-disabled"===M||"auth/user-token-expired"===M}class xn{constructor(C){this.user=C,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(C){var E;if(C){const P=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),P}{this.errorBackoff=3e4;const ne=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(C=!1){var E=this;if(!this.isRunning)return;const P=this.getInterval(C);this.timerId=setTimeout((0,b.Z)(function*(){yield E.iteration()}),P)}iteration(){var C=this;return(0,b.Z)(function*(){try{yield C.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E.code&&C.schedule(!0))}C.schedule()})()}}class Fi{constructor(C,E){this.createdAt=C,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(C){this.createdAt=C.createdAt,this.lastLoginAt=C.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ti(M){return Li.apply(this,arguments)}function Li(){return(Li=(0,b.Z)(function*(M){var C;const E=M.auth,P=yield M.getIdToken(),ne=yield pn(M,Kt(E,{idToken:P}));Ae(null==ne?void 0:ne.users.length,E,"internal-error");const Oe=ne.users[0];M._notifyReloadListener(Oe);const Ct=(null===(C=Oe.providerUserInfo)||void 0===C?void 0:C.length)?cn(Oe.providerUserInfo):[],en=ci(M.providerData,Ct),Ji=!!M.isAnonymous&&!(M.email&&Oe.passwordHash||(null==en?void 0:en.length)),Rs={uid:Oe.localId,displayName:Oe.displayName||null,photoURL:Oe.photoUrl||null,email:Oe.email||null,emailVerified:Oe.emailVerified||!1,phoneNumber:Oe.phoneNumber||null,tenantId:Oe.tenantId||null,providerData:en,metadata:new Fi(Oe.createdAt,Oe.lastLoginAt),isAnonymous:Ji};Object.assign(M,Rs)})).apply(this,arguments)}function or(){return(or=(0,b.Z)(function*(M){const C=(0,s.m9)(M);yield Ti(C),yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)})).apply(this,arguments)}function ci(M,C){return[...M.filter(P=>!C.some(ne=>ne.providerId===P.providerId)),...C]}function cn(M){return M.map(C=>{var{providerId:E}=C,P=(0,Ce._T)(C,["providerId"]);return{providerId:E,uid:P.rawId||"",displayName:P.displayName||null,email:P.email||null,phoneNumber:P.phoneNumber||null,photoURL:P.photoUrl||null}})}function mn(){return(mn=(0,b.Z)(function*(M,C){const E=yield ti(M,{},(0,b.Z)(function*(){const P=(0,s.xO)({grant_type:"refresh_token",refresh_token:C}).slice(1),{tokenApiHost:ne,apiKey:Oe}=M.config,Ct=ai(M,ne,"/v1/token",`key=${Oe}`),en=yield M._getAdditionalHeaders();return en["Content-Type"]="application/x-www-form-urlencoded",pt.fetch()(Ct,{method:"POST",headers:en,body:P})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class ln{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(C){Ae(C.idToken,"internal-error"),Ae(void 0!==C.idToken,"internal-error"),Ae(void 0!==C.refreshToken,"internal-error");const E="expiresIn"in C&&void 0!==C.expiresIn?Number(C.expiresIn):function hn(M){const C=ni(M);return Ae(C,"internal-error"),Ae(void 0!==C.exp,"internal-error"),Ae(void 0!==C.iat,"internal-error"),Number(C.exp)-Number(C.iat)}(C.idToken);this.updateTokensAndExpiration(C.idToken,C.refreshToken,E)}getToken(C,E=!1){var P=this;return(0,b.Z)(function*(){return Ae(!P.accessToken||P.refreshToken,C,"user-token-expired"),E||!P.accessToken||P.isExpired?P.refreshToken?(yield P.refresh(C,P.refreshToken),P.accessToken):null:P.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(C,E){var P=this;return(0,b.Z)(function*(){const{accessToken:ne,refreshToken:Oe,expiresIn:Ct}=yield function zt(M,C){return mn.apply(this,arguments)}(C,E);P.updateTokensAndExpiration(ne,Oe,Number(Ct))})()}updateTokensAndExpiration(C,E,P){this.refreshToken=E||null,this.accessToken=C||null,this.expirationTime=Date.now()+1e3*P}static fromJSON(C,E){const{refreshToken:P,accessToken:ne,expirationTime:Oe}=E,Ct=new ln;return P&&(Ae("string"==typeof P,"internal-error",{appName:C}),Ct.refreshToken=P),ne&&(Ae("string"==typeof ne,"internal-error",{appName:C}),Ct.accessToken=ne),Oe&&(Ae("number"==typeof Oe,"internal-error",{appName:C}),Ct.expirationTime=Oe),Ct}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(C){this.accessToken=C.accessToken,this.refreshToken=C.refreshToken,this.expirationTime=C.expirationTime}_clone(){return Object.assign(new ln,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function Bn(M,C){Ae("string"==typeof M||void 0===M,"internal-error",{appName:C})}class zn{constructor(C){var{uid:E,auth:P,stsTokenManager:ne}=C,Oe=(0,Ce._T)(C,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=P,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=Oe.displayName||null,this.email=Oe.email||null,this.emailVerified=Oe.emailVerified||!1,this.phoneNumber=Oe.phoneNumber||null,this.photoURL=Oe.photoURL||null,this.isAnonymous=Oe.isAnonymous||!1,this.tenantId=Oe.tenantId||null,this.providerData=Oe.providerData?[...Oe.providerData]:[],this.metadata=new Fi(Oe.createdAt||void 0,Oe.lastLoginAt||void 0)}getIdToken(C){var E=this;return(0,b.Z)(function*(){const P=yield pn(E,E.stsTokenManager.getToken(E.auth,C));return Ae(P,E.auth,"internal-error"),E.accessToken!==P&&(E.accessToken=P,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),P})()}getIdTokenResult(C){return function rr(M){return Nr.apply(this,arguments)}(this,C)}reload(){return function Ln(M){return or.apply(this,arguments)}(this)}_assign(C){this!==C&&(Ae(this.uid===C.uid,this.auth,"internal-error"),this.displayName=C.displayName,this.photoURL=C.photoURL,this.email=C.email,this.emailVerified=C.emailVerified,this.phoneNumber=C.phoneNumber,this.isAnonymous=C.isAnonymous,this.tenantId=C.tenantId,this.providerData=C.providerData.map(E=>Object.assign({},E)),this.metadata._copy(C.metadata),this.stsTokenManager._assign(C.stsTokenManager))}_clone(C){return new zn(Object.assign(Object.assign({},this),{auth:C,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(C){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=C,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(C){this.reloadListener?this.reloadListener(C):this.reloadUserInfo=C}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(C,E=!1){var P=this;return(0,b.Z)(function*(){let ne=!1;C.idToken&&C.idToken!==P.stsTokenManager.accessToken&&(P.stsTokenManager.updateFromServerResponse(C),ne=!0),E&&(yield Ti(P)),yield P.auth._persistUserIfCurrent(P),ne&&P.auth._notifyListenersIfCurrent(P)})()}delete(){var C=this;return(0,b.Z)(function*(){const E=yield C.getIdToken();return yield pn(C,function gi(M,C){return bn.apply(this,arguments)}(C.auth,{idToken:E})),C.stsTokenManager.clearRefreshToken(),C.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(C=>Object.assign({},C)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(C,E){var P,ne,Oe,Ct,en,Kn,Ci,Ji;const Rs=null!==(P=E.displayName)&&void 0!==P?P:void 0,Bl=null!==(ne=E.email)&&void 0!==ne?ne:void 0,ac=null!==(Oe=E.phoneNumber)&&void 0!==Oe?Oe:void 0,pl=null!==(Ct=E.photoURL)&&void 0!==Ct?Ct:void 0,Ul=null!==(en=E.tenantId)&&void 0!==en?en:void 0,ju=null!==(Kn=E._redirectEventId)&&void 0!==Kn?Kn:void 0,_p=null!==(Ci=E.createdAt)&&void 0!==Ci?Ci:void 0,yp=null!==(Ji=E.lastLoginAt)&&void 0!==Ji?Ji:void 0,{uid:Rc,emailVerified:ah,isAnonymous:Dd,providerData:ws,stsTokenManager:Dr}=E;Ae(Rc&&Dr,C,"internal-error");const Gu=ln.fromJSON(this.name,Dr);Ae("string"==typeof Rc,C,"internal-error"),Bn(Rs,C.name),Bn(Bl,C.name),Ae("boolean"==typeof ah,C,"internal-error"),Ae("boolean"==typeof Dd,C,"internal-error"),Bn(ac,C.name),Bn(pl,C.name),Bn(Ul,C.name),Bn(ju,C.name),Bn(_p,C.name),Bn(yp,C.name);const du=new zn({uid:Rc,auth:C,email:Bl,emailVerified:ah,displayName:Rs,isAnonymous:Dd,photoURL:pl,phoneNumber:ac,tenantId:Ul,stsTokenManager:Gu,createdAt:_p,lastLoginAt:yp});return ws&&Array.isArray(ws)&&(du.providerData=ws.map(Vl=>Object.assign({},Vl))),ju&&(du._redirectEventId=ju),du}static _fromIdTokenResponse(C,E,P=!1){return(0,b.Z)(function*(){const ne=new ln;ne.updateFromServerResponse(E);const Oe=new zn({uid:E.localId,auth:C,stsTokenManager:ne,isAnonymous:P});return yield Ti(Oe),Oe})()}}const ve=(()=>{class M{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(E,P){var ne=this;return(0,b.Z)(function*(){ne.storage[E]=P})()}_get(E){var P=this;return(0,b.Z)(function*(){const ne=P.storage[E];return void 0===ne?null:ne})()}_remove(E){var P=this;return(0,b.Z)(function*(){delete P.storage[E]})()}_addListener(E,P){}_removeListener(E,P){}}return M.type="NONE",M})();function Xe(M,C,E){return`firebase:${M}:${C}:${E}`}class Tt{constructor(C,E,P){this.persistence=C,this.auth=E,this.userKey=P;const{config:ne,name:Oe}=this.auth;this.fullUserKey=Xe(this.userKey,ne.apiKey,Oe),this.fullPersistenceKey=Xe("persistence",ne.apiKey,Oe),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(C){return this.persistence._set(this.fullUserKey,C.toJSON())}getCurrentUser(){var C=this;return(0,b.Z)(function*(){const E=yield C.persistence._get(C.fullUserKey);return E?zn._fromJSON(C.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(C){var E=this;return(0,b.Z)(function*(){if(E.persistence===C)return;const P=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=C,P?E.setCurrentUser(P):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(C,E,P="authUser"){return(0,b.Z)(function*(){if(!E.length)return new Tt(De(ve),C,P);const ne=(yield Promise.all(E.map(function(){var Ci=(0,b.Z)(function*(Ji){if(yield Ji._isAvailable())return Ji});return function(Ji){return Ci.apply(this,arguments)}}()))).filter(Ci=>Ci);let Oe=ne[0]||De(ve);const Ct=Xe(P,C.config.apiKey,C.name);let en=null;for(const Ci of E)try{const Ji=yield Ci._get(Ct);if(Ji){const Rs=zn._fromJSON(C,Ji);Ci!==Oe&&(en=Rs),Oe=Ci;break}}catch(Ji){}const Kn=ne.filter(Ci=>Ci._shouldAllowMigration);return Oe._shouldAllowMigration&&Kn.length?(Oe=Kn[0],en&&(yield Oe._set(Ct,en.toJSON())),yield Promise.all(E.map(function(){var Ci=(0,b.Z)(function*(Ji){if(Ji!==Oe)try{yield Ji._remove(Ct)}catch(Rs){}});return function(Ji){return Ci.apply(this,arguments)}}())),new Tt(Oe,C,P)):new Tt(Oe,C,P)})()}}function ue(M){const C=M.toLowerCase();if(C.includes("opera/")||C.includes("opr/")||C.includes("opios/"))return"Opera";if(Xt(C))return"IEMobile";if(C.includes("msie")||C.includes("trident/"))return"IE";if(C.includes("edge/"))return"Edge";if(Me(C))return"Firefox";if(C.includes("silk/"))return"Silk";if(En(C))return"Blackberry";if(sn(C))return"Webos";if(ye(C))return"Safari";if((C.includes("chrome/")||St(C))&&!C.includes("edge/"))return"Chrome";if(un(C))return"Android";{const P=M.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==P?void 0:P.length))return P[1]}return"Other"}function Me(M=(0,s.z$)()){return/firefox\//i.test(M)}function ye(M=(0,s.z$)()){const C=M.toLowerCase();return C.includes("safari/")&&!C.includes("chrome/")&&!C.includes("crios/")&&!C.includes("android")}function St(M=(0,s.z$)()){return/crios\//i.test(M)}function Xt(M=(0,s.z$)()){return/iemobile/i.test(M)}function un(M=(0,s.z$)()){return/android/i.test(M)}function En(M=(0,s.z$)()){return/blackberry/i.test(M)}function sn(M=(0,s.z$)()){return/webos/i.test(M)}function Un(M=(0,s.z$)()){return/iphone|ipad|ipod/i.test(M)}function Qi(M=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(M)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(M)}function Hi(M=(0,s.z$)()){return Un(M)||un(M)||sn(M)||En(M)||/windows phone/i.test(M)||Xt(M)}function qi(M,C=[]){let E;switch(M){case"Browser":E=ue((0,s.z$)());break;case"Worker":E=`${ue((0,s.z$)())}-${M}`;break;default:E=M}const P=C.length?C.join(","):"FirebaseCore-web";return`${E}/JsCore/${Q.SDK_VERSION}/${P}`}class Jr{constructor(C,E,P){this.app=C,this.heartbeatServiceProvider=E,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ht(this),this.idTokenSubscription=new Ht(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=C.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(C,E){var P=this;return E&&(this._popupRedirectResolver=De(E)),this._initializationPromise=this.queue((0,b.Z)(function*(){var ne,Oe;if(!P._deleted&&(P.persistenceManager=yield Tt.create(P,C),!P._deleted)){if(null===(ne=P._popupRedirectResolver)||void 0===ne?void 0:ne._shouldInitProactively)try{yield P._popupRedirectResolver._initialize(P)}catch(Ct){}yield P.initializeCurrentUser(E),P.lastNotifiedUid=(null===(Oe=P.currentUser)||void 0===Oe?void 0:Oe.uid)||null,!P._deleted&&(P._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var C=this;return(0,b.Z)(function*(){if(C._deleted)return;const E=yield C.assertedPersistence.getCurrentUser();if(C.currentUser||E){if(C.currentUser&&E&&C.currentUser.uid===E.uid)return C._currentUser._assign(E),void(yield C.currentUser.getIdToken());yield C._updateCurrentUser(E)}})()}initializeCurrentUser(C){var E=this;return(0,b.Z)(function*(){var P;let ne=yield E.assertedPersistence.getCurrentUser();if(C&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const Oe=null===(P=E.redirectUser)||void 0===P?void 0:P._redirectEventId,Ct=null==ne?void 0:ne._redirectEventId,en=yield E.tryRedirectSignIn(C);(!Oe||Oe===Ct)&&(null==en?void 0:en.user)&&(ne=en.user)}return ne?ne._redirectEventId?(Ae(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===ne._redirectEventId?E.directlySetCurrentUser(ne):E.reloadAndSetCurrentUserOrClear(ne)):E.reloadAndSetCurrentUserOrClear(ne):E.directlySetCurrentUser(null)})()}tryRedirectSignIn(C){var E=this;return(0,b.Z)(function*(){let P=null;try{P=yield E._popupRedirectResolver._completeRedirectFn(E,C,!0)}catch(ne){yield E._setRedirectUser(null)}return P})()}reloadAndSetCurrentUserOrClear(C){var E=this;return(0,b.Z)(function*(){try{yield Ti(C)}catch(P){if("auth/network-request-failed"!==P.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(C)})()}useDeviceLanguage(){this.languageCode=function nt(){if("undefined"==typeof navigator)return null;const M=navigator;return M.languages&&M.languages[0]||M.language||null}()}_delete(){var C=this;return(0,b.Z)(function*(){C._deleted=!0})()}updateCurrentUser(C){var E=this;return(0,b.Z)(function*(){const P=C?(0,s.m9)(C):null;return P&&Ae(P.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(P&&P._clone(E))})()}_updateCurrentUser(C){var E=this;return(0,b.Z)(function*(){if(!E._deleted)return C&&Ae(E.tenantId===C.tenantId,E,"tenant-id-mismatch"),E.queue((0,b.Z)(function*(){yield E.directlySetCurrentUser(C),E.notifyAuthListeners()}))})()}signOut(){var C=this;return(0,b.Z)(function*(){return(C.redirectPersistenceManager||C._popupRedirectResolver)&&(yield C._setRedirectUser(null)),C._updateCurrentUser(null)})()}setPersistence(C){var E=this;return this.queue((0,b.Z)(function*(){yield E.assertedPersistence.setPersistence(De(C))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(C){this._errorFactory=new s.LL("auth","Firebase",C())}onAuthStateChanged(C,E,P){return this.registerStateListener(this.authStateSubscription,C,E,P)}onIdTokenChanged(C,E,P){return this.registerStateListener(this.idTokenSubscription,C,E,P)}toJSON(){var C;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(C=this._currentUser)||void 0===C?void 0:C.toJSON()}}_setRedirectUser(C,E){var P=this;return(0,b.Z)(function*(){const ne=yield P.getOrInitRedirectPersistenceManager(E);return null===C?ne.removeCurrentUser():ne.setCurrentUser(C)})()}getOrInitRedirectPersistenceManager(C){var E=this;return(0,b.Z)(function*(){if(!E.redirectPersistenceManager){const P=C&&De(C)||E._popupRedirectResolver;Ae(P,E,"argument-error"),E.redirectPersistenceManager=yield Tt.create(E,[De(P._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(C){var E=this;return(0,b.Z)(function*(){var P,ne;return E._isInitialized&&(yield E.queue((0,b.Z)(function*(){}))),(null===(P=E._currentUser)||void 0===P?void 0:P._redirectEventId)===C?E._currentUser:(null===(ne=E.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===C?E.redirectUser:null})()}_persistUserIfCurrent(C){var E=this;return(0,b.Z)(function*(){if(C===E.currentUser)return E.queue((0,b.Z)(function*(){return E.directlySetCurrentUser(C)}))})()}_notifyListenersIfCurrent(C){C===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var C,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const P=null!==(E=null===(C=this.currentUser)||void 0===C?void 0:C.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==P&&(this.lastNotifiedUid=P,this.authStateSubscription.next(this.currentUser))}registerStateListener(C,E,P,ne){if(this._deleted)return()=>{};const Oe="function"==typeof E?E:E.next.bind(E),Ct=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(Ct,this,"internal-error"),Ct.then(()=>Oe(this.currentUser)),"function"==typeof E?C.addObserver(E,P,ne):C.addObserver(E)}directlySetCurrentUser(C){var E=this;return(0,b.Z)(function*(){E.currentUser&&E.currentUser!==C&&(E._currentUser._stopProactiveRefresh(),C&&E.isProactiveRefreshEnabled&&C._startProactiveRefresh()),E.currentUser=C,C?yield E.assertedPersistence.setCurrentUser(C):yield E.assertedPersistence.removeCurrentUser()})()}queue(C){return this.operations=this.operations.then(C,C),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(C){!C||this.frameworks.includes(C)||(this.frameworks.push(C),this.frameworks.sort(),this.clientVersion=qi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var C=this;return(0,b.Z)(function*(){var E;const P={"X-Client-Version":C.clientVersion};C.app.options.appId&&(P["X-Firebase-gmpid"]=C.app.options.appId);const ne=yield null===(E=C.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return ne&&(P["X-Firebase-Client"]=ne),P})()}}function Yn(M){return(0,s.m9)(M)}class Ht{constructor(C){this.auth=C,this.observer=null,this.addObserver=(0,s.ne)(E=>this.observer=E)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ii(M,C,E){const P=Yn(M);Ae(P._canInitEmulator,P,"emulator-config-failed"),Ae(/^https?:\/\//.test(C),P,"invalid-emulator-scheme");const ne=!!(null==E?void 0:E.disableWarnings),Oe=hi(C),{host:Ct,port:en}=function fr(M){const C=hi(M),E=/(\/\/)?([^?#/]+)/.exec(M.substr(C.length));if(!E)return{host:"",port:null};const P=E[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(P);if(ne){const Oe=ne[1];return{host:Oe,port:Ir(P.substr(Oe.length+1))}}{const[Oe,Ct]=P.split(":");return{host:Oe,port:Ir(Ct)}}}(C);P.config.emulator={url:`${Oe}//${Ct}${null===en?"":`:${en}`}/`},P.settings.appVerificationDisabledForTesting=!0,P.emulatorConfig=Object.freeze({host:Ct,port:en,protocol:Oe.replace(":",""),options:Object.freeze({disableWarnings:ne})}),ne||function wi(){function M(){const C=document.createElement("p"),E=C.style;C.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",C.classList.add("firebase-emulator-warning"),document.body.appendChild(C)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",M):M())}()}function hi(M){const C=M.indexOf(":");return C<0?"":M.substr(0,C+1)}function Ir(M){if(!M)return null;const C=Number(M);return isNaN(C)?null:C}class Ar{constructor(C,E){this.providerId=C,this.signInMethod=E}toJSON(){return Ke("not implemented")}_getIdTokenResponse(C){return Ke("not implemented")}_linkToIdToken(C,E){return Ke("not implemented")}_getReauthenticationResolver(C){return Ke("not implemented")}}function Vi(M,C){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,b.Z)(function*(M,C){return Ot(M,"POST","/v1/accounts:resetPassword",Ft(M,C))})).apply(this,arguments)}function ui(M,C){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,b.Z)(function*(M,C){return Ot(M,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Rr(M,C){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,b.Z)(function*(M,C){return Ot(M,"POST","/v1/accounts:update",Ft(M,C))})).apply(this,arguments)}function er(){return(er=(0,b.Z)(function*(M,C){return Zn(M,"POST","/v1/accounts:signInWithPassword",Ft(M,C))})).apply(this,arguments)}function pr(M,C){return zr.apply(this,arguments)}function zr(){return(zr=(0,b.Z)(function*(M,C){return Ot(M,"POST","/v1/accounts:sendOobCode",Ft(M,C))})).apply(this,arguments)}function Lr(M,C){return X.apply(this,arguments)}function X(){return(X=(0,b.Z)(function*(M,C){return pr(M,C)})).apply(this,arguments)}function he(M,C){return ct.apply(this,arguments)}function ct(){return(ct=(0,b.Z)(function*(M,C){return pr(M,C)})).apply(this,arguments)}function yt(M,C){return be.apply(this,arguments)}function be(){return(be=(0,b.Z)(function*(M,C){return pr(M,C)})).apply(this,arguments)}function $e(M,C){return bt.apply(this,arguments)}function bt(){return(bt=(0,b.Z)(function*(M,C){return pr(M,C)})).apply(this,arguments)}function Lt(){return(Lt=(0,b.Z)(function*(M,C){return Zn(M,"POST","/v1/accounts:signInWithEmailLink",Ft(M,C))})).apply(this,arguments)}function fn(){return(fn=(0,b.Z)(function*(M,C){return Zn(M,"POST","/v1/accounts:signInWithEmailLink",Ft(M,C))})).apply(this,arguments)}class wn extends Ar{constructor(C,E,P,ne=null){super("password",P),this._email=C,this._password=E,this._tenantId=ne}static _fromEmailAndPassword(C,E){return new wn(C,E,"password")}static _fromEmailAndCode(C,E,P=null){return new wn(C,E,"emailLink",P)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(C){const E="string"==typeof C?JSON.parse(C):C;if((null==E?void 0:E.email)&&(null==E?void 0:E.password)){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(C){var E=this;return(0,b.Z)(function*(){switch(E.signInMethod){case"password":return function Is(M,C){return er.apply(this,arguments)}(C,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Rt(M,C){return Lt.apply(this,arguments)}(C,{email:E._email,oobCode:E._password});default:vt(C,"internal-error")}})()}_linkToIdToken(C,E){var P=this;return(0,b.Z)(function*(){switch(P.signInMethod){case"password":return ui(C,{idToken:E,returnSecureToken:!0,email:P._email,password:P._password});case"emailLink":return function jt(M,C){return fn.apply(this,arguments)}(C,{idToken:E,email:P._email,oobCode:P._password});default:vt(C,"internal-error")}})()}_getReauthenticationResolver(C){return this._getIdTokenResponse(C)}}function Xn(M,C){return oi.apply(this,arguments)}function oi(){return(oi=(0,b.Z)(function*(M,C){return Zn(M,"POST","/v1/accounts:signInWithIdp",Ft(M,C))})).apply(this,arguments)}class vr extends Ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(C){const E=new vr(C.providerId,C.signInMethod);return C.idToken||C.accessToken?(C.idToken&&(E.idToken=C.idToken),C.accessToken&&(E.accessToken=C.accessToken),C.nonce&&!C.pendingToken&&(E.nonce=C.nonce),C.pendingToken&&(E.pendingToken=C.pendingToken)):C.oauthToken&&C.oauthTokenSecret?(E.accessToken=C.oauthToken,E.secret=C.oauthTokenSecret):vt("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(C){const E="string"==typeof C?JSON.parse(C):C,{providerId:P,signInMethod:ne}=E,Oe=(0,Ce._T)(E,["providerId","signInMethod"]);if(!P||!ne)return null;const Ct=new vr(P,ne);return Ct.idToken=Oe.idToken||void 0,Ct.accessToken=Oe.accessToken||void 0,Ct.secret=Oe.secret,Ct.nonce=Oe.nonce,Ct.pendingToken=Oe.pendingToken||null,Ct}_getIdTokenResponse(C){return Xn(C,this.buildRequest())}_linkToIdToken(C,E){const P=this.buildRequest();return P.idToken=E,Xn(C,P)}_getReauthenticationResolver(C){const E=this.buildRequest();return E.autoCreate=!1,Xn(C,E)}buildRequest(){const C={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)C.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),C.postBody=(0,s.xO)(E)}return C}}function ut(M,C){return et.apply(this,arguments)}function et(){return(et=(0,b.Z)(function*(M,C){return Ot(M,"POST","/v1/accounts:sendVerificationCode",Ft(M,C))})).apply(this,arguments)}function Wt(){return(Wt=(0,b.Z)(function*(M,C){return Zn(M,"POST","/v1/accounts:signInWithPhoneNumber",Ft(M,C))})).apply(this,arguments)}function An(){return(An=(0,b.Z)(function*(M,C){const E=yield Zn(M,"POST","/v1/accounts:signInWithPhoneNumber",Ft(M,C));if(E.temporaryProof)throw ki(M,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const dr={USER_NOT_FOUND:"user-not-found"};function ji(){return(ji=(0,b.Z)(function*(M,C){return Zn(M,"POST","/v1/accounts:signInWithPhoneNumber",Ft(M,Object.assign(Object.assign({},C),{operation:"REAUTH"})),dr)})).apply(this,arguments)}class Mr extends Ar{constructor(C){super("phone","phone"),this.params=C}static _fromVerification(C,E){return new Mr({verificationId:C,verificationCode:E})}static _fromTokenResponse(C,E){return new Mr({phoneNumber:C,temporaryProof:E})}_getIdTokenResponse(C){return function xt(M,C){return Wt.apply(this,arguments)}(C,this._makeVerificationRequest())}_linkToIdToken(C,E){return function on(M,C){return An.apply(this,arguments)}(C,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(C){return function Wr(M,C){return ji.apply(this,arguments)}(C,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:C,phoneNumber:E,verificationId:P,verificationCode:ne}=this.params;return C&&E?{temporaryProof:C,phoneNumber:E}:{sessionInfo:P,code:ne}}toJSON(){const C={providerId:this.providerId};return this.params.phoneNumber&&(C.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(C.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(C.verificationCode=this.params.verificationCode),this.params.verificationId&&(C.verificationId=this.params.verificationId),C}static fromJSON(C){"string"==typeof C&&(C=JSON.parse(C));const{verificationId:E,verificationCode:P,phoneNumber:ne,temporaryProof:Oe}=C;return P||E||ne||Oe?new Mr({verificationId:E,verificationCode:P,phoneNumber:ne,temporaryProof:Oe}):null}}class Bs{constructor(C){var E,P,ne,Oe,Ct,en;const Kn=(0,s.zd)((0,s.pd)(C)),Ci=null!==(E=Kn.apiKey)&&void 0!==E?E:null,Ji=null!==(P=Kn.oobCode)&&void 0!==P?P:null,Rs=function Ao(M){switch(M){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ne=Kn.mode)&&void 0!==ne?ne:null);Ae(Ci&&Ji&&Rs,"argument-error"),this.apiKey=Ci,this.operation=Rs,this.code=Ji,this.continueUrl=null!==(Oe=Kn.continueUrl)&&void 0!==Oe?Oe:null,this.languageCode=null!==(Ct=Kn.languageCode)&&void 0!==Ct?Ct:null,this.tenantId=null!==(en=Kn.tenantId)&&void 0!==en?en:null}static parseLink(C){const E=function io(M){const C=(0,s.zd)((0,s.pd)(M)).link,E=C?(0,s.zd)((0,s.pd)(C)).deep_link_id:null,P=(0,s.zd)((0,s.pd)(M)).deep_link_id;return(P?(0,s.zd)((0,s.pd)(P)).link:null)||P||E||C||M}(C);try{return new Bs(E)}catch(P){return null}}}let qs=(()=>{class M{constructor(){this.providerId=M.PROVIDER_ID}static credential(E,P){return wn._fromEmailAndPassword(E,P)}static credentialWithLink(E,P){const ne=Bs.parseLink(P);return Ae(ne,"argument-error"),wn._fromEmailAndCode(E,ne.code,ne.tenantId)}}return M.PROVIDER_ID="password",M.EMAIL_PASSWORD_SIGN_IN_METHOD="password",M.EMAIL_LINK_SIGN_IN_METHOD="emailLink",M})();class Br{constructor(C){this.providerId=C,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(C){this.defaultLanguageCode=C}setCustomParameters(C){return this.customParameters=C,this}getCustomParameters(){return this.customParameters}}class So extends Br{constructor(){super(...arguments),this.scopes=[]}addScope(C){return this.scopes.includes(C)||this.scopes.push(C),this}getScopes(){return[...this.scopes]}}class br extends So{static credentialFromJSON(C){const E="string"==typeof C?JSON.parse(C):C;return Ae("providerId"in E&&"signInMethod"in E,"argument-error"),vr._fromParams(E)}credential(C){return this._credential(Object.assign(Object.assign({},C),{nonce:C.rawNonce}))}_credential(C){return Ae(C.idToken||C.accessToken,"argument-error"),vr._fromParams(Object.assign(Object.assign({},C),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(C){return br.oauthCredentialFromTaggedObject(C)}static credentialFromError(C){return br.oauthCredentialFromTaggedObject(C.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:E,oauthAccessToken:P,oauthTokenSecret:ne,pendingToken:Oe,nonce:Ct,providerId:en}=C;if(!P&&!ne&&!E&&!Oe||!en)return null;try{return new br(en)._credential({idToken:E,accessToken:P,nonce:Ct,pendingToken:Oe})}catch(Kn){return null}}}let Zs=(()=>{class M extends So{constructor(){super("facebook.com")}static credential(E){return vr._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return M.credentialFromTaggedObject(E)}static credentialFromError(E){return M.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return M.credential(E.oauthAccessToken)}catch(P){return null}}}return M.FACEBOOK_SIGN_IN_METHOD="facebook.com",M.PROVIDER_ID="facebook.com",M})(),gs=(()=>{class M extends So{constructor(){super("google.com"),this.addScope("profile")}static credential(E,P){return vr._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:P})}static credentialFromResult(E){return M.credentialFromTaggedObject(E)}static credentialFromError(E){return M.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:P,oauthAccessToken:ne}=E;if(!P&&!ne)return null;try{return M.credential(P,ne)}catch(Oe){return null}}}return M.GOOGLE_SIGN_IN_METHOD="google.com",M.PROVIDER_ID="google.com",M})(),As=(()=>{class M extends So{constructor(){super("github.com")}static credential(E){return vr._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return M.credentialFromTaggedObject(E)}static credentialFromError(E){return M.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return M.credential(E.oauthAccessToken)}catch(P){return null}}}return M.GITHUB_SIGN_IN_METHOD="github.com",M.PROVIDER_ID="github.com",M})();class Ss extends Ar{constructor(C,E){super(C,C),this.pendingToken=E}_getIdTokenResponse(C){return Xn(C,this.buildRequest())}_linkToIdToken(C,E){const P=this.buildRequest();return P.idToken=E,Xn(C,P)}_getReauthenticationResolver(C){const E=this.buildRequest();return E.autoCreate=!1,Xn(C,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(C){const E="string"==typeof C?JSON.parse(C):C,{providerId:P,signInMethod:ne,pendingToken:Oe}=E;return P&&ne&&Oe&&P===ne?new Ss(P,Oe):null}static _create(C,E){return new Ss(C,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qr extends Br{constructor(C){Ae(C.startsWith("saml."),"argument-error"),super(C)}static credentialFromResult(C){return qr.samlCredentialFromTaggedObject(C)}static credentialFromError(C){return qr.samlCredentialFromTaggedObject(C.customData||{})}static credentialFromJSON(C){const E=Ss.fromJSON(C);return Ae(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{pendingToken:E,providerId:P}=C;if(!E||!P)return null;try{return Ss._create(P,E)}catch(ne){return null}}}let us=(()=>{class M extends So{constructor(){super("twitter.com")}static credential(E,P){return vr._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:P})}static credentialFromResult(E){return M.credentialFromTaggedObject(E)}static credentialFromError(E){return M.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:P,oauthTokenSecret:ne}=E;if(!P||!ne)return null;try{return M.credential(P,ne)}catch(Oe){return null}}}return M.TWITTER_SIGN_IN_METHOD="twitter.com",M.PROVIDER_ID="twitter.com",M})();function ds(M,C){return ho.apply(this,arguments)}function ho(){return(ho=(0,b.Z)(function*(M,C){return Zn(M,"POST","/v1/accounts:signUp",Ft(M,C))})).apply(this,arguments)}class ar{constructor(C){this.user=C.user,this.providerId=C.providerId,this._tokenResponse=C._tokenResponse,this.operationType=C.operationType}static _fromIdTokenResponse(C,E,P,ne=!1){return(0,b.Z)(function*(){const Oe=yield zn._fromIdTokenResponse(C,P,ne),Ct=Ys(P);return new ar({user:Oe,providerId:Ct,_tokenResponse:P,operationType:E})})()}static _forOperation(C,E,P){return(0,b.Z)(function*(){yield C._updateTokensIfNecessary(P,!0);const ne=Ys(P);return new ar({user:C,providerId:ne,_tokenResponse:P,operationType:E})})()}}function Ys(M){return M.providerId?M.providerId:"phoneNumber"in M?"phone":null}function Sa(M){return Us.apply(this,arguments)}function Us(){return(Us=(0,b.Z)(function*(M){var C;const E=Yn(M);if(yield E._initializationPromise,null===(C=E.currentUser)||void 0===C?void 0:C.isAnonymous)return new ar({user:E.currentUser,providerId:null,operationType:"signIn"});const P=yield ds(E,{returnSecureToken:!0}),ne=yield ar._fromIdTokenResponse(E,"signIn",P,!0);return yield E._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class xe extends s.ZR{constructor(C,E,P,ne){var Oe;super(E.code,E.message),this.operationType=P,this.user=ne,Object.setPrototypeOf(this,xe.prototype),this.customData={appName:C.name,tenantId:null!==(Oe=C.tenantId)&&void 0!==Oe?Oe:void 0,_serverResponse:E.customData._serverResponse,operationType:P}}static _fromErrorAndOperation(C,E,P,ne){return new xe(C,E,P,ne)}}function is(M,C,E,P){return("reauthenticate"===C?E._getReauthenticationResolver(M):E._getIdTokenResponse(M)).catch(Oe=>{throw"auth/multi-factor-auth-required"===Oe.code?xe._fromErrorAndOperation(M,Oe,C,P):Oe})}function Vs(M){return new Set(M.map(({providerId:C})=>C).filter(C=>!!C))}function rs(M,C){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,b.Z)(function*(M,C){const E=(0,s.m9)(M);yield z(!0,E,C);const{providerUserInfo:P}=yield Qn(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[C]}),ne=Vs(P||[]);return E.providerData=E.providerData.filter(Oe=>ne.has(Oe.providerId)),ne.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function Ms(M,C){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,b.Z)(function*(M,C,E=!1){const P=yield pn(M,C._linkToIdToken(M.auth,yield M.getIdToken()),E);return ar._forOperation(M,"link",P)})).apply(this,arguments)}function z(M,C,E){return oe.apply(this,arguments)}function oe(){return(oe=(0,b.Z)(function*(M,C,E){yield Ti(C);const ne=!1===M?"provider-already-linked":"no-such-provider";Ae(Vs(C.providerData).has(E)===M,C.auth,ne)})).apply(this,arguments)}function G(M,C){return ce.apply(this,arguments)}function ce(){return(ce=(0,b.Z)(function*(M,C,E=!1){const{auth:P}=M,ne="reauthenticate";try{const Oe=yield pn(M,is(P,ne,C,M),E);Ae(Oe.idToken,P,"internal-error");const Ct=ni(Oe.idToken);Ae(Ct,P,"internal-error");const{sub:en}=Ct;return Ae(M.uid===en,P,"user-mismatch"),ar._forOperation(M,ne,Oe)}catch(Oe){throw"auth/user-not-found"===(null==Oe?void 0:Oe.code)&&vt(P,"user-mismatch"),Oe}})).apply(this,arguments)}function He(M,C){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,b.Z)(function*(M,C,E=!1){const P="signIn",ne=yield is(M,P,C),Oe=yield ar._fromIdTokenResponse(M,P,ne);return E||(yield M._updateCurrentUser(Oe.user)),Oe})).apply(this,arguments)}function qt(M,C){return dn.apply(this,arguments)}function dn(){return(dn=(0,b.Z)(function*(M,C){return He(Yn(M),C)})).apply(this,arguments)}function yi(M,C){return xi.apply(this,arguments)}function xi(){return(xi=(0,b.Z)(function*(M,C){const E=(0,s.m9)(M);return yield z(!1,E,C.providerId),Ms(E,C)})).apply(this,arguments)}function Ii(M,C){return ei.apply(this,arguments)}function ei(){return(ei=(0,b.Z)(function*(M,C){return G((0,s.m9)(M),C)})).apply(this,arguments)}function xr(M,C){return gr.apply(this,arguments)}function gr(){return(gr=(0,b.Z)(function*(M,C){return Zn(M,"POST","/v1/accounts:signInWithCustomToken",Ft(M,C))})).apply(this,arguments)}function tr(M,C){return Er.apply(this,arguments)}function Er(){return(Er=(0,b.Z)(function*(M,C){const E=Yn(M),P=yield xr(E,{token:C,returnSecureToken:!0}),ne=yield ar._fromIdTokenResponse(E,"signIn",P);return yield E._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class Gr{constructor(C,E){this.factorId=C,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(C,E){return"phoneInfo"in E?Rn._fromServerResponse(C,E):vt(C,"internal-error")}}class Rn extends Gr{constructor(C){super("phone",C),this.phoneNumber=C.phoneInfo}static _fromServerResponse(C,E){return new Rn(E)}}function xs(M,C,E){var P;Ae((null===(P=E.url)||void 0===P?void 0:P.length)>0,M,"invalid-continue-uri"),Ae(void 0===E.dynamicLinkDomain||E.dynamicLinkDomain.length>0,M,"invalid-dynamic-link-domain"),C.continueUrl=E.url,C.dynamicLinkDomain=E.dynamicLinkDomain,C.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(Ae(E.iOS.bundleId.length>0,M,"missing-ios-bundle-id"),C.iOSBundleId=E.iOS.bundleId),E.android&&(Ae(E.android.packageName.length>0,M,"missing-android-pkg-name"),C.androidInstallApp=E.android.installApp,C.androidMinimumVersionCode=E.android.minimumVersion,C.androidPackageName=E.android.packageName)}function Js(M,C,E){return ss.apply(this,arguments)}function ss(){return(ss=(0,b.Z)(function*(M,C,E){const P=(0,s.m9)(M),ne={requestType:"PASSWORD_RESET",email:C};E&&xs(P,ne,E),yield he(P,ne)})).apply(this,arguments)}function os(M,C,E){return q.apply(this,arguments)}function q(){return(q=(0,b.Z)(function*(M,C,E){yield Vi((0,s.m9)(M),{oobCode:C,newPassword:E})})).apply(this,arguments)}function j(M,C){return V.apply(this,arguments)}function V(){return(V=(0,b.Z)(function*(M,C){yield Rr((0,s.m9)(M),{oobCode:C})})).apply(this,arguments)}function T(M,C){return R.apply(this,arguments)}function R(){return(R=(0,b.Z)(function*(M,C){const E=(0,s.m9)(M),P=yield Vi(E,{oobCode:C}),ne=P.requestType;switch(Ae(ne,E,"internal-error"),ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(P.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(P.mfaInfo,E,"internal-error");default:Ae(P.email,E,"internal-error")}let Oe=null;return P.mfaInfo&&(Oe=Gr._fromServerResponse(Yn(E),P.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.newEmail:P.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.email:P.newEmail)||null,multiFactorInfo:Oe},operation:ne}})).apply(this,arguments)}function re(M,C){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,b.Z)(function*(M,C){const{data:E}=yield T((0,s.m9)(M),C);return E.email})).apply(this,arguments)}function st(M,C,E){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,b.Z)(function*(M,C,E){const P=Yn(M),ne=yield ds(P,{returnSecureToken:!0,email:C,password:E}),Oe=yield ar._fromIdTokenResponse(P,"signIn",ne);return yield P._updateCurrentUser(Oe.user),Oe})).apply(this,arguments)}function Yt(M,C,E){return qt((0,s.m9)(M),qs.credential(C,E))}function Dn(M,C,E){return _n.apply(this,arguments)}function _n(){return(_n=(0,b.Z)(function*(M,C,E){const P=(0,s.m9)(M),ne={requestType:"EMAIL_SIGNIN",email:C};Ae(E.handleCodeInApp,P,"argument-error"),E&&xs(P,ne,E),yield yt(P,ne)})).apply(this,arguments)}function pi(M,C){const E=Bs.parseLink(C);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}function Ri(M,C,E){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,b.Z)(function*(M,C,E){const P=(0,s.m9)(M),ne=qs.credentialWithLink(C,E||tt());return Ae(ne._tenantId===(P.tenantId||null),P,"tenant-id-mismatch"),qt(P,ne)})).apply(this,arguments)}function nr(M,C){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,b.Z)(function*(M,C){return Ot(M,"POST","/v1/accounts:createAuthUri",Ft(M,C))})).apply(this,arguments)}function wr(M,C){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,b.Z)(function*(M,C){const P={identifier:C,continueUri:Jt()?tt():"http://localhost"},{signinMethods:ne}=yield nr((0,s.m9)(M),P);return ne||[]})).apply(this,arguments)}function mr(M,C){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,b.Z)(function*(M,C){const E=(0,s.m9)(M),ne={requestType:"VERIFY_EMAIL",idToken:yield M.getIdToken()};C&&xs(E.auth,ne,C);const{email:Oe}=yield Lr(E.auth,ne);Oe!==M.email&&(yield M.reload())})).apply(this,arguments)}function Xo(M,C,E){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,b.Z)(function*(M,C,E){const P=(0,s.m9)(M),Oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield M.getIdToken(),newEmail:C};E&&xs(P.auth,Oe,E);const{email:Ct}=yield $e(P.auth,Oe);Ct!==M.email&&(yield M.reload())})).apply(this,arguments)}function as(M,C){return Co.apply(this,arguments)}function Co(){return(Co=(0,b.Z)(function*(M,C){return Ot(M,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function $o(M,C){return ea.apply(this,arguments)}function ea(){return(ea=(0,b.Z)(function*(M,{displayName:C,photoURL:E}){if(void 0===C&&void 0===E)return;const P=(0,s.m9)(M),Oe={idToken:yield P.getIdToken(),displayName:C,photoUrl:E,returnSecureToken:!0},Ct=yield pn(P,as(P.auth,Oe));P.displayName=Ct.displayName||null,P.photoURL=Ct.photoUrl||null;const en=P.providerData.find(({providerId:Kn})=>"password"===Kn);en&&(en.displayName=P.displayName,en.photoURL=P.photoURL),yield P._updateTokensIfNecessary(Ct)})).apply(this,arguments)}function _a(M,C){return Sl((0,s.m9)(M),C,null)}function Ma(M,C){return Sl((0,s.m9)(M),null,C)}function Sl(M,C,E){return xa.apply(this,arguments)}function xa(){return(xa=(0,b.Z)(function*(M,C,E){const{auth:P}=M,Oe={idToken:yield M.getIdToken(),returnSecureToken:!0};C&&(Oe.email=C),E&&(Oe.password=E);const Ct=yield pn(M,ui(P,Oe));yield M._updateTokensIfNecessary(Ct,!0)})).apply(this,arguments)}class ta{constructor(C,E,P={}){this.isNewUser=C,this.providerId=E,this.profile=P}}class na extends ta{constructor(C,E,P,ne){super(C,E,P),this.username=ne}}class Yl extends ta{constructor(C,E){super(C,"facebook.com",E)}}class Kl extends na{constructor(C,E){super(C,"github.com",E,"string"==typeof(null==E?void 0:E.login)?null==E?void 0:E.login:null)}}class Ho extends ta{constructor(C,E){super(C,"google.com",E)}}class Ml extends na{constructor(C,E,P){super(C,"twitter.com",E,P)}}function Dc(M){const{user:C,_tokenResponse:E}=M;return C.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function Wa(M){var C,E;if(!M)return null;const{providerId:P}=M,ne=M.rawUserInfo?JSON.parse(M.rawUserInfo):{},Oe=M.isNewUser||"identitytoolkit#SignupNewUserResponse"===M.kind;if(!P&&(null==M?void 0:M.idToken)){const Ct=null===(E=null===(C=ni(M.idToken))||void 0===C?void 0:C.firebase)||void 0===E?void 0:E.sign_in_provider;if(Ct)return new ta(Oe,"anonymous"!==Ct&&"custom"!==Ct?Ct:null)}if(!P)return null;switch(P){case"facebook.com":return new Yl(Oe,ne);case"github.com":return new Kl(Oe,ne);case"google.com":return new Ho(Oe,ne);case"twitter.com":return new Ml(Oe,ne,M.screenName||null);case"custom":case"anonymous":return new ta(Oe,null);default:return new ta(Oe,P,ne)}}(E)}class Na{constructor(C,E){this.type=C,this.credential=E}static _fromIdtoken(C){return new Na("enroll",C)}static _fromMfaPendingCredential(C){return new Na("signin",C)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(C){var E,P;if(null==C?void 0:C.multiFactorSession){if(null===(E=C.multiFactorSession)||void 0===E?void 0:E.pendingCredential)return Na._fromMfaPendingCredential(C.multiFactorSession.pendingCredential);if(null===(P=C.multiFactorSession)||void 0===P?void 0:P.idToken)return Na._fromIdtoken(C.multiFactorSession.idToken)}return null}}class ya{constructor(C,E,P){this.session=C,this.hints=E,this.signInResolver=P}static _fromError(C,E){const P=Yn(C),ne=E.customData._serverResponse,Oe=(ne.mfaInfo||[]).map(en=>Gr._fromServerResponse(P,en));Ae(ne.mfaPendingCredential,P,"internal-error");const Ct=Na._fromMfaPendingCredential(ne.mfaPendingCredential);return new ya(Ct,Oe,function(){var en=(0,b.Z)(function*(Kn){const Ci=yield Kn._process(P,Ct);delete ne.mfaInfo,delete ne.mfaPendingCredential;const Ji=Object.assign(Object.assign({},ne),{idToken:Ci.idToken,refreshToken:Ci.refreshToken});switch(E.operationType){case"signIn":const Rs=yield ar._fromIdTokenResponse(P,E.operationType,Ji);return yield P._updateCurrentUser(Rs.user),Rs;case"reauthenticate":return Ae(E.user,P,"internal-error"),ar._forOperation(E.user,E.operationType,Ji);default:vt(P,"internal-error")}});return function(Kn){return en.apply(this,arguments)}}())}resolveSignIn(C){var E=this;return(0,b.Z)(function*(){return E.signInResolver(C)})()}}function Ra(M,C){var E;const P=(0,s.m9)(M),ne=C;return Ae(C.customData.operationType,P,"argument-error"),Ae(null===(E=ne.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,P,"argument-error"),ya._fromError(P,ne)}function jo(M,C){return Ot(M,"POST","/v2/accounts/mfaEnrollment:start",Ft(M,C))}class Ql{constructor(C){this.user=C,this.enrolledFactors=[],C._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(P=>Gr._fromServerResponse(C.auth,P)))})}static _fromUser(C){return new Ql(C)}getSession(){var C=this;return(0,b.Z)(function*(){return Na._fromIdtoken(yield C.user.getIdToken())})()}enroll(C,E){var P=this;return(0,b.Z)(function*(){const ne=C,Oe=yield P.getSession(),Ct=yield pn(P.user,ne._process(P.user.auth,Oe,E));return yield P.user._updateTokensIfNecessary(Ct),P.user.reload()})()}unenroll(C){var E=this;return(0,b.Z)(function*(){const P="string"==typeof C?C:C.uid,ne=yield E.user.getIdToken(),Oe=yield pn(E.user,function sl(M,C){return Ot(M,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(M,C))}(E.user.auth,{idToken:ne,mfaEnrollmentId:P}));E.enrolledFactors=E.enrolledFactors.filter(({uid:Ct})=>Ct!==P),yield E.user._updateTokensIfNecessary(Oe);try{yield E.user.reload()}catch(Ct){if("auth/user-token-expired"!==Ct.code)throw Ct}})()}}const ia=new WeakMap;function Go(M){const C=(0,s.m9)(M);return ia.has(C)||ia.set(C,Ql._fromUser(C)),ia.get(C)}const Mo="__sak";class ol{constructor(C,E){this.storageRetriever=C,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(Mo,"1"),this.storage.removeItem(Mo),Promise.resolve(!0)):Promise.resolve(!1)}catch(C){return Promise.resolve(!1)}}_set(C,E){return this.storage.setItem(C,JSON.stringify(E)),Promise.resolve()}_get(C){const E=this.storage.getItem(C);return Promise.resolve(E?JSON.parse(E):null)}_remove(C){return this.storage.removeItem(C),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ic=(()=>{class M extends ol{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,P)=>this.onStorageEvent(E,P),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function al(){const M=(0,s.z$)();return ye(M)||Un(M)}()&&function Xi(){try{return!(!window||window===window.top)}catch(M){return!1}}(),this.fallbackToPolling=Hi(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const P of Object.keys(this.listeners)){const ne=this.storage.getItem(P),Oe=this.localCache[P];ne!==Oe&&E(P,Oe,ne)}}onStorageEvent(E,P=!1){if(!E.key)return void this.forAllChangedKeys((en,Kn,Ci)=>{this.notifyListeners(en,Ci)});const ne=E.key;if(P?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const en=this.storage.getItem(ne);if(E.newValue!==en)null!==E.newValue?this.storage.setItem(ne,E.newValue):this.storage.removeItem(ne);else if(this.localCache[ne]===E.newValue&&!P)return}const Oe=()=>{const en=this.storage.getItem(ne);!P&&this.localCache[ne]===en||this.notifyListeners(ne,en)},Ct=this.storage.getItem(ne);!function fi(){return(0,s.w1)()&&10===document.documentMode}()||Ct===E.newValue||E.newValue===E.oldValue?Oe():setTimeout(Oe,10)}notifyListeners(E,P){this.localCache[E]=P;const ne=this.listeners[E];if(ne)for(const Oe of Array.from(ne))Oe(P&&JSON.parse(P))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,P,ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:P,newValue:ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,P){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(P)}_removeListener(E,P){this.listeners[E]&&(this.listeners[E].delete(P),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,P){var ne=()=>super._set,Oe=this;return(0,b.Z)(function*(){yield ne().call(Oe,E,P),Oe.localCache[E]=JSON.stringify(P)})()}_get(E){var P=()=>super._get,ne=this;return(0,b.Z)(function*(){const Oe=yield P().call(ne,E);return ne.localCache[E]=JSON.stringify(Oe),Oe})()}_remove(E){var P=()=>super._remove,ne=this;return(0,b.Z)(function*(){yield P().call(ne,E),delete ne.localCache[E]})()}}return M.type="LOCAL",M})(),ra=(()=>{class M extends ol{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,P){}_removeListener(E,P){}}return M.type="SESSION",M})();let eu=(()=>{class M{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const P=this.receivers.find(Oe=>Oe.isListeningto(E));if(P)return P;const ne=new M(E);return this.receivers.push(ne),ne}isListeningto(E){return this.eventTarget===E}handleEvent(E){var P=this;return(0,b.Z)(function*(){const ne=E,{eventId:Oe,eventType:Ct,data:en}=ne.data,Kn=P.handlersMap[Ct];if(!(null==Kn?void 0:Kn.size))return;ne.ports[0].postMessage({status:"ack",eventId:Oe,eventType:Ct});const Ci=Array.from(Kn).map(function(){var Rs=(0,b.Z)(function*(Bl){return Bl(ne.origin,en)});return function(Bl){return Rs.apply(this,arguments)}}()),Ji=yield function Fu(M){return Promise.all(M.map(function(){var C=(0,b.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(P){return{fulfilled:!1,reason:P}}});return function(E){return C.apply(this,arguments)}}()))}(Ci);ne.ports[0].postMessage({status:"done",eventId:Oe,eventType:Ct,response:Ji})})()}_subscribe(E,P){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(P)}_unsubscribe(E,P){this.handlersMap[E]&&P&&this.handlersMap[E].delete(P),(!P||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return M.receivers=[],M})();function Eo(M="",C=10){let E="";for(let P=0;P<C;P++)E+=Math.floor(10*Math.random());return M+E}class tu{constructor(C){this.target=C,this.handlers=new Set}removeMessageHandler(C){C.messageChannel&&(C.messageChannel.port1.removeEventListener("message",C.onMessage),C.messageChannel.port1.close()),this.handlers.delete(C)}_send(C,E,P=50){var ne=this;return(0,b.Z)(function*(){const Oe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Oe)throw new Error("connection_unavailable");let Ct,en;return new Promise((Kn,Ci)=>{const Ji=Eo("",20);Oe.port1.start();const Rs=setTimeout(()=>{Ci(new Error("unsupported_event"))},P);en={messageChannel:Oe,onMessage(Bl){const ac=Bl;if(ac.data.eventId===Ji)switch(ac.data.status){case"ack":clearTimeout(Rs),Ct=setTimeout(()=>{Ci(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ct),Kn(ac.data.response);break;default:clearTimeout(Rs),clearTimeout(Ct),Ci(new Error("invalid_response"))}}},ne.handlers.add(en),Oe.port1.addEventListener("message",en.onMessage),ne.target.postMessage({eventType:C,eventId:Ji,data:E},[Oe.port2])}).finally(()=>{en&&ne.removeMessageHandler(en)})})()}}function Es(){return window}function Xl(){return void 0!==Es().WorkerGlobalScope&&"function"==typeof Es().importScripts}function ll(){return(ll=(0,b.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(M){return null}})).apply(this,arguments)}const cl="firebaseLocalStorageDb",O="firebaseLocalStorage",S="fbase_key";class F{constructor(C){this.request=C}toPromise(){return new Promise((C,E)=>{this.request.addEventListener("success",()=>{C(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Y(M,C){return M.transaction([O],C?"readwrite":"readonly").objectStore(O)}function we(){const M=indexedDB.open(cl,1);return new Promise((C,E)=>{M.addEventListener("error",()=>{E(M.error)}),M.addEventListener("upgradeneeded",()=>{const P=M.result;try{P.createObjectStore(O,{keyPath:S})}catch(ne){E(ne)}}),M.addEventListener("success",(0,b.Z)(function*(){const P=M.result;P.objectStoreNames.contains(O)?C(P):(P.close(),yield function le(){const M=indexedDB.deleteDatabase(cl);return new F(M).toPromise()}(),C(yield we()))}))})}function pe(M,C,E){return at.apply(this,arguments)}function at(){return(at=(0,b.Z)(function*(M,C,E){const P=Y(M,!0).put({[S]:C,value:E});return new F(P).toPromise()})).apply(this,arguments)}function Bt(){return(Bt=(0,b.Z)(function*(M,C){const E=Y(M,!1).get(C),P=yield new F(E).toPromise();return void 0===P?null:P.value})).apply(this,arguments)}function gt(M,C){const E=Y(M,!0).delete(C);return new F(E).toPromise()}const _r=(()=>{class M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,b.Z)(function*(){return E.db||(E.db=yield we()),E.db})()}_withRetries(E){var P=this;return(0,b.Z)(function*(){let ne=0;for(;;)try{const Oe=yield P._openDb();return yield E(Oe)}catch(Oe){if(ne++>3)throw Oe;P.db&&(P.db.close(),P.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,b.Z)(function*(){return Xl()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,b.Z)(function*(){E.receiver=eu._getInstance(function Xs(){return Xl()?self:null}()),E.receiver._subscribe("keyChanged",function(){var P=(0,b.Z)(function*(ne,Oe){return{keyProcessed:(yield E._poll()).includes(Oe.key)}});return function(ne,Oe){return P.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var P=(0,b.Z)(function*(ne,Oe){return["keyChanged"]});return function(ne,Oe){return P.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,b.Z)(function*(){var P,ne;if(E.activeServiceWorker=yield function Wo(){return ll.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new tu(E.activeServiceWorker);const Oe=yield E.sender._send("ping",{},800);!Oe||(null===(P=Oe[0])||void 0===P?void 0:P.fulfilled)&&(null===(ne=Oe[0])||void 0===ne?void 0:ne.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var P=this;return(0,b.Z)(function*(){if(P.sender&&P.activeServiceWorker&&function ka(){var M;return(null===(M=null==navigator?void 0:navigator.serviceWorker)||void 0===M?void 0:M.controller)||null}()===P.activeServiceWorker)try{yield P.sender._send("keyChanged",{key:E},P.serviceWorkerReceiverAvailable?800:50)}catch(ne){}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const E=yield we();return yield pe(E,Mo,"1"),yield gt(E,Mo),!0}catch(E){}return!1})()}_withPendingWrite(E){var P=this;return(0,b.Z)(function*(){P.pendingWrites++;try{yield E()}finally{P.pendingWrites--}})()}_set(E,P){var ne=this;return(0,b.Z)(function*(){return ne._withPendingWrite((0,b.Z)(function*(){return yield ne._withRetries(Oe=>pe(Oe,E,P)),ne.localCache[E]=P,ne.notifyServiceWorker(E)}))})()}_get(E){var P=this;return(0,b.Z)(function*(){const ne=yield P._withRetries(Oe=>function Tn(M,C){return Bt.apply(this,arguments)}(Oe,E));return P.localCache[E]=ne,ne})()}_remove(E){var P=this;return(0,b.Z)(function*(){return P._withPendingWrite((0,b.Z)(function*(){return yield P._withRetries(ne=>gt(ne,E)),delete P.localCache[E],P.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,b.Z)(function*(){const P=yield E._withRetries(Ct=>{const en=Y(Ct,!1).getAll();return new F(en).toPromise()});if(!P)return[];if(0!==E.pendingWrites)return[];const ne=[],Oe=new Set;for(const{fbase_key:Ct,value:en}of P)Oe.add(Ct),JSON.stringify(E.localCache[Ct])!==JSON.stringify(en)&&(E.notifyListeners(Ct,en),ne.push(Ct));for(const Ct of Object.keys(E.localCache))E.localCache[Ct]&&!Oe.has(Ct)&&(E.notifyListeners(Ct,null),ne.push(Ct));return ne})()}notifyListeners(E,P){this.localCache[E]=P;const ne=this.listeners[E];if(ne)for(const Oe of Array.from(ne))Oe(P)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,P){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(P)}_removeListener(E,P){this.listeners[E]&&(this.listeners[E].delete(P),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return M.type="LOCAL",M})();function Oi(M,C){return Ot(M,"POST","/v2/accounts/mfaSignIn:start",Ft(M,C))}function xl(){return(xl=(0,b.Z)(function*(M){return(yield Ot(M,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yd(M){return new Promise((C,E)=>{const P=document.createElement("script");P.setAttribute("src",M),P.onload=C,P.onerror=ne=>{const Oe=lt("internal-error");Oe.customData=ne,E(Oe)},P.type="text/javascript",P.charset="UTF-8",function Hs(){var M,C;return null!==(C=null===(M=document.getElementsByTagName("head"))||void 0===M?void 0:M[0])&&void 0!==C?C:document}().appendChild(P)})}function nu(M){return`__${M}${Math.floor(1e6*Math.random())}`}const To=1e12;class vi{constructor(C){this.auth=C,this.counter=To,this._widgets=new Map}render(C,E){const P=this.counter;return this._widgets.set(P,new Za(C,this.auth.name,E||{})),this.counter++,P}reset(C){var E;const P=C||To;null===(E=this._widgets.get(P))||void 0===E||E.delete(),this._widgets.delete(P)}getResponse(C){var E;return(null===(E=this._widgets.get(C||To))||void 0===E?void 0:E.getResponse())||""}execute(C){var E=this;return(0,b.Z)(function*(){var P;return null===(P=E._widgets.get(C||To))||void 0===P||P.execute(),""})()}}class Za{constructor(C,E,P){this.params=P,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ne="string"==typeof C?document.getElementById(C):C;Ae(ne,"argument-error",{appName:E}),this.container=ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lu(M){const C=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<M;P++)C.push(E.charAt(Math.floor(Math.random()*E.length)));return C.join("")}(50);const{callback:C,"expired-callback":E}=this.params;if(C)try{C(this.responseToken)}catch(P){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch(P){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zr=nu("rcb"),mi=new Je(3e4,6e4);class Xr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Es().grecaptcha}load(C,E=""){return Ae(function nf(M){return M.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(M)}(E),C,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(Es().grecaptcha):new Promise((P,ne)=>{const Oe=Es().setTimeout(()=>{ne(lt(C,"network-request-failed"))},mi.get());Es()[Zr]=()=>{Es().clearTimeout(Oe),delete Es()[Zr];const en=Es().grecaptcha;if(!en)return void ne(lt(C,"internal-error"));const Kn=en.render;en.render=(Ci,Ji)=>{const Rs=Kn(Ci,Ji);return this.counter++,Rs},this.hostLanguage=E,P(en)},yd(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Zr,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(Oe),ne(lt(C,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(C){return!!Es().grecaptcha&&(C===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bu{load(C){return(0,b.Z)(function*(){return new vi(C)})()}clearedOneInstance(){}}const ir="recaptcha",lr={theme:"light",type:"image"};class Os{constructor(C,E=Object.assign({},lr),P){this.parameters=E,this.type=ir,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(P),this.isInvisible="invisible"===this.parameters.size,Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const ne="string"==typeof C?document.getElementById(C):C;Ae(ne,this.auth,"argument-error"),this.container=ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bu:new Xr,this.validateStartingState()}verify(){var C=this;return(0,b.Z)(function*(){C.assertNotDestroyed();const E=yield C.render(),P=C.getAssertedRecaptcha();return P.getResponse(E)||new Promise(Oe=>{const Ct=en=>{!en||(C.tokenChangeListeners.delete(Ct),Oe(en))};C.tokenChangeListeners.add(Ct),C.isInvisible&&P.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(C){return Promise.reject(C)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(C=>{throw this.renderPromise=null,C})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(C=>{this.container.removeChild(C)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(C){return E=>{if(this.tokenChangeListeners.forEach(P=>P(E)),"function"==typeof C)C(E);else if("string"==typeof C){const P=Es()[C];"function"==typeof P&&P(E)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var C=this;return(0,b.Z)(function*(){if(yield C.init(),!C.widgetId){let E=C.container;if(!C.isInvisible){const P=document.createElement("div");E.appendChild(P),E=P}C.widgetId=C.getAssertedRecaptcha().render(E,C.parameters)}return C.widgetId})()}init(){var C=this;return(0,b.Z)(function*(){Ae(Jt()&&!Xl(),C.auth,"internal-error"),yield function Ol(){let M=null;return new Promise(C=>{"complete"!==document.readyState?(M=()=>C(),window.addEventListener("load",M)):C()}).catch(C=>{throw M&&window.removeEventListener("load",M),C})}(),C.recaptcha=yield C._recaptchaLoader.load(C.auth,C.auth.languageCode||void 0);const E=yield function qa(M){return xl.apply(this,arguments)}(C.auth);Ae(E,C.auth,"internal-error"),C.parameters.sitekey=E})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vd{constructor(C,E){this.verificationId=C,this.onConfirmation=E}confirm(C){const E=Mr._fromVerification(this.verificationId,C);return this.onConfirmation(E)}}function Pr(M,C,E){return iu.apply(this,arguments)}function iu(){return(iu=(0,b.Z)(function*(M,C,E){const P=Yn(M),ne=yield ec(P,C,(0,s.m9)(E));return new vd(ne,Oe=>qt(P,Oe))})).apply(this,arguments)}function yr(M,C,E){return es.apply(this,arguments)}function es(){return(es=(0,b.Z)(function*(M,C,E){const P=(0,s.m9)(M);yield z(!1,P,"phone");const ne=yield ec(P.auth,C,(0,s.m9)(E));return new vd(ne,Oe=>yi(P,Oe))})).apply(this,arguments)}function _s(M,C,E){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,b.Z)(function*(M,C,E){const P=(0,s.m9)(M),ne=yield ec(P.auth,C,(0,s.m9)(E));return new vd(ne,Oe=>Ii(P,Oe))})).apply(this,arguments)}function ec(M,C,E){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,b.Z)(function*(M,C,E){var P;const ne=yield E.verify();try{let Oe;if(Ae("string"==typeof ne,M,"argument-error"),Ae(E.type===ir,M,"argument-error"),Oe="string"==typeof C?{phoneNumber:C}:C,"session"in Oe){const Ct=Oe.session;if("phoneNumber"in Oe)return Ae("enroll"===Ct.type,M,"internal-error"),(yield jo(M,{idToken:Ct.credential,phoneEnrollmentInfo:{phoneNumber:Oe.phoneNumber,recaptchaToken:ne}})).phoneSessionInfo.sessionInfo;{Ae("signin"===Ct.type,M,"internal-error");const en=(null===(P=Oe.multiFactorHint)||void 0===P?void 0:P.uid)||Oe.multiFactorUid;return Ae(en,M,"missing-multi-factor-info"),(yield Oi(M,{mfaPendingCredential:Ct.credential,mfaEnrollmentId:en,phoneSignInInfo:{recaptchaToken:ne}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ct}=yield ut(M,{phoneNumber:Oe.phoneNumber,recaptchaToken:ne});return Ct}}finally{E._reset()}})).apply(this,arguments)}function Ya(M,C){return sa.apply(this,arguments)}function sa(){return(sa=(0,b.Z)(function*(M,C){yield Ms((0,s.m9)(M),C)})).apply(this,arguments)}let oa=(()=>{class M{constructor(E){this.providerId=M.PROVIDER_ID,this.auth=Yn(E)}verifyPhoneNumber(E,P){return ec(this.auth,E,(0,s.m9)(P))}static credential(E,P){return Mr._fromVerification(E,P)}static credentialFromResult(E){return M.credentialFromTaggedObject(E)}static credentialFromError(E){return M.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:P,temporaryProof:ne}=E;return P&&ne?Mr._fromTokenResponse(P,ne):null}}return M.PROVIDER_ID="phone",M.PHONE_SIGN_IN_METHOD="phone",M})();function ao(M,C){return C?De(C):(Ae(M._popupRedirectResolver,M,"argument-error"),M._popupRedirectResolver)}class Ea extends Ar{constructor(C){super("custom","custom"),this.params=C}_getIdTokenResponse(C){return Xn(C,this._buildIdpRequest())}_linkToIdToken(C,E){return Xn(C,this._buildIdpRequest(E))}_getReauthenticationResolver(C){return Xn(C,this._buildIdpRequest())}_buildIdpRequest(C){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return C&&(E.idToken=C),E}}function vn(M){return He(M.auth,new Ea(M),M.bypassAuthState)}function ru(M){const{auth:C,user:E}=M;return Ae(E,C,"internal-error"),G(E,new Ea(M),M.bypassAuthState)}function bd(M){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,b.Z)(function*(M){const{auth:C,user:E}=M;return Ae(E,C,"internal-error"),Ms(E,new Ea(M),M.bypassAuthState)})).apply(this,arguments)}class Fa{constructor(C,E,P,ne,Oe=!1){this.auth=C,this.resolver=P,this.user=ne,this.bypassAuthState=Oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var C=this;return new Promise(function(){var E=(0,b.Z)(function*(P,ne){C.pendingPromise={resolve:P,reject:ne};try{C.eventManager=yield C.resolver._initialize(C.auth),yield C.onExecution(),C.eventManager.registerConsumer(C)}catch(Oe){C.reject(Oe)}});return function(P,ne){return E.apply(this,arguments)}}())}onAuthEvent(C){var E=this;return(0,b.Z)(function*(){const{urlResponse:P,sessionId:ne,postBody:Oe,tenantId:Ct,error:en,type:Kn}=C;if(en)return void E.reject(en);const Ci={auth:E.auth,requestUri:P,sessionId:ne,tenantId:Ct||void 0,postBody:Oe||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Kn)(Ci))}catch(Ji){E.reject(Ji)}})()}onError(C){this.reject(C)}getIdpTask(C){switch(C){case"signInViaPopup":case"signInViaRedirect":return vn;case"linkViaPopup":case"linkViaRedirect":return bd;case"reauthViaPopup":case"reauthViaRedirect":return ru;default:vt(this.auth,"internal-error")}}resolve(C){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(C),this.unregisterAndCleanUp()}reject(C){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(C),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yi=new Je(2e3,1e4);function dl(M,C,E){return hl.apply(this,arguments)}function hl(){return(hl=(0,b.Z)(function*(M,C,E){const P=Yn(M);We(M,C,Br);const ne=ao(P,E);return new La(P,"signInViaPopup",C,ne).executeNotNull()})).apply(this,arguments)}function Nl(M,C,E){return aa.apply(this,arguments)}function aa(){return(aa=(0,b.Z)(function*(M,C,E){const P=(0,s.m9)(M);We(P.auth,C,Br);const ne=ao(P.auth,E);return new La(P.auth,"reauthViaPopup",C,ne,P).executeNotNull()})).apply(this,arguments)}function la(M,C,E){return ca.apply(this,arguments)}function ca(){return(ca=(0,b.Z)(function*(M,C,E){const P=(0,s.m9)(M);We(P.auth,C,Br);const ne=ao(P.auth,E);return new La(P.auth,"linkViaPopup",C,ne,P).executeNotNull()})).apply(this,arguments)}let La=(()=>{class M extends Fa{constructor(E,P,ne,Oe,Ct){super(E,P,Oe,Ct),this.provider=ne,this.authWindow=null,this.pollId=null,M.currentPopupAction&&M.currentPopupAction.cancel(),M.currentPopupAction=this}executeNotNull(){var E=this;return(0,b.Z)(function*(){const P=yield E.execute();return Ae(P,E.auth,"internal-error"),P})()}onExecution(){var E=this;return(0,b.Z)(function*(){Se(1===E.filter.length,"Popup operations only handle one event");const P=Eo();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],P),E.authWindow.associatedEvent=P,E.resolver._originValidation(E.auth).catch(ne=>{E.reject(ne)}),E.resolver._isIframeWebStorageSupported(E.auth,ne=>{ne||E.reject(lt(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,M.currentPopupAction=null}pollUserCancellation(){const E=()=>{var P,ne;this.pollId=(null===(ne=null===(P=this.authWindow)||void 0===P?void 0:P.window)||void 0===ne?void 0:ne.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(lt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,Yi.get())};E()}}return M.currentPopupAction=null,M})();const su=new Map;class Oo extends Fa{constructor(C,E,P=!1){super(C,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,P),this.eventId=null}execute(){var C=()=>super.execute,E=this;return(0,b.Z)(function*(){let P=su.get(E.auth._key());if(!P){try{const Oe=(yield function tc(M,C){return Yr.apply(this,arguments)}(E.resolver,E.auth))?yield C().call(E):null;P=()=>Promise.resolve(Oe)}catch(ne){P=()=>Promise.reject(ne)}su.set(E.auth._key(),P)}return E.bypassAuthState||su.set(E.auth._key(),()=>Promise.resolve(null)),P()})()}onAuthEvent(C){var E=()=>super.onAuthEvent,P=this;return(0,b.Z)(function*(){if("signInViaRedirect"===C.type)return E().call(P,C);if("unknown"!==C.type){if(C.eventId){const ne=yield P.auth._redirectUserForId(C.eventId);if(ne)return P.user=ne,E().call(P,C);P.resolve(null)}}else P.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function Yr(){return(Yr=(0,b.Z)(function*(M,C){const E=$(C),P=Ja(M);if(!(yield P._isAvailable()))return!1;const ne="true"===(yield P._get(E));return yield P._remove(E),ne})).apply(this,arguments)}function ou(M,C){return nc.apply(this,arguments)}function nc(){return(nc=(0,b.Z)(function*(M,C){return Ja(M)._set($(C),"true")})).apply(this,arguments)}function Ac(){su.clear()}function Ja(M){return De(M._redirectPersistence)}function $(M){return Xe("pendingRedirect",M.config.apiKey,M.name)}function W(M,C,E){return function te(M,C,E){return Ge.apply(this,arguments)}(M,C,E)}function Ge(){return(Ge=(0,b.Z)(function*(M,C,E){const P=Yn(M);We(M,C,Br);const ne=ao(P,E);return yield ou(ne,P),ne._openRedirect(P,C,"signInViaRedirect")})).apply(this,arguments)}function wt(M,C,E){return function Nt(M,C,E){return an.apply(this,arguments)}(M,C,E)}function an(){return(an=(0,b.Z)(function*(M,C,E){const P=(0,s.m9)(M);We(P.auth,C,Br);const ne=ao(P.auth,E);yield ou(ne,P.auth);const Oe=yield qo(P);return ne._openRedirect(P.auth,C,"reauthViaRedirect",Oe)})).apply(this,arguments)}function On(M,C,E){return function qn(M,C,E){return _i.apply(this,arguments)}(M,C,E)}function _i(){return(_i=(0,b.Z)(function*(M,C,E){const P=(0,s.m9)(M);We(P.auth,C,Br);const ne=ao(P.auth,E);yield z(!1,P,C.providerId),yield ou(ne,P.auth);const Oe=yield qo(P);return ne._openRedirect(P.auth,C,"linkViaRedirect",Oe)})).apply(this,arguments)}function Ki(M,C){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,b.Z)(function*(M,C){return yield Yn(M)._initializationPromise,Ts(M,C,!1)})).apply(this,arguments)}function Ts(M,C){return js.apply(this,arguments)}function js(){return(js=(0,b.Z)(function*(M,C,E=!1){const P=Yn(M),ne=ao(P,C),Ct=yield new Oo(P,ne,E).execute();return Ct&&!E&&(delete Ct.user._redirectEventId,yield P._persistUserIfCurrent(Ct.user),yield P._setRedirectUser(null,C)),Ct})).apply(this,arguments)}function qo(M){return au.apply(this,arguments)}function au(){return(au=(0,b.Z)(function*(M){const C=Eo(`${M.uid}:::`);return M._redirectEventId=C,yield M.auth._setRedirectUser(M),yield M.auth._persistUserIfCurrent(M),C})).apply(this,arguments)}class No{constructor(C){this.auth=C,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(C){this.consumers.add(C),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,C)&&(this.sendToConsumer(this.queuedRedirectEvent,C),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(C){this.consumers.delete(C)}onEvent(C){if(this.hasEventBeenHandled(C))return!1;let E=!1;return this.consumers.forEach(P=>{this.isEventForConsumer(C,P)&&(E=!0,this.sendToConsumer(C,P),this.saveEventToCache(C))}),this.hasHandledPotentialRedirect||!function rh(M){switch(M.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rl(M);default:return!1}}(C)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=C,E=!0)),E}sendToConsumer(C,E){var P;if(C.error&&!Rl(C)){const ne=(null===(P=C.error.code)||void 0===P?void 0:P.split("auth/")[1])||"internal-error";E.onError(lt(this.auth,ne))}else E.onAuthEvent(C)}isEventForConsumer(C,E){const P=null===E.eventId||!!C.eventId&&C.eventId===E.eventId;return E.filter.includes(C.type)&&P}hasEventBeenHandled(C){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ua(C))}saveEventToCache(C){this.cachedEventUids.add(ua(C)),this.lastProcessedEventTime=Date.now()}}function ua(M){return[M.type,M.eventId,M.sessionId,M.tenantId].filter(C=>C).join("-")}function Rl({type:M,error:C}){return"unknown"===M&&"auth/no-auth-event"===(null==C?void 0:C.code)}function fo(M){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,b.Z)(function*(M,C={}){return Ot(M,"GET","/v1/projects",C)})).apply(this,arguments)}const Cd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rf=/^https?/;function sf(){return(sf=(0,b.Z)(function*(M){if(M.config.emulator)return;const{authorizedDomains:C}=yield fo(M);for(const E of C)try{if(ic(E))return}catch(P){}vt(M,"unauthorized-domain")})).apply(this,arguments)}function ic(M){const C=tt(),{protocol:E,hostname:P}=new URL(C);if(M.startsWith("chrome-extension://")){const Ct=new URL(M);return""===Ct.hostname&&""===P?"chrome-extension:"===E&&M.replace("chrome-extension://","")===C.replace("chrome-extension://",""):"chrome-extension:"===E&&Ct.hostname===P}if(!rf.test(E))return!1;if(Cd.test(M))return P===M;const ne=M.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(P)}const Pl=new Je(3e4,6e4);function sh(){const M=Es().___jsl;if(null==M?void 0:M.H)for(const C of Object.keys(M.H))if(M.H[C].r=M.H[C].r||[],M.H[C].L=M.H[C].L||[],M.H[C].r=[...M.H[C].L],M.CP)for(let E=0;E<M.CP.length;E++)M.CP[E]=null}let kl=null;function Zg(M){return kl=kl||function rc(M){return new Promise((C,E)=>{var P,ne,Oe;function Ct(){sh(),gapi.load("gapi.iframes",{callback:()=>{C(gapi.iframes.getContext())},ontimeout:()=>{sh(),E(lt(M,"network-request-failed"))},timeout:Pl.get()})}if(null===(ne=null===(P=Es().gapi)||void 0===P?void 0:P.iframes)||void 0===ne?void 0:ne.Iframe)C(gapi.iframes.getContext());else{if(!(null===(Oe=Es().gapi)||void 0===Oe?void 0:Oe.load)){const en=nu("iframefcb");return Es()[en]=()=>{gapi.load?Ct():E(lt(M,"network-request-failed"))},yd(`https://apis.google.com/js/api.js?onload=${en}`).catch(Kn=>E(Kn))}Ct()}}).catch(C=>{throw kl=null,C})}(M),kl}const hp=new Je(5e3,15e3),pp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mc(M){const C=M.config;Ae(C.authDomain,M,"auth-domain-config-required");const E=C.emulator?Et(C,"emulator/auth/iframe"):`https://${M.config.authDomain}/__/auth/iframe`,P={apiKey:C.apiKey,appName:M.name,v:Q.SDK_VERSION},ne=lo.get(M.config.apiHost);ne&&(P.eid=ne);const Oe=M._getFrameworks();return Oe.length&&(P.fw=Oe.join(",")),`${E}?${(0,s.xO)(P).slice(1)}`}function lu(){return lu=(0,b.Z)(function*(M){const C=yield Zg(M),E=Es().gapi;return Ae(E,M,"internal-error"),C.open({where:document.body,url:Mc(M),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pp,dontclear:!0},P=>new Promise(function(){var ne=(0,b.Z)(function*(Oe,Ct){yield P.restyle({setHideOnLeave:!1});const en=lt(M,"network-request-failed"),Kn=Es().setTimeout(()=>{Ct(en)},hp.get());function Ci(){Es().clearTimeout(Kn),Oe(P)}P.ping(Ci).then(Ci,()=>{Ct(en)})});return function(Oe,Ct){return ne.apply(this,arguments)}}()))}),lu.apply(this,arguments)}const Vu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cu{constructor(C){this.window=C,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(C){}}}function uu(M,C,E,P,ne,Oe){Ae(M.config.authDomain,M,"auth-domain-config-required"),Ae(M.config.apiKey,M,"invalid-api-key");const Ct={apiKey:M.config.apiKey,appName:M.name,authType:E,redirectUrl:P,v:Q.SDK_VERSION,eventId:ne};if(C instanceof Br){C.setDefaultLanguage(M.languageCode),Ct.providerId=C.providerId||"",(0,s.xb)(C.getCustomParameters())||(Ct.customParameters=JSON.stringify(C.getCustomParameters()));for(const[Kn,Ci]of Object.entries(Oe||{}))Ct[Kn]=Ci}if(C instanceof So){const Kn=C.getScopes().filter(Ci=>""!==Ci);Kn.length>0&&(Ct.scopes=Kn.join(","))}M.tenantId&&(Ct.tid=M.tenantId);const en=Ct;for(const Kn of Object.keys(en))void 0===en[Kn]&&delete en[Kn];return`${function Td({config:M}){return M.emulator?Et(M,"emulator/auth/handler"):`https://${M.authDomain}/__/auth/handler`}(M)}?${(0,s.xO)(en).slice(1)}`}const wd="webStorageSupport",Ba=class Qa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ra,this._completeRedirectFn=Ts}_openPopup(C,E,P,ne){var Oe=this;return(0,b.Z)(function*(){var Ct;Se(null===(Ct=Oe.eventManagers[C._key()])||void 0===Ct?void 0:Ct.manager,"_initialize() not called before _openPopup()");const en=uu(C,E,P,tt(),ne);return function af(M,C,E,P=500,ne=600){const Oe=Math.max((window.screen.availHeight-ne)/2,0).toString(),Ct=Math.max((window.screen.availWidth-P)/2,0).toString();let en="";const Kn=Object.assign(Object.assign({},Vu),{width:P.toString(),height:ne.toString(),top:Oe,left:Ct}),Ci=(0,s.z$)().toLowerCase();E&&(en=St(Ci)?"_blank":E),Me(Ci)&&(C=C||"http://localhost",Kn.scrollbars="yes");const Ji=Object.entries(Kn).reduce((Bl,[ac,pl])=>`${Bl}${ac}=${pl},`,"");if(function Mi(M=(0,s.z$)()){var C;return Un(M)&&!!(null===(C=window.navigator)||void 0===C?void 0:C.standalone)}(Ci)&&"_self"!==en)return function xc(M,C){const E=document.createElement("a");E.href=M,E.target=C;const P=document.createEvent("MouseEvent");P.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(P)}(C||"",en),new cu(null);const Rs=window.open(C||"",en,Ji);Ae(Rs,M,"popup-blocked");try{Rs.focus()}catch(Bl){}return new cu(Rs)}(C,en,Eo())})()}_openRedirect(C,E,P,ne){var Oe=this;return(0,b.Z)(function*(){return yield Oe._originValidation(C),function ba(M){Es().location.href=M}(uu(C,E,P,tt(),ne)),new Promise(()=>{})})()}_initialize(C){const E=C._key();if(this.eventManagers[E]){const{manager:ne,promise:Oe}=this.eventManagers[E];return ne?Promise.resolve(ne):(Se(Oe,"If manager is not set, promise should be"),Oe)}const P=this.initAndGetManager(C);return this.eventManagers[E]={promise:P},P.catch(()=>{delete this.eventManagers[E]}),P}initAndGetManager(C){var E=this;return(0,b.Z)(function*(){const P=yield function fl(M){return lu.apply(this,arguments)}(C),ne=new No(C);return P.register("authEvent",Oe=>(Ae(null==Oe?void 0:Oe.authEvent,C,"invalid-auth-event"),{status:ne.onEvent(Oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[C._key()]={manager:ne},E.iframes[C._key()]=P,ne})()}_isIframeWebStorageSupported(C,E){this.iframes[C._key()].send(wd,{type:wd},ne=>{var Oe;const Ct=null===(Oe=null==ne?void 0:ne[0])||void 0===Oe?void 0:Oe[wd];void 0!==Ct&&E(!!Ct),vt(C,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(C){const E=C._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function Ed(M){return sf.apply(this,arguments)}(C)),this.originValidationPromises[E]}get _shouldInitProactively(){return Hi()||ye()||Un()}};class mp extends class Hu{constructor(C){this.factorId=C}_process(C,E,P){switch(E.type){case"enroll":return this._finalizeEnroll(C,E.credential,P);case"signin":return this._finalizeSignIn(C,E.credential);default:return Ke("unexpected MultiFactorSessionType")}}}{constructor(C){super("phone"),this.credential=C}static _fromCredential(C){return new mp(C)}_finalizeEnroll(C,E,P){return function hs(M,C){return Ot(M,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(M,C))}(C,{idToken:E,displayName:P,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(C,E){return function oo(M,C){return Ot(M,"POST","/v2/accounts/mfaSignIn:finalize",Ft(M,C))}(C,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ys=(()=>{class M{constructor(){}static assertion(E){return mp._fromCredential(E)}}return M.FACTOR_ID="phone",M})();var Xa="@firebase/auth",Ll="0.19.12";class Oc{constructor(C){this.auth=C,this.internalListeners=new Map}getUid(){var C;return this.assertAuthConfigured(),(null===(C=this.auth.currentUser)||void 0===C?void 0:C.uid)||null}getToken(C){var E=this;return(0,b.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(C)}:null})()}addAuthTokenListener(C){if(this.assertAuthConfigured(),this.internalListeners.has(C))return;const E=this.auth.onIdTokenChanged(P=>{var ne;C((null===(ne=P)||void 0===ne?void 0:ne.stsTokenManager.accessToken)||null)});this.internalListeners.set(C,E),this.updateProactiveRefresh()}removeAuthTokenListener(C){this.assertAuthConfigured();const E=this.internalListeners.get(C);!E||(this.internalListeners.delete(C),E(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Nc(M=(0,Q.getApp)()){const C=(0,Q._getProvider)(M,"auth");return C.isInitialized()?C.getImmediate():function Re(M,C){const E=(0,Q._getProvider)(M,"auth");if(E.isInitialized()){const ne=E.getImmediate(),Oe=E.getOptions();if((0,s.vZ)(Oe,null!=C?C:{}))return ne;vt(ne,"already-initialized")}return E.initialize({options:C})}(M,{popupRedirectResolver:Ba,persistence:[_r,Ic,ra]})}!function oc(M){(0,Q._registerComponent)(new ae.wA("auth",(C,{options:E})=>{const P=C.getProvider("app").getImmediate(),ne=C.getProvider("heartbeat"),{apiKey:Oe,authDomain:Ct}=P.options;return((en,Kn)=>{Ae(Oe&&!Oe.includes(":"),"invalid-api-key",{appName:en.name}),Ae(!(null==Ct?void 0:Ct.includes(":")),"argument-error",{appName:en.name});const Ci={apiKey:Oe,authDomain:Ct,clientPlatform:M,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qi(M)},Ji=new Jr(en,Kn,Ci);return function rt(M,C){const E=(null==C?void 0:C.persistence)||[],P=(Array.isArray(E)?E:[E]).map(De);(null==C?void 0:C.errorMap)&&M._updateErrorMap(C.errorMap),M._initializeWithPersistence(P,null==C?void 0:C.popupRedirectResolver)}(Ji,E),Ji})(P,ne)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((C,E,P)=>{C.getProvider("auth-internal").initialize()})),(0,Q._registerComponent)(new ae.wA("auth-internal",C=>{const E=Yn(C.getProvider("auth").getImmediate());return new Oc(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Q.registerVersion)(Xa,Ll,function oh(M){switch(M){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(M)),(0,Q.registerVersion)(Xa,Ll,"esm2017")}("Browser")},2090:(nn,ht,L)=>{"use strict";L.d(ht,{$s:()=>Fi,BH:()=>je,DV:()=>Cn,Dv:()=>sr,G6:()=>Ke,GJ:()=>Ft,L:()=>Ze,LL:()=>Jt,Lj:()=>Bn,Mn:()=>Ye,Pz:()=>Je,Sg:()=>it,UG:()=>fe,UI:()=>$n,US:()=>ge,Wj:()=>Nr,X3:()=>ln,Yr:()=>Ae,ZB:()=>Be,ZR:()=>tt,b$:()=>lt,cI:()=>nt,d:()=>Qe,dS:()=>ni,eu:()=>ke,g5:()=>Ce,gK:()=>zi,gQ:()=>gi,h$:()=>Pe,hl:()=>Se,hu:()=>Q,jU:()=>_e,lb:()=>cr,m9:()=>Ln,ne:()=>bn,p$:()=>de,pd:()=>ki,r3:()=>Ot,ru:()=>vt,tV:()=>Ne,uI:()=>Ve,ug:()=>hn,vZ:()=>Zn,w1:()=>We,w9:()=>_t,xO:()=>ai,xb:()=>ti,z$:()=>Le,zI:()=>De,zd:()=>jn});var b=L(5861);const Q=function(qe,ve){if(!qe)throw Ce(ve)},Ce=function(qe){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+qe)},Ie=function(qe){const ve=[];let Xe=0;for(let Tt=0;Tt<qe.length;Tt++){let ue=qe.charCodeAt(Tt);ue<128?ve[Xe++]=ue:ue<2048?(ve[Xe++]=ue>>6|192,ve[Xe++]=63&ue|128):55296==(64512&ue)&&Tt+1<qe.length&&56320==(64512&qe.charCodeAt(Tt+1))?(ue=65536+((1023&ue)<<10)+(1023&qe.charCodeAt(++Tt)),ve[Xe++]=ue>>18|240,ve[Xe++]=ue>>12&63|128,ve[Xe++]=ue>>6&63|128,ve[Xe++]=63&ue|128):(ve[Xe++]=ue>>12|224,ve[Xe++]=ue>>6&63|128,ve[Xe++]=63&ue|128)}return ve},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(qe,ve){if(!Array.isArray(qe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Xe=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,Tt=[];for(let ue=0;ue<qe.length;ue+=3){const Me=qe[ue],ye=ue+1<qe.length,St=ye?qe[ue+1]:0,Xt=ue+2<qe.length,un=Xt?qe[ue+2]:0;let Un=(15&St)<<2|un>>6,Qi=63&un;Xt||(Qi=64,ye||(Un=64)),Tt.push(Xe[Me>>2],Xe[(3&Me)<<4|St>>4],Xe[Un],Xe[Qi])}return Tt.join("")},encodeString(qe,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(qe):this.encodeByteArray(Ie(qe),ve)},decodeString(qe,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(qe):function(qe){const ve=[];let Xe=0,Tt=0;for(;Xe<qe.length;){const ue=qe[Xe++];if(ue<128)ve[Tt++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const Me=qe[Xe++];ve[Tt++]=String.fromCharCode((31&ue)<<6|63&Me)}else if(ue>239&&ue<365){const Xt=((7&ue)<<18|(63&qe[Xe++])<<12|(63&qe[Xe++])<<6|63&qe[Xe++])-65536;ve[Tt++]=String.fromCharCode(55296+(Xt>>10)),ve[Tt++]=String.fromCharCode(56320+(1023&Xt))}else{const Me=qe[Xe++],ye=qe[Xe++];ve[Tt++]=String.fromCharCode((15&ue)<<12|(63&Me)<<6|63&ye)}}return ve.join("")}(this.decodeStringToByteArray(qe,ve))},decodeStringToByteArray(qe,ve){this.init_();const Xe=ve?this.charToByteMapWebSafe_:this.charToByteMap_,Tt=[];for(let ue=0;ue<qe.length;){const Me=Xe[qe.charAt(ue++)],St=ue<qe.length?Xe[qe.charAt(ue)]:0;++ue;const un=ue<qe.length?Xe[qe.charAt(ue)]:64;++ue;const sn=ue<qe.length?Xe[qe.charAt(ue)]:64;if(++ue,null==Me||null==St||null==un||null==sn)throw Error();Tt.push(Me<<2|St>>4),64!==un&&(Tt.push(St<<4&240|un>>2),64!==sn&&Tt.push(un<<6&192|sn))}return Tt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let qe=0;qe<this.ENCODED_VALS.length;qe++)this.byteToCharMap_[qe]=this.ENCODED_VALS.charAt(qe),this.charToByteMap_[this.byteToCharMap_[qe]]=qe,this.byteToCharMapWebSafe_[qe]=this.ENCODED_VALS_WEBSAFE.charAt(qe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[qe]]=qe,qe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(qe)]=qe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(qe)]=qe)}}},Pe=function(qe){const ve=Ie(qe);return ge.encodeByteArray(ve,!0)},Ze=function(qe){return Pe(qe).replace(/\./g,"")},Ne=function(qe){try{return ge.decodeString(qe,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function de(qe){return Be(void 0,qe)}function Be(qe,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===qe&&(qe={});break;case Array:qe=[];break;default:return ve}for(const Xe in ve)!ve.hasOwnProperty(Xe)||!Te(Xe)||(qe[Xe]=Be(qe[Xe],ve[Xe]));return qe}function Te(qe){return"__proto__"!==qe}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,Xe)=>{this.resolve=ve,this.reject=Xe})}wrapCallback(ve){return(Xe,Tt)=>{Xe?this.reject(Xe):this.resolve(Tt),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(Xe):ve(Xe,Tt))}}}function it(qe,ve){if(qe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Tt=ve||"demo-project",ue=qe.iat||0,Me=qe.sub||qe.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ye=Object.assign({iss:`https://securetoken.google.com/${Tt}`,aud:Tt,iat:ue,exp:ue+3600,auth_time:ue,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},qe);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(ye)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(qe){return!1}}function _e(){return"object"==typeof self&&self.self===self}function vt(){const qe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof qe&&void 0!==qe.id}function lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){return Le().indexOf("Electron/")>=0}function We(){const qe=Le();return qe.indexOf("MSIE ")>=0||qe.indexOf("Trident/")>=0}function Ye(){return Le().indexOf("MSAppHost/")>=0}function Ae(){return!1}function Ke(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){return"object"==typeof indexedDB}function ke(){return new Promise((qe,ve)=>{try{let Xe=!0;const Tt="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(Tt);ue.onsuccess=()=>{ue.result.close(),Xe||self.indexedDB.deleteDatabase(Tt),qe(!0)},ue.onupgradeneeded=()=>{Xe=!1},ue.onerror=()=>{var Me;ve((null===(Me=ue.error)||void 0===Me?void 0:Me.message)||"")}}catch(Xe){ve(Xe)}})}function De(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class tt extends Error{constructor(ve,Xe,Tt){super(Xe),this.code=ve,this.customData=Tt,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jt.prototype.create)}}class Jt{constructor(ve,Xe,Tt){this.service=ve,this.serviceName=Xe,this.errors=Tt}create(ve,...Xe){const Tt=Xe[0]||{},ue=`${this.service}/${ve}`,Me=this.errors[ve],ye=Me?function Gt(qe,ve){return qe.replace(mt,(Xe,Tt)=>{const ue=ve[Tt];return null!=ue?String(ue):`<${Tt}?>`})}(Me,Tt):"Error";return new tt(ue,`${this.serviceName}: ${ye} (${ue}).`,Tt)}}const mt=/\{\$([^}]+)}/g;function nt(qe){return JSON.parse(qe)}function Je(qe){return JSON.stringify(qe)}const Et=function(qe){let ve={},Xe={},Tt={},ue="";try{const Me=qe.split(".");ve=nt(Ne(Me[0])||""),Xe=nt(Ne(Me[1])||""),ue=Me[2],Tt=Xe.d||{},delete Xe.d}catch(Me){}return{header:ve,claims:Xe,data:Tt,signature:ue}},_t=function(qe){const Xe=Et(qe).claims;return!!Xe&&"object"==typeof Xe&&Xe.hasOwnProperty("iat")},Ft=function(qe){const ve=Et(qe).claims;return"object"==typeof ve&&!0===ve.admin};function Ot(qe,ve){return Object.prototype.hasOwnProperty.call(qe,ve)}function Cn(qe,ve){if(Object.prototype.hasOwnProperty.call(qe,ve))return qe[ve]}function ti(qe){for(const ve in qe)if(Object.prototype.hasOwnProperty.call(qe,ve))return!1;return!0}function $n(qe,ve,Xe){const Tt={};for(const ue in qe)Object.prototype.hasOwnProperty.call(qe,ue)&&(Tt[ue]=ve.call(Xe,qe[ue],ue,qe));return Tt}function Zn(qe,ve){if(qe===ve)return!0;const Xe=Object.keys(qe),Tt=Object.keys(ve);for(const ue of Xe){if(!Tt.includes(ue))return!1;const Me=qe[ue],ye=ve[ue];if(Hn(Me)&&Hn(ye)){if(!Zn(Me,ye))return!1}else if(Me!==ye)return!1}for(const ue of Tt)if(!Xe.includes(ue))return!1;return!0}function Hn(qe){return null!==qe&&"object"==typeof qe}function ai(qe){const ve=[];for(const[Xe,Tt]of Object.entries(qe))Array.isArray(Tt)?Tt.forEach(ue=>{ve.push(encodeURIComponent(Xe)+"="+encodeURIComponent(ue))}):ve.push(encodeURIComponent(Xe)+"="+encodeURIComponent(Tt));return ve.length?"&"+ve.join("&"):""}function jn(qe){const ve={};return qe.replace(/^\?/,"").split("&").forEach(Tt=>{if(Tt){const[ue,Me]=Tt.split("=");ve[decodeURIComponent(ue)]=decodeURIComponent(Me)}}),ve}function ki(qe){const ve=qe.indexOf("?");if(!ve)return"";const Xe=qe.indexOf("#",ve);return qe.substring(ve,Xe>0?Xe:void 0)}class gi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ve=1;ve<this.blockSize;++ve)this.pad_[ve]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ve,Xe){Xe||(Xe=0);const Tt=this.W_;if("string"==typeof ve)for(let sn=0;sn<16;sn++)Tt[sn]=ve.charCodeAt(Xe)<<24|ve.charCodeAt(Xe+1)<<16|ve.charCodeAt(Xe+2)<<8|ve.charCodeAt(Xe+3),Xe+=4;else for(let sn=0;sn<16;sn++)Tt[sn]=ve[Xe]<<24|ve[Xe+1]<<16|ve[Xe+2]<<8|ve[Xe+3],Xe+=4;for(let sn=16;sn<80;sn++){const Un=Tt[sn-3]^Tt[sn-8]^Tt[sn-14]^Tt[sn-16];Tt[sn]=4294967295&(Un<<1|Un>>>31)}let un,En,ue=this.chain_[0],Me=this.chain_[1],ye=this.chain_[2],St=this.chain_[3],Xt=this.chain_[4];for(let sn=0;sn<80;sn++){sn<40?sn<20?(un=St^Me&(ye^St),En=1518500249):(un=Me^ye^St,En=1859775393):sn<60?(un=Me&ye|St&(Me|ye),En=2400959708):(un=Me^ye^St,En=3395469782);const Un=(ue<<5|ue>>>27)+un+Xt+En+Tt[sn]&4294967295;Xt=St,St=ye,ye=4294967295&(Me<<30|Me>>>2),Me=ue,ue=Un}this.chain_[0]=this.chain_[0]+ue&4294967295,this.chain_[1]=this.chain_[1]+Me&4294967295,this.chain_[2]=this.chain_[2]+ye&4294967295,this.chain_[3]=this.chain_[3]+St&4294967295,this.chain_[4]=this.chain_[4]+Xt&4294967295}update(ve,Xe){if(null==ve)return;void 0===Xe&&(Xe=ve.length);const Tt=Xe-this.blockSize;let ue=0;const Me=this.buf_;let ye=this.inbuf_;for(;ue<Xe;){if(0===ye)for(;ue<=Tt;)this.compress_(ve,ue),ue+=this.blockSize;if("string"==typeof ve){for(;ue<Xe;)if(Me[ye]=ve.charCodeAt(ue),++ye,++ue,ye===this.blockSize){this.compress_(Me),ye=0;break}}else for(;ue<Xe;)if(Me[ye]=ve[ue],++ye,++ue,ye===this.blockSize){this.compress_(Me),ye=0;break}}this.inbuf_=ye,this.total_+=Xe}digest(){const ve=[];let Xe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ue=this.blockSize-1;ue>=56;ue--)this.buf_[ue]=255&Xe,Xe/=256;this.compress_(this.buf_);let Tt=0;for(let ue=0;ue<5;ue++)for(let Me=24;Me>=0;Me-=8)ve[Tt]=this.chain_[ue]>>Me&255,++Tt;return ve}}function bn(qe,ve){const Xe=new Qn(qe,ve);return Xe.subscribe.bind(Xe)}class Qn{constructor(ve,Xe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Xe,this.task.then(()=>{ve(this)}).catch(Tt=>{this.error(Tt)})}next(ve){this.forEachObserver(Xe=>{Xe.next(ve)})}error(ve){this.forEachObserver(Xe=>{Xe.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,Xe,Tt){let ue;if(void 0===ve&&void 0===Xe&&void 0===Tt)throw new Error("Missing Observer.");ue=function Kt(qe,ve){if("object"!=typeof qe||null===qe)return!1;for(const Xe of ve)if(Xe in qe&&"function"==typeof qe[Xe])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:Xe,complete:Tt},void 0===ue.next&&(ue.next=Di),void 0===ue.error&&(ue.error=Di),void 0===ue.complete&&(ue.complete=Di);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch(ye){}}),this.observers.push(ue),Me}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let Xe=0;Xe<this.observers.length;Xe++)this.sendOne(Xe,ve)}sendOne(ve,Xe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{Xe(this.observers[ve])}catch(Tt){"undefined"!=typeof console&&console.error&&console.error(Tt)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Di(){}const sr=function(qe,ve,Xe,Tt){let ue;if(Tt<ve?ue="at least "+ve:Tt>Xe&&(ue=0===Xe?"none":"no more than "+Xe),ue)throw new Error(qe+" failed: Was called with "+Tt+(1===Tt?" argument.":" arguments.")+" Expects "+ue+".")};function zi(qe,ve){return`${qe} failed: ${ve} argument `}function Nr(qe,ve,Xe,Tt){if((!Tt||Xe)&&"function"!=typeof Xe)throw new Error(zi(qe,ve)+"must be a valid function.")}function cr(qe,ve,Xe,Tt){if((!Tt||Xe)&&("object"!=typeof Xe||null===Xe))throw new Error(zi(qe,ve)+"must be a valid context object.")}const ni=function(qe){const ve=[];let Xe=0;for(let Tt=0;Tt<qe.length;Tt++){let ue=qe.charCodeAt(Tt);if(ue>=55296&&ue<=56319){const Me=ue-55296;Tt++,Q(Tt<qe.length,"Surrogate pair missing trail surrogate."),ue=65536+(Me<<10)+(qe.charCodeAt(Tt)-56320)}ue<128?ve[Xe++]=ue:ue<2048?(ve[Xe++]=ue>>6|192,ve[Xe++]=63&ue|128):ue<65536?(ve[Xe++]=ue>>12|224,ve[Xe++]=ue>>6&63|128,ve[Xe++]=63&ue|128):(ve[Xe++]=ue>>18|240,ve[Xe++]=ue>>12&63|128,ve[Xe++]=ue>>6&63|128,ve[Xe++]=63&ue|128)}return ve},hn=function(qe){let ve=0;for(let Xe=0;Xe<qe.length;Xe++){const Tt=qe.charCodeAt(Xe);Tt<128?ve++:Tt<2048?ve+=2:Tt>=55296&&Tt<=56319?(ve+=4,Xe++):ve+=3}return ve};function Fi(qe,ve=1e3,Xe=2){const Tt=ve*Math.pow(Xe,qe),ue=Math.round(.5*Tt*(Math.random()-.5)*2);return Math.min(144e5,Tt+ue)}function Ln(qe){return qe&&qe._delegate?qe._delegate:qe}function or(qe,ve){return new Promise((Xe,Tt)=>{qe.onsuccess=ue=>{Xe(ue.target.result)},qe.onerror=ue=>{var Me;Tt(`${ve}: ${null===(Me=ue.target.error)||void 0===Me?void 0:Me.message}`)}})}class ci{constructor(ve){this._db=ve,this.objectStoreNames=this._db.objectStoreNames}transaction(ve,Xe="readonly"){return new cn(this._db.transaction.call(this._db,ve,Xe))}createObjectStore(ve,Xe){return new zt(this._db.createObjectStore(ve,Xe))}close(){this._db.close()}}class cn{constructor(ve){this._transaction=ve,this.complete=new Promise((Xe,Tt)=>{this._transaction.oncomplete=function(){Xe()},this._transaction.onerror=()=>{Tt(this._transaction.error)},this._transaction.onabort=()=>{Tt(this._transaction.error)}})}objectStore(ve){return new zt(this._transaction.objectStore(ve))}}class zt{constructor(ve){this._store=ve}index(ve){return new mn(this._store.index(ve))}createIndex(ve,Xe,Tt){return new mn(this._store.createIndex(ve,Xe,Tt))}get(ve){return or(this._store.get(ve),"Error reading from IndexedDB")}put(ve,Xe){return or(this._store.put(ve,Xe),"Error writing to IndexedDB")}delete(ve){return or(this._store.delete(ve),"Error deleting from IndexedDB")}clear(){return or(this._store.clear(),"Error clearing IndexedDB object store")}}class mn{constructor(ve){this._index=ve}get(ve){return or(this._index.get(ve),"Error reading from IndexedDB")}}function ln(qe,ve,Xe){return new Promise((Tt,ue)=>{try{const Me=indexedDB.open(qe,ve);Me.onsuccess=ye=>{Tt(new ci(ye.target.result))},Me.onerror=ye=>{var St;ue(`Error opening indexedDB: ${null===(St=ye.target.error)||void 0===St?void 0:St.message}`)},Me.onupgradeneeded=ye=>{Xe(new ci(Me.result),ye.oldVersion,ye.newVersion,new cn(Me.transaction))}}catch(Me){ue(`Error opening indexedDB: ${Me.message}`)}})}function Bn(qe){return zn.apply(this,arguments)}function zn(){return(zn=(0,b.Z)(function*(qe){return new Promise((ve,Xe)=>{try{const Tt=indexedDB.deleteDatabase(qe);Tt.onsuccess=()=>{ve()},Tt.onerror=ue=>{var Me;Xe(`Error deleting indexedDB database "${qe}": ${null===(Me=ue.target.error)||void 0===Me?void 0:Me.message}`)}}catch(Tt){Xe(`Error deleting indexedDB database "${qe}": ${Tt.message}`)}})})).apply(this,arguments)}},9442:(nn,ht,L)=>{"use strict";L.d(ht,{c:()=>it});var b=L(3756);let s;const Ce=Le=>Le.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ie=Le=>{if(void 0===s){const fe=void 0!==Le.style.webkitAnimationName;s=void 0===Le.style.animationName&&fe?"-webkit-":""}return s},ae=(Le,Ve,fe)=>{const _e=Ve.startsWith("animation")?Ie(Le):"";Le.style.setProperty(_e+Ve,fe)},ge=(Le,Ve)=>{const fe=Ve.startsWith("animation")?Ie(Le):"";Le.style.removeProperty(fe+Ve)},Ne=[],je=(Le=[],Ve)=>{if(void 0!==Ve){const fe=Array.isArray(Ve)?Ve:[Ve];return[...Le,...fe]}return Le},it=Le=>{let Ve,fe,_e,vt,lt,Qe,Se,mt,nt,Je,Et,Ft,Ot,We=[],Ye=[],Ae=[],Ke=!1,ke={},De=[],Re=[],rt={},tt=0,Jt=!1,Gt=!1,pt=!0,Dt=!1,_t=!0,Cn=!1;const ti=Le,$n=[],Zn=[],Hn=[],ai=[],jn=[],ki=[],gi=[],bn=[],Qn=[],Gn=[],Kt="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Di="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Kt,zi=()=>Gn,hn=(be,$e)=>(((null==$e?void 0:$e.oneTimeCallback)?Zn:$n).push({c:be,o:$e}),Ot),ur=()=>{if(Di)Gn.forEach(be=>{be.cancel()}),Gn.length=0;else{const be=Hn.slice();(0,b.r)(()=>{be.forEach($e=>{ge($e,"animation-name"),ge($e,"animation-duration"),ge($e,"animation-timing-function"),ge($e,"animation-iteration-count"),ge($e,"animation-delay"),ge($e,"animation-play-state"),ge($e,"animation-fill-mode"),ge($e,"animation-direction")})})}},jr=()=>{jn.forEach(be=>{(null==be?void 0:be.parentNode)&&be.parentNode.removeChild(be)}),jn.length=0},zn=()=>void 0!==lt?lt:Se?Se.getFill():"both",qe=()=>void 0!==nt?nt:void 0!==Qe?Qe:Se?Se.getDirection():"normal",ve=()=>Jt?"linear":void 0!==_e?_e:Se?Se.getEasing():"linear",Xe=()=>Gt?0:void 0!==Je?Je:void 0!==fe?fe:Se?Se.getDuration():0,Tt=()=>void 0!==vt?vt:Se?Se.getIterations():1,ue=()=>void 0!==Et?Et:void 0!==Ve?Ve:Se?Se.getDelay():0,Jr=()=>{0!==tt&&(tt--,0===tt&&((()=>{Sr(),bn.forEach(Lt=>Lt()),Qn.forEach(Lt=>Lt());const be=pt?1:0,$e=De,bt=Re,Rt=rt;Hn.forEach(Lt=>{const jt=Lt.classList;$e.forEach(fn=>jt.add(fn)),bt.forEach(fn=>jt.remove(fn));for(const fn in Rt)Rt.hasOwnProperty(fn)&&ae(Lt,fn,Rt[fn])}),$n.forEach(Lt=>Lt.c(be,Ot)),Zn.forEach(Lt=>Lt.c(be,Ot)),Zn.length=0,_t=!0,pt&&(Dt=!0),pt=!0})(),Se&&Se.animationFinish()))},Yn=(be=!0)=>{jr();const $e=(Le=>(Le.forEach(Ve=>{for(const fe in Ve)if(Ve.hasOwnProperty(fe)){const _e=Ve[fe];if("easing"===fe)Ve["animation-timing-function"]=_e,delete Ve[fe];else{const vt=Ce(fe);vt!==fe&&(Ve[vt]=_e,delete Ve[fe])}}}),Le))(We);Hn.forEach(bt=>{if($e.length>0){const Rt=((Le=[])=>Le.map(Ve=>{const fe=Ve.offset,_e=[];for(const vt in Ve)Ve.hasOwnProperty(vt)&&"offset"!==vt&&_e.push(`${vt}: ${Ve[vt]};`);return`${100*fe}% { ${_e.join(" ")} }`}).join(" "))($e);Ft=void 0!==Le?Le:(Le=>{let Ve=Ne.indexOf(Le);return Ve<0&&(Ve=Ne.push(Le)-1),`ion-animation-${Ve}`})(Rt);const Lt=((Le,Ve,fe)=>{const _e=(Le=>{const Ve=Le.getRootNode();return Ve.head||Ve})(fe),vt=Ie(fe),lt=_e.querySelector("#"+Le);if(lt)return lt;const Qe=(fe.ownerDocument||document).createElement("style");return Qe.id=Le,Qe.textContent=`@${vt}keyframes ${Le} { ${Ve} } @${vt}keyframes ${Le}-alt { ${Ve} }`,_e.appendChild(Qe),Qe})(Ft,Rt,bt);jn.push(Lt),ae(bt,"animation-duration",`${Xe()}ms`),ae(bt,"animation-timing-function",ve()),ae(bt,"animation-delay",`${ue()}ms`),ae(bt,"animation-fill-mode",zn()),ae(bt,"animation-direction",qe());const jt=Tt()===1/0?"infinite":Tt().toString();ae(bt,"animation-iteration-count",jt),ae(bt,"animation-play-state","paused"),be&&ae(bt,"animation-name",`${Lt.id}-alt`),(0,b.r)(()=>{ae(bt,"animation-name",Lt.id||null)})}})},ii=(be=!0)=>{(()=>{ki.forEach(Rt=>Rt()),gi.forEach(Rt=>Rt());const be=Ye,$e=Ae,bt=ke;Hn.forEach(Rt=>{const Lt=Rt.classList;be.forEach(jt=>Lt.add(jt)),$e.forEach(jt=>Lt.remove(jt));for(const jt in bt)bt.hasOwnProperty(jt)&&ae(Rt,jt,bt[jt])})})(),We.length>0&&(Di?(Hn.forEach(be=>{const $e=be.animate(We,{id:ti,delay:ue(),duration:Xe(),easing:ve(),iterations:Tt(),fill:zn(),direction:qe()});$e.pause(),Gn.push($e)}),Gn.length>0&&(Gn[0].onfinish=()=>{Jr()})):Yn(be)),Ke=!0},hi=be=>{if(be=Math.min(Math.max(be,0),.9999),Di)Gn.forEach($e=>{$e.currentTime=$e.effect.getComputedTiming().delay+Xe()*be,$e.pause()});else{const $e=`-${Xe()*be}ms`;Hn.forEach(bt=>{We.length>0&&(ae(bt,"animation-delay",$e),ae(bt,"animation-play-state","paused"))})}},fr=be=>{Gn.forEach($e=>{$e.effect.updateTiming({delay:ue(),duration:Xe(),easing:ve(),iterations:Tt(),fill:zn(),direction:qe()})}),void 0!==be&&hi(be)},Ir=(be=!0,$e)=>{(0,b.r)(()=>{Hn.forEach(bt=>{ae(bt,"animation-name",Ft||null),ae(bt,"animation-duration",`${Xe()}ms`),ae(bt,"animation-timing-function",ve()),ae(bt,"animation-delay",void 0!==$e?`-${$e*Xe()}ms`:`${ue()}ms`),ae(bt,"animation-fill-mode",zn()||null),ae(bt,"animation-direction",qe()||null);const Rt=Tt()===1/0?"infinite":Tt().toString();ae(bt,"animation-iteration-count",Rt),be&&ae(bt,"animation-name",`${Ft}-alt`),(0,b.r)(()=>{ae(bt,"animation-name",Ft||null)})})})},wi=(be=!1,$e=!0,bt)=>(be&&ai.forEach(Rt=>{Rt.update(be,$e,bt)}),Di?fr(bt):Ir($e,bt),Ot),ui=()=>{Ke&&(Di?Gn.forEach(be=>{be.pause()}):Hn.forEach(be=>{ae(be,"animation-play-state","paused")}),Cn=!0)},Rr=()=>{mt=void 0,Jr()},Sr=()=>{mt&&clearTimeout(mt)},Lr=be=>new Promise($e=>{(null==be?void 0:be.sync)&&(Gt=!0,hn(()=>Gt=!1,{oneTimeCallback:!0})),Ke||ii(),Dt&&(Di?(hi(0),fr()):Ir(),Dt=!1),_t&&(tt=ai.length+1,_t=!1),hn(()=>$e(),{oneTimeCallback:!0}),ai.forEach(bt=>{bt.play()}),Di?(Gn.forEach(be=>{be.play()}),(0===We.length||0===Hn.length)&&Jr()):(()=>{if(Sr(),(0,b.r)(()=>{Hn.forEach(be=>{We.length>0&&ae(be,"animation-play-state","running")})}),0===We.length||0===Hn.length)Jr();else{const be=ue()||0,$e=Xe()||0,bt=Tt()||1;isFinite(bt)&&(mt=setTimeout(Rr,be+$e*bt+100)),((Le,Ve)=>{let fe;const _e={passive:!0},lt=Qe=>{Le===Qe.target&&(fe&&fe(),Sr(),(0,b.r)(()=>{Hn.forEach(be=>{ge(be,"animation-duration"),ge(be,"animation-delay"),ge(be,"animation-play-state")}),(0,b.r)(Jr)}))};Le&&(Le.addEventListener("webkitAnimationEnd",lt,_e),Le.addEventListener("animationend",lt,_e),fe=()=>{Le.removeEventListener("webkitAnimationEnd",lt,_e),Le.removeEventListener("animationend",lt,_e)})})(Hn[0])}})(),Cn=!1}),he=(be,$e)=>{const bt=We[0];return void 0===bt||void 0!==bt.offset&&0!==bt.offset?We=[{offset:0,[be]:$e},...We]:bt[be]=$e,Ot};return Ot={parentAnimation:Se,elements:Hn,childAnimations:ai,id:ti,animationFinish:Jr,from:he,to:(be,$e)=>{const bt=We[We.length-1];return void 0===bt||void 0!==bt.offset&&1!==bt.offset?We=[...We,{offset:1,[be]:$e}]:bt[be]=$e,Ot},fromTo:(be,$e,bt)=>he(be,$e).to(be,bt),parent:be=>(Se=be,Ot),play:Lr,pause:()=>(ai.forEach(be=>{be.pause()}),ui(),Ot),stop:()=>{ai.forEach(be=>{be.stop()}),Ke&&(ur(),Ke=!1),Jt=!1,Gt=!1,_t=!0,nt=void 0,Je=void 0,Et=void 0,tt=0,Dt=!1,pt=!0,Cn=!1},destroy:be=>(ai.forEach($e=>{$e.destroy(be)}),(be=>{ur(),be&&jr()})(be),Hn.length=0,ai.length=0,We.length=0,$n.length=0,Zn.length=0,Ke=!1,_t=!0,Ot),keyframes:be=>{const $e=We!==be;return We=be,$e&&(be=>{Di?zi().forEach($e=>{if($e.effect.setKeyframes)$e.effect.setKeyframes(be);else{const bt=new KeyframeEffect($e.effect.target,be,$e.effect.getTiming());$e.effect=bt}}):Yn()})(We),Ot},addAnimation:be=>{if(null!=be)if(Array.isArray(be))for(const $e of be)$e.parent(Ot),ai.push($e);else be.parent(Ot),ai.push(be);return Ot},addElement:be=>{if(null!=be)if(1===be.nodeType)Hn.push(be);else if(be.length>=0)for(let $e=0;$e<be.length;$e++)Hn.push(be[$e]);else console.error("Invalid addElement value");return Ot},update:wi,fill:be=>(lt=be,wi(!0),Ot),direction:be=>(Qe=be,wi(!0),Ot),iterations:be=>(vt=be,wi(!0),Ot),duration:be=>(!Di&&0===be&&(be=1),fe=be,wi(!0),Ot),easing:be=>(_e=be,wi(!0),Ot),delay:be=>(Ve=be,wi(!0),Ot),getWebAnimations:zi,getKeyframes:()=>We,getFill:zn,getDirection:qe,getDelay:ue,getIterations:Tt,getEasing:ve,getDuration:Xe,afterAddRead:be=>(bn.push(be),Ot),afterAddWrite:be=>(Qn.push(be),Ot),afterClearStyles:(be=[])=>{for(const $e of be)rt[$e]="";return Ot},afterStyles:(be={})=>(rt=be,Ot),afterRemoveClass:be=>(Re=je(Re,be),Ot),afterAddClass:be=>(De=je(De,be),Ot),beforeAddRead:be=>(ki.push(be),Ot),beforeAddWrite:be=>(gi.push(be),Ot),beforeClearStyles:(be=[])=>{for(const $e of be)ke[$e]="";return Ot},beforeStyles:(be={})=>(ke=be,Ot),beforeRemoveClass:be=>(Ae=je(Ae,be),Ot),beforeAddClass:be=>(Ye=je(Ye,be),Ot),onFinish:hn,isRunning:()=>0!==tt&&!Cn,progressStart:(be=!1,$e)=>(ai.forEach(bt=>{bt.progressStart(be,$e)}),ui(),Jt=be,Ke||ii(),wi(!1,!0,$e),Ot),progressStep:be=>(ai.forEach($e=>{$e.progressStep(be)}),hi(be),Ot),progressEnd:(be,$e,bt)=>(Jt=!1,ai.forEach(Rt=>{Rt.progressEnd(be,$e,bt)}),void 0!==bt&&(Je=bt),Dt=!1,pt=!0,0===be?(nt="reverse"===qe()?"normal":"reverse","reverse"===nt&&(pt=!1),Di?(wi(),hi(1-$e)):(Et=(1-$e)*Xe()*-1,wi(!1,!1))):1===be&&(Di?(wi(),hi($e)):(Et=$e*Xe()*-1,wi(!1,!1))),void 0!==be&&(hn(()=>{Je=void 0,nt=void 0,Et=void 0},{oneTimeCallback:!0}),Se||Lr()),Ot)}}},3509:(nn,ht,L)=>{"use strict";L.d(ht,{G:()=>Ie});class s{constructor(ge,Pe,Ze,Ne,de){this.id=Pe,this.name=Ze,this.disableScroll=de,this.priority=1e6*Ne+Pe,this.ctrl=ge}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ge=this.ctrl.capture(this.name,this.id,this.priority);return ge&&this.disableScroll&&this.ctrl.disableScroll(this.id),ge}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Q{constructor(ge,Pe,Ze,Ne){this.id=Pe,this.disable=Ze,this.disableScroll=Ne,this.ctrl=ge}block(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.disableGesture(ge,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.enableGesture(ge,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ce="backdrop-no-scroll",Ie=new class b{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ge){return new s(this,this.newID(),ge.name,ge.priority||0,!!ge.disableScroll)}createBlocker(ge={}){return new Q(this,this.newID(),ge.disable,!!ge.disableScroll)}start(ge,Pe,Ze){return this.canStart(ge)?(this.requestedStart.set(Pe,Ze),!0):(this.requestedStart.delete(Pe),!1)}capture(ge,Pe,Ze){if(!this.start(ge,Pe,Ze))return!1;const Ne=this.requestedStart;let de=-1e4;if(Ne.forEach(Be=>{de=Math.max(de,Be)}),de===Ze){this.capturedId=Pe,Ne.clear();const Be=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ge}});return document.dispatchEvent(Be),!0}return Ne.delete(Pe),!1}release(ge){this.requestedStart.delete(ge),this.capturedId===ge&&(this.capturedId=void 0)}disableGesture(ge,Pe){let Ze=this.disabledGestures.get(ge);void 0===Ze&&(Ze=new Set,this.disabledGestures.set(ge,Ze)),Ze.add(Pe)}enableGesture(ge,Pe){const Ze=this.disabledGestures.get(ge);void 0!==Ze&&Ze.delete(Pe)}disableScroll(ge){this.disabledScroll.add(ge),1===this.disabledScroll.size&&document.body.classList.add(Ce)}enableScroll(ge){this.disabledScroll.delete(ge),0===this.disabledScroll.size&&document.body.classList.remove(Ce)}canStart(ge){return!(void 0!==this.capturedId||this.isDisabled(ge))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ge){const Pe=this.disabledGestures.get(ge);return!!(Pe&&Pe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(nn,ht,L)=>{"use strict";L.r(ht),L.d(ht,{MENU_BACK_BUTTON_PRIORITY:()=>Ie,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ce,blockHardwareBackButton:()=>s,startHardwareBackButton:()=>Q});var b=L(5861);const s=()=>{document.addEventListener("backbutton",()=>{})},Q=()=>{const ae=document;let ge=!1;ae.addEventListener("backbutton",()=>{if(ge)return;let Pe=0,Ze=[];const Ne=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Te,je){Ze.push({priority:Te,handler:je,id:Pe++})}}});ae.dispatchEvent(Ne);const de=function(){var Te=(0,b.Z)(function*(je){try{if(null==je?void 0:je.handler){const it=je.handler(Be);null!=it&&(yield it)}}catch(it){console.error(it)}});return function(it){return Te.apply(this,arguments)}}(),Be=()=>{if(Ze.length>0){let Te={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ze.forEach(je=>{je.priority>=Te.priority&&(Te=je)}),ge=!0,Ze=Ze.filter(je=>je.id!==Te.id),de(Te).then(()=>ge=!1)}};Be()})},Ce=100,Ie=99},3756:(nn,ht,L)=>{"use strict";L.d(ht,{a:()=>ge,b:()=>Pe,c:()=>Q,d:()=>je,e:()=>it,f:()=>Te,g:()=>Ze,h:()=>lt,i:()=>ae,j:()=>Ce,k:()=>Be,l:()=>Le,m:()=>de,n:()=>Ve,o:()=>vt,p:()=>_e,q:()=>Qe,r:()=>Ne,s:()=>We,t:()=>b,u:()=>fe});const b=(Ye,Ae=0)=>new Promise(Ke=>{s(Ye,Ae,Ke)}),s=(Ye,Ae=0,Ke)=>{let Se,ke;const De={passive:!0},rt=()=>{Se&&Se()},tt=Jt=>{(void 0===Jt||Ye===Jt.target)&&(rt(),Ke(Jt))};return Ye&&(Ye.addEventListener("webkitTransitionEnd",tt,De),Ye.addEventListener("transitionend",tt,De),ke=setTimeout(tt,Ae+500),Se=()=>{ke&&(clearTimeout(ke),ke=void 0),Ye.removeEventListener("webkitTransitionEnd",tt,De),Ye.removeEventListener("transitionend",tt,De)}),rt},Q=(Ye,Ae)=>{Ye.componentOnReady?Ye.componentOnReady().then(Ke=>Ae(Ke)):Ne(()=>Ae(Ye))},Ce=(Ye,Ae=[])=>{const Ke={};return Ae.forEach(Se=>{Ye.hasAttribute(Se)&&(null!==Ye.getAttribute(Se)&&(Ke[Se]=Ye.getAttribute(Se)),Ye.removeAttribute(Se))}),Ke},Ie=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ae=Ye=>Ce(Ye,Ie),ge=(Ye,Ae,Ke,Se)=>{var ke;if("undefined"!=typeof window){const De=window,Re=null===(ke=null==De?void 0:De.Ionic)||void 0===ke?void 0:ke.config;if(Re){const rt=Re.get("_ael");if(rt)return rt(Ye,Ae,Ke,Se);if(Re._ael)return Re._ael(Ye,Ae,Ke,Se)}}return Ye.addEventListener(Ae,Ke,Se)},Pe=(Ye,Ae,Ke,Se)=>{var ke;if("undefined"!=typeof window){const De=window,Re=null===(ke=null==De?void 0:De.Ionic)||void 0===ke?void 0:ke.config;if(Re){const rt=Re.get("_rel");if(rt)return rt(Ye,Ae,Ke,Se);if(Re._rel)return Re._rel(Ye,Ae,Ke,Se)}}return Ye.removeEventListener(Ae,Ke,Se)},Ze=(Ye,Ae=Ye)=>Ye.shadowRoot||Ae,Ne=Ye=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ye):setTimeout(Ye),de=Ye=>!!Ye.shadowRoot&&!!Ye.attachShadow,Be=Ye=>{const Ae=Ye.closest("ion-item");return Ae?Ae.querySelector("ion-label"):null},Te=Ye=>{if(Ye.focus(),Ye.classList.contains("ion-focusable")){const Ae=Ye.closest("ion-app");Ae&&Ae.setFocus([Ye])}},je=(Ye,Ae)=>{let Ke;const Se=Ye.getAttribute("aria-labelledby"),ke=Ye.id;let De=null!==Se&&""!==Se.trim()?Se:Ae+"-lbl",Re=null!==Se&&""!==Se.trim()?document.getElementById(Se):Be(Ye);return Re?(null===Se&&(Re.id=De),Ke=Re.textContent,Re.setAttribute("aria-hidden","true")):""!==ke.trim()&&(Re=document.querySelector(`label[for="${ke}"]`),Re&&(""!==Re.id?De=Re.id:Re.id=De=`${ke}-lbl`,Ke=Re.textContent)),{label:Re,labelId:De,labelText:Ke}},it=(Ye,Ae,Ke,Se,ke)=>{if(Ye||de(Ae)){let De=Ae.querySelector("input.aux-input");De||(De=Ae.ownerDocument.createElement("input"),De.type="hidden",De.classList.add("aux-input"),Ae.appendChild(De)),De.disabled=ke,De.name=Ke,De.value=Se||""}},Le=(Ye,Ae,Ke)=>Math.max(Ye,Math.min(Ae,Ke)),Ve=(Ye,Ae)=>{if(!Ye){const Ke="ASSERT: "+Ae;throw console.error(Ke),new Error(Ke)}},fe=Ye=>Ye.timeStamp||Date.now(),_e=Ye=>{if(Ye){const Ae=Ye.changedTouches;if(Ae&&Ae.length>0){const Ke=Ae[0];return{x:Ke.clientX,y:Ke.clientY}}if(void 0!==Ye.pageX)return{x:Ye.pageX,y:Ye.pageY}}return{x:0,y:0}},vt=Ye=>{const Ae="rtl"===document.dir;switch(Ye){case"start":return Ae;case"end":return!Ae;default:throw new Error(`"${Ye}" is not a valid value for [side]. Use "start" or "end" instead.`)}},lt=(Ye,Ae)=>{const Ke=Ye._original||Ye;return{_original:Ye,emit:Qe(Ke.emit.bind(Ke),Ae)}},Qe=(Ye,Ae=0)=>{let Ke;return(...Se)=>{clearTimeout(Ke),Ke=setTimeout(Ye,Ae,...Se)}},We=(Ye,Ae)=>{if(null!=Ye||(Ye={}),null!=Ae||(Ae={}),Ye===Ae)return!0;const Ke=Object.keys(Ye);if(Ke.length!==Object.keys(Ae).length)return!1;for(const Se of Ke)if(!(Se in Ae)||Ye[Se]!==Ae[Se])return!1;return!0}},4318:(nn,ht,L)=>{"use strict";L.d(ht,{L:()=>Ce,a:()=>Ie,b:()=>ae,c:()=>ge,d:()=>Pe,e:()=>Ae,g:()=>ke,l:()=>We,s:()=>Ke,t:()=>de});var b=L(5861),s=L(2361),Q=L(3756);const Ce="ionViewWillEnter",Ie="ionViewDidEnter",ae="ionViewWillLeave",ge="ionViewDidLeave",Pe="ionViewWillUnload",de=De=>new Promise((Re,rt)=>{(0,s.c)(()=>{Be(De),Te(De).then(tt=>{tt.animation&&tt.animation.destroy(),je(De),Re(tt)},tt=>{je(De),rt(tt)})})}),Be=De=>{const Re=De.enteringEl,rt=De.leavingEl;Se(Re,rt,De.direction),De.showGoBack?Re.classList.add("can-go-back"):Re.classList.remove("can-go-back"),Ke(Re,!1),Re.style.setProperty("pointer-events","none"),rt&&(Ke(rt,!1),rt.style.setProperty("pointer-events","none"))},Te=function(){var De=(0,b.Z)(function*(Re){const rt=yield it(Re);return rt&&s.B.isBrowser?Le(rt,Re):Ve(Re)});return function(rt){return De.apply(this,arguments)}}(),je=De=>{const Re=De.enteringEl,rt=De.leavingEl;Re.classList.remove("ion-page-invisible"),Re.style.removeProperty("pointer-events"),void 0!==rt&&(rt.classList.remove("ion-page-invisible"),rt.style.removeProperty("pointer-events"))},it=function(){var De=(0,b.Z)(function*(Re){return Re.leavingEl&&Re.animated&&0!==Re.duration?Re.animationBuilder?Re.animationBuilder:"ios"===Re.mode?(yield Promise.resolve().then(L.bind(L,1815))).iosTransitionAnimation:(yield Promise.resolve().then(L.bind(L,6447))).mdTransitionAnimation:void 0});return function(rt){return De.apply(this,arguments)}}(),Le=function(){var De=(0,b.Z)(function*(Re,rt){yield fe(rt,!0);const tt=Re(rt.baseEl,rt);lt(rt.enteringEl,rt.leavingEl);const Jt=yield vt(tt,rt);return rt.progressCallback&&rt.progressCallback(void 0),Jt&&Qe(rt.enteringEl,rt.leavingEl),{hasCompleted:Jt,animation:tt}});return function(rt,tt){return De.apply(this,arguments)}}(),Ve=function(){var De=(0,b.Z)(function*(Re){const rt=Re.enteringEl,tt=Re.leavingEl;return yield fe(Re,!1),lt(rt,tt),Qe(rt,tt),{hasCompleted:!0}});return function(rt){return De.apply(this,arguments)}}(),fe=function(){var De=(0,b.Z)(function*(Re,rt){const Jt=(void 0!==Re.deepWait?Re.deepWait:rt)?[Ae(Re.enteringEl),Ae(Re.leavingEl)]:[Ye(Re.enteringEl),Ye(Re.leavingEl)];yield Promise.all(Jt),yield _e(Re.viewIsReady,Re.enteringEl)});return function(rt,tt){return De.apply(this,arguments)}}(),_e=function(){var De=(0,b.Z)(function*(Re,rt){Re&&(yield Re(rt))});return function(rt,tt){return De.apply(this,arguments)}}(),vt=(De,Re)=>{const rt=Re.progressCallback,tt=new Promise(Jt=>{De.onFinish(Gt=>Jt(1===Gt))});return rt?(De.progressStart(!0),rt(De)):De.play(),tt},lt=(De,Re)=>{We(Re,ae),We(De,Ce)},Qe=(De,Re)=>{We(De,Ie),We(Re,ge)},We=(De,Re)=>{if(De){const rt=new CustomEvent(Re,{bubbles:!1,cancelable:!1});De.dispatchEvent(rt)}},Ye=De=>De?new Promise(Re=>(0,Q.c)(De,Re)):Promise.resolve(),Ae=function(){var De=(0,b.Z)(function*(Re){const rt=Re;if(rt){if(null!=rt.componentOnReady){if(null!=(yield rt.componentOnReady()))return}else if(null!=rt.__registerHost)return void(yield new Promise(Jt=>(0,Q.r)(Jt)));yield Promise.all(Array.from(rt.children).map(Ae))}});return function(rt){return De.apply(this,arguments)}}(),Ke=(De,Re)=>{Re?(De.setAttribute("aria-hidden","true"),De.classList.add("ion-page-hidden")):(De.hidden=!1,De.removeAttribute("aria-hidden"),De.classList.remove("ion-page-hidden"))},Se=(De,Re,rt)=>{void 0!==De&&(De.style.zIndex="back"===rt?"99":"101"),void 0!==Re&&(Re.style.zIndex="100")},ke=De=>De.classList.contains("ion-page")?De:De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||De},3139:(nn,ht,L)=>{"use strict";L.r(ht),L.d(ht,{GESTURE_CONTROLLER:()=>b.G,createGesture:()=>Ze});var b=L(3509);const s=(Te,je,it,Le)=>{const Ve=Q(Te)?{capture:!!Le.capture,passive:!!Le.passive}:!!Le.capture;let fe,_e;return Te.__zone_symbol__addEventListener?(fe="__zone_symbol__addEventListener",_e="__zone_symbol__removeEventListener"):(fe="addEventListener",_e="removeEventListener"),Te[fe](je,it,Ve),()=>{Te[_e](je,it,Ve)}},Q=Te=>{if(void 0===Ce)try{const je=Object.defineProperty({},"passive",{get:()=>{Ce=!0}});Te.addEventListener("optsTest",()=>{},je)}catch(je){Ce=!1}return!!Ce};let Ce;const ge=Te=>Te instanceof Document?Te:Te.ownerDocument,Ze=Te=>{let je=!1,it=!1,Le=!0,Ve=!1;const fe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Te),_e=fe.canStart,vt=fe.onWillStart,lt=fe.onStart,Qe=fe.onEnd,We=fe.notCaptured,Ye=fe.onMove,Ae=fe.threshold,Ke=fe.passive,Se=fe.blurOnStart,ke={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},De=((Te,je,it)=>{const Le=it*(Math.PI/180),Ve="x"===Te,fe=Math.cos(Le),_e=je*je;let vt=0,lt=0,Qe=!1,We=0;return{start(Ye,Ae){vt=Ye,lt=Ae,We=0,Qe=!0},detect(Ye,Ae){if(!Qe)return!1;const Ke=Ye-vt,Se=Ae-lt,ke=Ke*Ke+Se*Se;if(ke<_e)return!1;const De=Math.sqrt(ke),Re=(Ve?Ke:Se)/De;return We=Re>fe?1:Re<-fe?-1:0,Qe=!1,!0},isGesture:()=>0!==We,getDirection:()=>We}})(fe.direction,fe.threshold,fe.maxAngle),Re=b.G.createGesture({name:Te.gestureName,priority:Te.gesturePriority,disableScroll:Te.disableScroll}),Jt=()=>{!je||(Ve=!1,Ye&&Ye(ke))},Gt=()=>!(Re&&!Re.capture()||(je=!0,Le=!1,ke.startX=ke.currentX,ke.startY=ke.currentY,ke.startTime=ke.currentTime,vt?vt(ke).then(nt):nt(),0)),nt=()=>{Se&&(()=>{if("undefined"!=typeof document){const _t=document.activeElement;(null==_t?void 0:_t.blur)&&_t.blur()}})(),lt&&lt(ke),Le=!0},Je=()=>{je=!1,it=!1,Ve=!1,Le=!0,Re.release()},Et=_t=>{const Ft=je,Ot=Le;if(Je(),Ot){if(Ne(ke,_t),Ft)return void(Qe&&Qe(ke));We&&We(ke)}},pt=((Te,je,it,Le,Ve)=>{let fe,_e,vt,lt,Qe,We,Ye,Ae=0;const Ke=mt=>{Ae=Date.now()+2e3,je(mt)&&(!_e&&it&&(_e=s(Te,"touchmove",it,Ve)),vt||(vt=s(mt.target,"touchend",ke,Ve)),lt||(lt=s(mt.target,"touchcancel",ke,Ve)))},Se=mt=>{Ae>Date.now()||!je(mt)||(!We&&it&&(We=s(ge(Te),"mousemove",it,Ve)),Ye||(Ye=s(ge(Te),"mouseup",De,Ve)))},ke=mt=>{Re(),Le&&Le(mt)},De=mt=>{rt(),Le&&Le(mt)},Re=()=>{_e&&_e(),vt&&vt(),lt&&lt(),_e=vt=lt=void 0},rt=()=>{We&&We(),Ye&&Ye(),We=Ye=void 0},tt=()=>{Re(),rt()},Jt=(mt=!0)=>{mt?(fe||(fe=s(Te,"touchstart",Ke,Ve)),Qe||(Qe=s(Te,"mousedown",Se,Ve))):(fe&&fe(),Qe&&Qe(),fe=Qe=void 0,tt())};return{enable:Jt,stop:tt,destroy:()=>{Jt(!1),Le=it=je=void 0}}})(fe.el,_t=>{const Ft=Be(_t);return!(it||!Le||(de(_t,ke),ke.startX=ke.currentX,ke.startY=ke.currentY,ke.startTime=ke.currentTime=Ft,ke.velocityX=ke.velocityY=ke.deltaX=ke.deltaY=0,ke.event=_t,_e&&!1===_e(ke))||(Re.release(),!Re.start()))&&(it=!0,0===Ae?Gt():(De.start(ke.startX,ke.startY),!0))},_t=>{je?!Ve&&Le&&(Ve=!0,Ne(ke,_t),requestAnimationFrame(Jt)):(Ne(ke,_t),De.detect(ke.currentX,ke.currentY)&&(!De.isGesture()||!Gt())&&Dt())},Et,{capture:!1,passive:Ke}),Dt=()=>{Je(),pt.stop(),We&&We(ke)};return{enable(_t=!0){_t||(je&&Et(void 0),Je()),pt.enable(_t)},destroy(){Re.destroy(),pt.destroy()}}},Ne=(Te,je)=>{if(!je)return;const it=Te.currentX,Le=Te.currentY,Ve=Te.currentTime;de(je,Te);const fe=Te.currentX,_e=Te.currentY,lt=(Te.currentTime=Be(je))-Ve;if(lt>0&&lt<100){const We=(_e-Le)/lt;Te.velocityX=(fe-it)/lt*.7+.3*Te.velocityX,Te.velocityY=.7*We+.3*Te.velocityY}Te.deltaX=fe-Te.startX,Te.deltaY=_e-Te.startY,Te.event=je},de=(Te,je)=>{let it=0,Le=0;if(Te){const Ve=Te.changedTouches;if(Ve&&Ve.length>0){const fe=Ve[0];it=fe.clientX,Le=fe.clientY}else void 0!==Te.pageX&&(it=Te.pageX,Le=Te.pageY)}je.currentX=it,je.currentY=Le},Be=Te=>Te.timeStamp||Date.now()},2361:(nn,ht,L)=>{"use strict";L.d(ht,{B:()=>Lr,H:()=>ai,a:()=>Dt,b:()=>qi,c:()=>zr,e:()=>ci,f:()=>pr,g:()=>_t,h:()=>Zn,i:()=>or,j:()=>ve,k:()=>Jr,p:()=>Le,r:()=>ii,s:()=>je});var b=L(5861);let Q,Ce,Ie,ae=!1,ge=!1,Pe=!1,Ze=!1,Ne=!1;const de="undefined"!=typeof window?window:{},Be=de.document||{head:{}},Te={$flags$:0,$resourcesUrl$:"",jmp:X=>X(),raf:X=>requestAnimationFrame(X),ael:(X,he,ct,yt)=>X.addEventListener(he,ct,yt),rel:(X,he,ct,yt)=>X.removeEventListener(he,ct,yt),ce:(X,he)=>new CustomEvent(X,he)},je=X=>{Object.assign(Te,X)},Le=X=>Promise.resolve(X),Ve=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(X){}return!1})(),fe=(X,he,ct,yt)=>{ct&&ct.map(([be,$e,bt])=>{const Rt=vt(X,be),Lt=_e(he,bt),jt=lt(be);Te.ael(Rt,$e,Lt,jt),(he.$rmListeners$=he.$rmListeners$||[]).push(()=>Te.rel(Rt,$e,Lt,jt))})},_e=(X,he)=>ct=>{try{256&X.$flags$?X.$lazyInstance$[he](ct):(X.$queuedListeners$=X.$queuedListeners$||[]).push([he,ct])}catch(yt){Ir(yt)}},vt=(X,he)=>4&he?Be:8&he?de:16&he?Be.body:X,lt=X=>0!=(2&X),Ke="s-id",Se="sty-id",Re="http://www.w3.org/1999/xlink",Jt=new WeakMap,Gt=(X,he,ct)=>{let yt=Vi.get(X);Ve&&ct?(yt=yt||new CSSStyleSheet,yt.replace(he)):yt=he,Vi.set(X,yt)},mt=(X,he,ct,yt)=>{let be=Je(he,ct),$e=Vi.get(be);if(X=11===X.nodeType?X:Be,$e)if("string"==typeof $e){let Rt,bt=Jt.get(X=X.head||X);bt||Jt.set(X,bt=new Set),bt.has(be)||(X.host&&(Rt=X.querySelector(`[${Se}="${be}"]`))?Rt.innerHTML=$e:(Rt=Be.createElement("style"),Rt.innerHTML=$e,X.insertBefore(Rt,X.querySelector("link"))),bt&&bt.add(be))}else X.adoptedStyleSheets.includes($e)||(X.adoptedStyleSheets=[...X.adoptedStyleSheets,$e]);return be},Je=(X,he)=>"sc-"+(he&&32&X.$flags$?X.$tagName$+"-"+he:X.$tagName$),Et=X=>X.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Dt=X=>Bi.push(X),_t=X=>Ht(X).$modeName$,Ft={},$n=X=>"object"==(X=typeof X)||"function"===X,Zn=(X,he,...ct)=>{let yt=null,be=null,$e=null,bt=!1,Rt=!1,Lt=[];const jt=wn=>{for(let Xn=0;Xn<wn.length;Xn++)yt=wn[Xn],Array.isArray(yt)?jt(yt):null!=yt&&"boolean"!=typeof yt&&((bt="function"!=typeof X&&!$n(yt))&&(yt=String(yt)),bt&&Rt?Lt[Lt.length-1].$text$+=yt:Lt.push(bt?Hn(null,yt):yt),Rt=bt)};if(jt(ct),he){he.key&&(be=he.key),he.name&&($e=he.name);{const wn=he.className||he.class;wn&&(he.class="object"!=typeof wn?wn:Object.keys(wn).filter(Xn=>wn[Xn]).join(" "))}}if("function"==typeof X)return X(null===he?{}:he,Lt,ki);const fn=Hn(X,null);return fn.$attrs$=he,Lt.length>0&&(fn.$children$=Lt),fn.$key$=be,fn.$name$=$e,fn},Hn=(X,he)=>({$flags$:0,$tag$:X,$text$:he,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ai={},ki={forEach:(X,he)=>X.map(gi).forEach(he),map:(X,he)=>X.map(gi).map(he).map(bn)},gi=X=>({vattrs:X.$attrs$,vchildren:X.$children$,vkey:X.$key$,vname:X.$name$,vtag:X.$tag$,vtext:X.$text$}),bn=X=>{if("function"==typeof X.vtag){const ct=Object.assign({},X.vattrs);return X.vkey&&(ct.key=X.vkey),X.vname&&(ct.name=X.vname),Zn(X.vtag,ct,...X.vchildren||[])}const he=Hn(X.vtag,X.vtext);return he.$attrs$=X.vattrs,he.$children$=X.vchildren,he.$key$=X.vkey,he.$name$=X.vname,he},Qn=(X,he,ct,yt,be,$e)=>{if(ct!==yt){let bt=fr(X,he),Rt=he.toLowerCase();if("class"===he){const Lt=X.classList,jt=Kt(ct),fn=Kt(yt);Lt.remove(...jt.filter(wn=>wn&&!fn.includes(wn))),Lt.add(...fn.filter(wn=>wn&&!jt.includes(wn)))}else if("style"===he){for(const Lt in ct)(!yt||null==yt[Lt])&&(Lt.includes("-")?X.style.removeProperty(Lt):X.style[Lt]="");for(const Lt in yt)(!ct||yt[Lt]!==ct[Lt])&&(Lt.includes("-")?X.style.setProperty(Lt,yt[Lt]):X.style[Lt]=yt[Lt])}else if("key"!==he)if("ref"===he)yt&&yt(X);else if(bt||"o"!==he[0]||"n"!==he[1]){const Lt=$n(yt);if((bt||Lt&&null!==yt)&&!be)try{if(X.tagName.includes("-"))X[he]=yt;else{let fn=null==yt?"":yt;"list"===he?bt=!1:(null==ct||X[he]!=fn)&&(X[he]=fn)}}catch(fn){}let jt=!1;Rt!==(Rt=Rt.replace(/^xlink\:?/,""))&&(he=Rt,jt=!0),null==yt||!1===yt?(!1!==yt||""===X.getAttribute(he))&&(jt?X.removeAttributeNS(Re,he):X.removeAttribute(he)):(!bt||4&$e||be)&&!Lt&&(yt=!0===yt?"":yt,jt?X.setAttributeNS(Re,he,yt):X.setAttribute(he,yt))}else he="-"===he[2]?he.slice(3):fr(de,Rt)?Rt.slice(2):Rt[2]+he.slice(3),ct&&Te.rel(X,he,ct,!1),yt&&Te.ael(X,he,yt,!1)}},Gn=/\s/,Kt=X=>X?X.split(Gn):[],Di=(X,he,ct,yt)=>{const be=11===he.$elm$.nodeType&&he.$elm$.host?he.$elm$.host:he.$elm$,$e=X&&X.$attrs$||Ft,bt=he.$attrs$||Ft;for(yt in $e)yt in bt||Qn(be,yt,$e[yt],void 0,ct,he.$flags$);for(yt in bt)Qn(be,yt,$e[yt],bt[yt],ct,he.$flags$)},sr=(X,he,ct,yt)=>{let bt,Rt,Lt,be=he.$children$[ct],$e=0;if(ae||(Pe=!0,"slot"===be.$tag$&&(Q&&yt.classList.add(Q+"-s"),be.$flags$|=be.$children$?2:1)),null!==be.$text$)bt=be.$elm$=Be.createTextNode(be.$text$);else if(1&be.$flags$)bt=be.$elm$=Be.createTextNode("");else{if(Ze||(Ze="svg"===be.$tag$),bt=be.$elm$=Be.createElementNS(Ze?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&be.$flags$?"slot-fb":be.$tag$),Ze&&"foreignObject"===be.$tag$&&(Ze=!1),Di(null,be,Ze),(X=>null!=X)(Q)&&bt["s-si"]!==Q&&bt.classList.add(bt["s-si"]=Q),be.$children$)for($e=0;$e<be.$children$.length;++$e)Rt=sr(X,be,$e,bt),Rt&&bt.appendChild(Rt);"svg"===be.$tag$?Ze=!1:"foreignObject"===bt.tagName&&(Ze=!0)}return bt["s-hn"]=Ie,3&be.$flags$&&(bt["s-sr"]=!0,bt["s-cr"]=Ce,bt["s-sn"]=be.$name$||"",Lt=X&&X.$children$&&X.$children$[ct],Lt&&Lt.$tag$===be.$tag$&&X.$elm$&&zi(X.$elm$,!1)),bt},zi=(X,he)=>{Te.$flags$|=1;const ct=X.childNodes;for(let yt=ct.length-1;yt>=0;yt--){const be=ct[yt];be["s-hn"]!==Ie&&be["s-ol"]&&(pn(be).insertBefore(be,hn(be)),be["s-ol"].remove(),be["s-ol"]=void 0,Pe=!0),he&&zi(be,he)}Te.$flags$&=-2},rr=(X,he,ct,yt,be,$e)=>{let Rt,bt=X["s-cr"]&&X["s-cr"].parentNode||X;for(bt.shadowRoot&&bt.tagName===Ie&&(bt=bt.shadowRoot);be<=$e;++be)yt[be]&&(Rt=sr(null,ct,be,X),Rt&&(yt[be].$elm$=Rt,bt.insertBefore(Rt,hn(he))))},Nr=(X,he,ct,yt,be)=>{for(;he<=ct;++he)(yt=X[he])&&(be=yt.$elm$,Li(yt),ge=!0,be["s-ol"]?be["s-ol"].remove():zi(be,!0),be.remove())},ni=(X,he)=>X.$tag$===he.$tag$&&("slot"===X.$tag$?X.$name$===he.$name$:X.$key$===he.$key$),hn=X=>X&&X["s-ol"]||X,pn=X=>(X["s-ol"]?X["s-ol"]:X).parentNode,ur=(X,he)=>{const ct=he.$elm$=X.$elm$,yt=X.$children$,be=he.$children$,$e=he.$tag$,bt=he.$text$;let Rt;null===bt?(Ze="svg"===$e||"foreignObject"!==$e&&Ze,"slot"===$e||Di(X,he,Ze),null!==yt&&null!==be?((X,he,ct,yt)=>{let ns,vr,be=0,$e=0,bt=0,Rt=0,Lt=he.length-1,jt=he[0],fn=he[Lt],wn=yt.length-1,Xn=yt[0],oi=yt[wn];for(;be<=Lt&&$e<=wn;)if(null==jt)jt=he[++be];else if(null==fn)fn=he[--Lt];else if(null==Xn)Xn=yt[++$e];else if(null==oi)oi=yt[--wn];else if(ni(jt,Xn))ur(jt,Xn),jt=he[++be],Xn=yt[++$e];else if(ni(fn,oi))ur(fn,oi),fn=he[--Lt],oi=yt[--wn];else if(ni(jt,oi))("slot"===jt.$tag$||"slot"===oi.$tag$)&&zi(jt.$elm$.parentNode,!1),ur(jt,oi),X.insertBefore(jt.$elm$,fn.$elm$.nextSibling),jt=he[++be],oi=yt[--wn];else if(ni(fn,Xn))("slot"===jt.$tag$||"slot"===oi.$tag$)&&zi(fn.$elm$.parentNode,!1),ur(fn,Xn),X.insertBefore(fn.$elm$,jt.$elm$),fn=he[--Lt],Xn=yt[++$e];else{for(bt=-1,Rt=be;Rt<=Lt;++Rt)if(he[Rt]&&null!==he[Rt].$key$&&he[Rt].$key$===Xn.$key$){bt=Rt;break}bt>=0?(vr=he[bt],vr.$tag$!==Xn.$tag$?ns=sr(he&&he[$e],ct,bt,X):(ur(vr,Xn),he[bt]=void 0,ns=vr.$elm$),Xn=yt[++$e]):(ns=sr(he&&he[$e],ct,$e,X),Xn=yt[++$e]),ns&&pn(jt.$elm$).insertBefore(ns,hn(jt.$elm$))}be>Lt?rr(X,null==yt[wn+1]?null:yt[wn+1].$elm$,ct,yt,$e,wn):$e>wn&&Nr(he,be,Lt)})(ct,yt,he,be):null!==be?(null!==X.$text$&&(ct.textContent=""),rr(ct,null,he,be,0,be.length-1)):null!==yt&&Nr(yt,0,yt.length-1),Ze&&"svg"===$e&&(Ze=!1)):(Rt=ct["s-cr"])?Rt.parentNode.textContent=bt:X.$text$!==bt&&(ct.data=bt)},jr=X=>{let ct,yt,be,$e,bt,Rt,he=X.childNodes;for(yt=0,be=he.length;yt<be;yt++)if(ct=he[yt],1===ct.nodeType){if(ct["s-sr"])for(bt=ct["s-sn"],ct.hidden=!1,$e=0;$e<be;$e++)if(Rt=he[$e].nodeType,he[$e]["s-hn"]!==ct["s-hn"]||""!==bt){if(1===Rt&&bt===he[$e].getAttribute("slot")){ct.hidden=!0;break}}else if(1===Rt||3===Rt&&""!==he[$e].textContent.trim()){ct.hidden=!0;break}jr(ct)}},xn=[],Fi=X=>{let he,ct,yt,be,$e,bt,Rt=0,Lt=X.childNodes,jt=Lt.length;for(;Rt<jt;Rt++){if(he=Lt[Rt],he["s-sr"]&&(ct=he["s-cr"])&&ct.parentNode)for(yt=ct.parentNode.childNodes,be=he["s-sn"],bt=yt.length-1;bt>=0;bt--)ct=yt[bt],!ct["s-cn"]&&!ct["s-nr"]&&ct["s-hn"]!==he["s-hn"]&&(Ti(ct,be)?($e=xn.find(fn=>fn.$nodeToRelocate$===ct),ge=!0,ct["s-sn"]=ct["s-sn"]||be,$e?$e.$slotRefNode$=he:xn.push({$slotRefNode$:he,$nodeToRelocate$:ct}),ct["s-sr"]&&xn.map(fn=>{Ti(fn.$nodeToRelocate$,ct["s-sn"])&&($e=xn.find(wn=>wn.$nodeToRelocate$===ct),$e&&!fn.$slotRefNode$&&(fn.$slotRefNode$=$e.$slotRefNode$))})):xn.some(fn=>fn.$nodeToRelocate$===ct)||xn.push({$nodeToRelocate$:ct}));1===he.nodeType&&Fi(he)}},Ti=(X,he)=>1===X.nodeType?null===X.getAttribute("slot")&&""===he||X.getAttribute("slot")===he:X["s-sn"]===he||""===he,Li=X=>{X.$attrs$&&X.$attrs$.ref&&X.$attrs$.ref(null),X.$children$&&X.$children$.map(Li)},or=X=>Ht(X).$hostElement$,ci=(X,he,ct)=>{const yt=or(X);return{emit:be=>cn(yt,he,{bubbles:!!(4&ct),composed:!!(2&ct),cancelable:!!(1&ct),detail:be})}},cn=(X,he,ct)=>{const yt=Te.ce(he,ct);return X.dispatchEvent(yt),yt},zt=(X,he)=>{he&&!X.$onRenderResolve$&&he["s-p"]&&he["s-p"].push(new Promise(ct=>X.$onRenderResolve$=ct))},mn=(X,he)=>{if(X.$flags$|=16,!(4&X.$flags$))return zt(X,X.$ancestorComponent$),zr(()=>ln(X,he));X.$flags$|=512},ln=(X,he)=>{const yt=X.$lazyInstance$;let be;return he&&(X.$flags$|=256,X.$queuedListeners$&&(X.$queuedListeners$.map(([$e,bt])=>Tt(yt,$e,bt)),X.$queuedListeners$=null),be=Tt(yt,"componentWillLoad")),be=ue(be,()=>Tt(yt,"componentWillRender")),ue(be,()=>Bn(X,yt,he))},Bn=function(){var X=(0,b.Z)(function*(he,ct,yt){const be=he.$hostElement$,bt=be["s-rc"];yt&&(X=>{const he=X.$cmpMeta$,ct=X.$hostElement$,yt=he.$flags$,$e=mt(ct.shadowRoot?ct.shadowRoot:ct.getRootNode(),he,X.$modeName$);10&yt&&(ct["s-sc"]=$e,ct.classList.add($e+"-h"),2&yt&&ct.classList.add($e+"-s"))})(he);zn(he,ct),bt&&(bt.map(Lt=>Lt()),be["s-rc"]=void 0);{const Lt=be["s-p"],jt=()=>qe(he);0===Lt.length?jt():(Promise.all(Lt).then(jt),he.$flags$|=4,Lt.length=0)}});return function(ct,yt,be){return X.apply(this,arguments)}}(),zn=(X,he,ct)=>{try{he=he.render&&he.render(),X.$flags$&=-17,X.$flags$|=2,((X,he)=>{const ct=X.$hostElement$,yt=X.$cmpMeta$,be=X.$vnode$||Hn(null,null),$e=(X=>X&&X.$tag$===ai)(he)?he:Zn(null,null,he);if(Ie=ct.tagName,yt.$attrsToReflect$&&($e.$attrs$=$e.$attrs$||{},yt.$attrsToReflect$.map(([bt,Rt])=>$e.$attrs$[Rt]=ct[bt])),$e.$tag$=null,$e.$flags$|=4,X.$vnode$=$e,$e.$elm$=be.$elm$=ct.shadowRoot||ct,Q=ct["s-sc"],Ce=ct["s-cr"],ae=0!=(1&yt.$flags$),ge=!1,ur(be,$e),Te.$flags$|=1,Pe){Fi($e.$elm$);let bt,Rt,Lt,jt,fn,wn,Xn=0;for(;Xn<xn.length;Xn++)bt=xn[Xn],Rt=bt.$nodeToRelocate$,Rt["s-ol"]||(Lt=Be.createTextNode(""),Lt["s-nr"]=Rt,Rt.parentNode.insertBefore(Rt["s-ol"]=Lt,Rt));for(Xn=0;Xn<xn.length;Xn++)if(bt=xn[Xn],Rt=bt.$nodeToRelocate$,bt.$slotRefNode$){for(jt=bt.$slotRefNode$.parentNode,fn=bt.$slotRefNode$.nextSibling,Lt=Rt["s-ol"];Lt=Lt.previousSibling;)if(wn=Lt["s-nr"],wn&&wn["s-sn"]===Rt["s-sn"]&&jt===wn.parentNode&&(wn=wn.nextSibling,!wn||!wn["s-nr"])){fn=wn;break}(!fn&&jt!==Rt.parentNode||Rt.nextSibling!==fn)&&Rt!==fn&&(!Rt["s-hn"]&&Rt["s-ol"]&&(Rt["s-hn"]=Rt["s-ol"].parentNode.nodeName),jt.insertBefore(Rt,fn))}else 1===Rt.nodeType&&(Rt.hidden=!0)}ge&&jr($e.$elm$),Te.$flags$&=-2,xn.length=0})(X,he)}catch(yt){Ir(yt,X.$hostElement$)}return null},qe=X=>{const ct=X.$hostElement$,be=X.$lazyInstance$,$e=X.$ancestorComponent$;Tt(be,"componentDidRender"),64&X.$flags$?Tt(be,"componentDidUpdate"):(X.$flags$|=64,Me(ct),Tt(be,"componentDidLoad"),X.$onReadyResolve$(ct),$e||Xe()),X.$onInstanceResolve$(ct),X.$onRenderResolve$&&(X.$onRenderResolve$(),X.$onRenderResolve$=void 0),512&X.$flags$&&er(()=>mn(X,!1)),X.$flags$&=-517},ve=X=>{{const he=Ht(X),ct=he.$hostElement$.isConnected;return ct&&2==(18&he.$flags$)&&mn(he,!1),ct}},Xe=X=>{Me(Be.documentElement),er(()=>cn(de,"appload",{detail:{namespace:"ionic"}}))},Tt=(X,he,ct)=>{if(X&&X[he])try{return X[he](ct)}catch(yt){Ir(yt)}},ue=(X,he)=>X&&X.then?X.then(he):he(),Me=X=>X.classList.add("hydrated"),St=(X,he,ct,yt,be,$e,bt)=>{let Rt,Lt,jt,fn;if(1===$e.nodeType){for(Rt=$e.getAttribute("c-id"),Rt&&(Lt=Rt.split("."),(Lt[0]===bt||"0"===Lt[0])&&(jt={$flags$:0,$hostId$:Lt[0],$nodeId$:Lt[1],$depth$:Lt[2],$index$:Lt[3],$tag$:$e.tagName.toLowerCase(),$elm$:$e,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},he.push(jt),$e.removeAttribute("c-id"),X.$children$||(X.$children$=[]),X.$children$[jt.$index$]=jt,X=jt,yt&&"0"===jt.$depth$&&(yt[jt.$index$]=jt.$elm$))),fn=$e.childNodes.length-1;fn>=0;fn--)St(X,he,ct,yt,be,$e.childNodes[fn],bt);if($e.shadowRoot)for(fn=$e.shadowRoot.childNodes.length-1;fn>=0;fn--)St(X,he,ct,yt,be,$e.shadowRoot.childNodes[fn],bt)}else if(8===$e.nodeType)Lt=$e.nodeValue.split("."),(Lt[1]===bt||"0"===Lt[1])&&(Rt=Lt[0],jt={$flags$:0,$hostId$:Lt[1],$nodeId$:Lt[2],$depth$:Lt[3],$index$:Lt[4],$elm$:$e,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Rt?(jt.$elm$=$e.nextSibling,jt.$elm$&&3===jt.$elm$.nodeType&&(jt.$text$=jt.$elm$.textContent,he.push(jt),$e.remove(),X.$children$||(X.$children$=[]),X.$children$[jt.$index$]=jt,yt&&"0"===jt.$depth$&&(yt[jt.$index$]=jt.$elm$))):jt.$hostId$===bt&&("s"===Rt?(jt.$tag$="slot",$e["s-sn"]=Lt[5]?jt.$name$=Lt[5]:"",$e["s-sr"]=!0,yt&&(jt.$elm$=Be.createElement(jt.$tag$),jt.$name$&&jt.$elm$.setAttribute("name",jt.$name$),$e.parentNode.insertBefore(jt.$elm$,$e),$e.remove(),"0"===jt.$depth$&&(yt[jt.$index$]=jt.$elm$)),ct.push(jt),X.$children$||(X.$children$=[]),X.$children$[jt.$index$]=jt):"r"===Rt&&(yt?$e.remove():(be["s-cr"]=$e,$e["s-cn"]=!0))));else if(X&&"style"===X.$tag$){const wn=Hn(null,$e.textContent);wn.$elm$=$e,wn.$index$="0",X.$children$=[wn]}},Xt=(X,he)=>{if(1===X.nodeType){let ct=0;for(;ct<X.childNodes.length;ct++)Xt(X.childNodes[ct],he);if(X.shadowRoot)for(ct=0;ct<X.shadowRoot.childNodes.length;ct++)Xt(X.shadowRoot.childNodes[ct],he)}else if(8===X.nodeType){const ct=X.nodeValue.split(".");"o"===ct[0]&&(he.set(ct[1]+"."+ct[2],X),X.nodeValue="",X["s-en"]=ct[3])}},Un=(X,he,ct)=>{if(he.$members$){X.watchers&&(he.$watchers$=X.watchers);const yt=Object.entries(he.$members$),be=X.prototype;if(yt.map(([$e,[bt]])=>{31&bt||2&ct&&32&bt?Object.defineProperty(be,$e,{get(){return((X,he)=>Ht(this).$instanceValues$.get(he))(0,$e)},set(Rt){((X,he,ct,yt)=>{const be=Ht(X),$e=be.$hostElement$,bt=be.$instanceValues$.get(he),Rt=be.$flags$,Lt=be.$lazyInstance$;ct=((X,he)=>null==X||$n(X)?X:4&he?"false"!==X&&(""===X||!!X):2&he?parseFloat(X):1&he?String(X):X)(ct,yt.$members$[he][0]);const jt=Number.isNaN(bt)&&Number.isNaN(ct);if((!(8&Rt)||void 0===bt)&&ct!==bt&&!jt&&(be.$instanceValues$.set(he,ct),Lt)){if(yt.$watchers$&&128&Rt){const wn=yt.$watchers$[he];wn&&wn.map(Xn=>{try{Lt[Xn](ct,bt,he)}catch(oi){Ir(oi,$e)}})}2==(18&Rt)&&mn(be,!1)}})(this,$e,Rt,he)},configurable:!0,enumerable:!0}):1&ct&&64&bt&&Object.defineProperty(be,$e,{value(...Rt){const Lt=Ht(this);return Lt.$onInstancePromise$.then(()=>Lt.$lazyInstance$[$e](...Rt))}})}),1&ct){const $e=new Map;be.attributeChangedCallback=function(bt,Rt,Lt){Te.jmp(()=>{const jt=$e.get(bt);if(this.hasOwnProperty(jt))Lt=this[jt],delete this[jt];else if(be.hasOwnProperty(jt)&&"number"==typeof this[jt]&&this[jt]==Lt)return;this[jt]=(null!==Lt||"boolean"!=typeof this[jt])&&Lt})},X.observedAttributes=yt.filter(([bt,Rt])=>15&Rt[0]).map(([bt,Rt])=>{const Lt=Rt[1]||bt;return $e.set(Lt,bt),512&Rt[0]&&he.$attrsToReflect$.push([bt,Lt]),Lt})}}return X},Qi=function(){var X=(0,b.Z)(function*(he,ct,yt,be,$e){if(0==(32&ct.$flags$)){{if(ct.$flags$|=32,($e=Ar(yt)).then){const jt=()=>{};$e=yield $e,jt()}$e.isProxied||(yt.$watchers$=$e.watchers,Un($e,yt,2),$e.isProxied=!0);const Lt=()=>{};ct.$flags$|=8;try{new $e(ct)}catch(jt){Ir(jt)}ct.$flags$&=-9,ct.$flags$|=128,Lt(),Mi(ct.$lazyInstance$)}if($e.style){let Lt=$e.style;"string"!=typeof Lt&&(Lt=Lt[ct.$modeName$=(X=>Bi.map(he=>he(X)).find(he=>!!he))(he)]);const jt=Je(yt,ct.$modeName$);if(!Vi.has(jt)){const fn=()=>{};Gt(jt,Lt,!!(1&yt.$flags$)),fn()}}}const bt=ct.$ancestorComponent$,Rt=()=>mn(ct,!0);bt&&bt["s-rc"]?bt["s-rc"].push(Rt):Rt()});return function(ct,yt,be,$e,bt){return X.apply(this,arguments)}}(),Mi=X=>{Tt(X,"connectedCallback")},Hi=X=>{const he=X["s-cr"]=Be.createComment("");he["s-cn"]=!0,X.insertBefore(he,X.firstChild)},qi=(X,he={})=>{const yt=[],be=he.exclude||[],$e=de.customElements,bt=Be.head,Rt=bt.querySelector("meta[charset]"),Lt=Be.createElement("style"),jt=[],fn=Be.querySelectorAll(`[${Se}]`);let wn,Xn=!0,oi=0;for(Object.assign(Te,he),Te.$resourcesUrl$=new URL(he.resourcesUrl||"./",Be.baseURI).href,Te.$flags$|=2;oi<fn.length;oi++)Gt(fn[oi].getAttribute(Se),Et(fn[oi].innerHTML),!0);X.map(ns=>{ns[1].map(vr=>{const ut={$flags$:vr[0],$tagName$:vr[1],$members$:vr[2],$listeners$:vr[3]};ut.$members$=vr[2],ut.$listeners$=vr[3],ut.$attrsToReflect$=[],ut.$watchers$={};const et=ut.$tagName$,xt=class extends HTMLElement{constructor(Wt){super(Wt),hi(Wt=this,ut),1&ut.$flags$&&Wt.attachShadow({mode:"open",delegatesFocus:!!(16&ut.$flags$)})}connectedCallback(){wn&&(clearTimeout(wn),wn=null),Xn?jt.push(this):Te.jmp(()=>(X=>{if(0==(1&Te.$flags$)){const he=Ht(X),ct=he.$cmpMeta$,yt=()=>{};if(1&he.$flags$)fe(X,he,ct.$listeners$),Mi(he.$lazyInstance$);else{let be;if(he.$flags$|=1,be=X.getAttribute(Ke),be){if(1&ct.$flags$){const $e=mt(X.shadowRoot,ct,X.getAttribute("s-mode"));X.classList.remove($e+"-h",$e+"-s")}((X,he,ct,yt)=>{const $e=X.shadowRoot,bt=[],Lt=$e?[]:null,jt=yt.$vnode$=Hn(he,null);Te.$orgLocNodes$||Xt(Be.body,Te.$orgLocNodes$=new Map),X[Ke]=ct,X.removeAttribute(Ke),St(jt,bt,[],Lt,X,X,ct),bt.map(fn=>{const wn=fn.$hostId$+"."+fn.$nodeId$,Xn=Te.$orgLocNodes$.get(wn),oi=fn.$elm$;Xn&&""===Xn["s-en"]&&Xn.parentNode.insertBefore(oi,Xn.nextSibling),$e||(oi["s-hn"]=he,Xn&&(oi["s-ol"]=Xn,oi["s-ol"]["s-nr"]=oi)),Te.$orgLocNodes$.delete(wn)}),$e&&Lt.map(fn=>{fn&&$e.appendChild(fn)})})(X,ct.$tagName$,be,he)}be||12&ct.$flags$&&Hi(X);{let $e=X;for(;$e=$e.parentNode||$e.host;)if(1===$e.nodeType&&$e.hasAttribute("s-id")&&$e["s-p"]||$e["s-p"]){zt(he,he.$ancestorComponent$=$e);break}}ct.$members$&&Object.entries(ct.$members$).map(([$e,[bt]])=>{if(31&bt&&X.hasOwnProperty($e)){const Rt=X[$e];delete X[$e],X[$e]=Rt}}),er(()=>Qi(X,he,ct))}yt()}})(this))}disconnectedCallback(){Te.jmp(()=>(X=>{if(0==(1&Te.$flags$)){const he=Ht(this),ct=he.$lazyInstance$;he.$rmListeners$&&(he.$rmListeners$.map(yt=>yt()),he.$rmListeners$=void 0),Tt(ct,"disconnectedCallback")}})())}componentOnReady(){return Ht(this).$onReadyPromise$}};ut.$lazyBundleId$=ns[0],!be.includes(et)&&!$e.get(et)&&(yt.push(et),$e.define(et,Un(xt,ut,1)))})}),Lt.innerHTML=yt+"{visibility:hidden}.hydrated{visibility:inherit}",Lt.setAttribute("data-styles",""),bt.insertBefore(Lt,Rt?Rt.nextSibling:bt.firstChild),Xn=!1,jt.length?jt.map(ns=>ns.connectedCallback()):Te.jmp(()=>wn=setTimeout(Xe,30))},Jr=X=>{const he=new URL(X,Te.$resourcesUrl$);return he.origin!==de.location.origin?he.href:he.pathname},Yn=new WeakMap,Ht=X=>Yn.get(X),ii=(X,he)=>Yn.set(he.$lazyInstance$=X,he),hi=(X,he)=>{const ct={$flags$:0,$hostElement$:X,$cmpMeta$:he,$instanceValues$:new Map};return ct.$onInstancePromise$=new Promise(yt=>ct.$onInstanceResolve$=yt),ct.$onReadyPromise$=new Promise(yt=>ct.$onReadyResolve$=yt),X["s-p"]=[],X["s-rc"]=[],fe(X,ct,he.$listeners$),Yn.set(X,ct)},fr=(X,he)=>he in X,Ir=(X,he)=>(0,console.error)(X,he),wi=new Map,Ar=(X,he,ct)=>{const yt=X.$tagName$.replace(/-/g,"_"),be=X.$lazyBundleId$,$e=wi.get(be);return $e?$e[yt]:L(863)(`./${be}.entry.js`).then(bt=>(wi.set(be,bt),bt[yt]),Ir)},Vi=new Map,Bi=[],ui=[],Wn=[],Rr=(X,he)=>ct=>{X.push(ct),Ne||(Ne=!0,he&&4&Te.$flags$?er(Is):Te.raf(Is))},Sr=X=>{for(let he=0;he<X.length;he++)try{X[he](performance.now())}catch(ct){Ir(ct)}X.length=0},Is=()=>{Sr(ui),Sr(Wn),(Ne=ui.length>0)&&Te.raf(Is)},er=X=>Le().then(X),pr=Rr(ui,!1),zr=Rr(Wn,!0),Lr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},7726:(nn,ht,L)=>{"use strict";L.d(ht,{m:()=>de});var b=L(5861),s=L(7593),Q=L(3756),Ce=L(6254),Ie=L(9442);const ae=Be=>(0,Ie.c)().duration(Be?400:300),ge=Be=>{let Te,je;const it=Be.width+8,Le=(0,Ie.c)(),Ve=(0,Ie.c)();Be.isEndSide?(Te=it+"px",je="0px"):(Te=-it+"px",je="0px"),Le.addElement(Be.menuInnerEl).fromTo("transform",`translateX(${Te})`,`translateX(${je})`);const _e="ios"===(0,Ce.b)(Be),vt=_e?.2:.25;return Ve.addElement(Be.backdropEl).fromTo("opacity",.01,vt),ae(_e).addAnimation([Le,Ve])},Pe=Be=>{let Te,je;const it=(0,Ce.b)(Be),Le=Be.width;Be.isEndSide?(Te=-Le+"px",je=Le+"px"):(Te=Le+"px",je=-Le+"px");const Ve=(0,Ie.c)().addElement(Be.menuInnerEl).fromTo("transform",`translateX(${je})`,"translateX(0px)"),fe=(0,Ie.c)().addElement(Be.contentEl).fromTo("transform","translateX(0px)",`translateX(${Te})`),_e=(0,Ie.c)().addElement(Be.backdropEl).fromTo("opacity",.01,.32);return ae("ios"===it).addAnimation([Ve,fe,_e])},Ze=Be=>{const Te=(0,Ce.b)(Be),je=Be.width*(Be.isEndSide?-1:1)+"px",it=(0,Ie.c)().addElement(Be.contentEl).fromTo("transform","translateX(0px)",`translateX(${je})`);return ae("ios"===Te).addAnimation(it)},de=(()=>{const Be=new Map,Te=[],je=function(){var nt=(0,b.Z)(function*(Je){const Et=yield lt(Je);return!!Et&&Et.open()});return function(Et){return nt.apply(this,arguments)}}(),it=function(){var nt=(0,b.Z)(function*(Je){const Et=yield void 0!==Je?lt(Je):Qe();return void 0!==Et&&Et.close()});return function(Et){return nt.apply(this,arguments)}}(),Le=function(){var nt=(0,b.Z)(function*(Je){const Et=yield lt(Je);return!!Et&&Et.toggle()});return function(Et){return nt.apply(this,arguments)}}(),Ve=function(){var nt=(0,b.Z)(function*(Je,Et){const pt=yield lt(Et);return pt&&(pt.disabled=!Je),pt});return function(Et,pt){return nt.apply(this,arguments)}}(),fe=function(){var nt=(0,b.Z)(function*(Je,Et){const pt=yield lt(Et);return pt&&(pt.swipeGesture=Je),pt});return function(Et,pt){return nt.apply(this,arguments)}}(),_e=function(){var nt=(0,b.Z)(function*(Je){if(null!=Je){const Et=yield lt(Je);return void 0!==Et&&Et.isOpen()}return void 0!==(yield Qe())});return function(Et){return nt.apply(this,arguments)}}(),vt=function(){var nt=(0,b.Z)(function*(Je){const Et=yield lt(Je);return!!Et&&!Et.disabled});return function(Et){return nt.apply(this,arguments)}}(),lt=function(){var nt=(0,b.Z)(function*(Je){return yield mt(),"start"===Je||"end"===Je?Gt(Dt=>Dt.side===Je&&!Dt.disabled)||Gt(Dt=>Dt.side===Je):null!=Je?Gt(pt=>pt.menuId===Je):Gt(pt=>!pt.disabled)||(Te.length>0?Te[0].el:void 0)});return function(Et){return nt.apply(this,arguments)}}(),Qe=function(){var nt=(0,b.Z)(function*(){return yield mt(),rt()});return function(){return nt.apply(this,arguments)}}(),We=function(){var nt=(0,b.Z)(function*(){return yield mt(),tt()});return function(){return nt.apply(this,arguments)}}(),Ye=function(){var nt=(0,b.Z)(function*(){return yield mt(),Jt()});return function(){return nt.apply(this,arguments)}}(),Ae=(nt,Je)=>{Be.set(nt,Je)},ke=nt=>{const Je=nt.side;Te.filter(Et=>Et.side===Je&&Et!==nt).forEach(Et=>Et.disabled=!0)},De=function(){var nt=(0,b.Z)(function*(Je,Et,pt){if(Jt())return!1;if(Et){const Dt=yield Qe();Dt&&Je.el!==Dt&&(yield Dt.setOpen(!1,!1))}return Je._setOpen(Et,pt)});return function(Et,pt,Dt){return nt.apply(this,arguments)}}(),rt=()=>Gt(nt=>nt._isOpen),tt=()=>Te.map(nt=>nt.el),Jt=()=>Te.some(nt=>nt.isAnimating),Gt=nt=>{const Je=Te.find(nt);if(void 0!==Je)return Je.el},mt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(nt=>new Promise(Je=>(0,Q.c)(nt,Je))));return Ae("reveal",Ze),Ae("push",Pe),Ae("overlay",ge),"undefined"!=typeof document&&document.addEventListener("ionBackButton",nt=>{const Je=rt();Je&&nt.detail.register(s.MENU_BACK_BUTTON_PRIORITY,()=>Je.close())}),{registerAnimation:Ae,get:lt,getMenus:We,getOpen:Qe,isEnabled:vt,swipeGesture:fe,isAnimating:Ye,isOpen:_e,enable:Ve,toggle:Le,close:it,open:je,_getOpenSync:rt,_createAnimation:(nt,Je)=>{const Et=Be.get(nt);if(!Et)throw new Error("animation not registered");return Et(Je)},_register:nt=>{Te.indexOf(nt)<0&&(nt.disabled||ke(nt),Te.push(nt))},_unregister:nt=>{const Je=Te.indexOf(nt);Je>-1&&Te.splice(Je,1)},_setOpen:De,_setActiveMenu:ke}})()},6254:(nn,ht,L)=>{"use strict";L.d(ht,{a:()=>de,b:()=>Jt,c:()=>Q,g:()=>Ne,i:()=>Gt});var b=L(2361);class s{constructor(){this.m=new Map}reset(nt){this.m=new Map(Object.entries(nt))}get(nt,Je){const Et=this.m.get(nt);return void 0!==Et?Et:Je}getBoolean(nt,Je=!1){const Et=this.m.get(nt);return void 0===Et?Je:"string"==typeof Et?"true"===Et:!!Et}getNumber(nt,Je){const Et=parseFloat(this.m.get(nt));return isNaN(Et)?void 0!==Je?Je:NaN:Et}set(nt,Je){this.m.set(nt,Je)}}const Q=new s,Ze="ionic-persist-config",Ne=mt=>Be(mt),de=(mt,nt)=>("string"==typeof mt&&(nt=mt,mt=void 0),Ne(mt).includes(nt)),Be=(mt=window)=>{if(void 0===mt)return[];mt.Ionic=mt.Ionic||{};let nt=mt.Ionic.platforms;return null==nt&&(nt=mt.Ionic.platforms=Te(mt),nt.forEach(Je=>mt.document.documentElement.classList.add(`plt-${Je}`))),nt},Te=mt=>{const nt=Q.get("platform");return Object.keys(rt).filter(Je=>{const Et=null==nt?void 0:nt[Je];return"function"==typeof Et?Et(mt):rt[Je](mt)})},it=mt=>!!(De(mt,/iPad/i)||De(mt,/Macintosh/i)&&Qe(mt)),fe=mt=>De(mt,/android|sink/i),Qe=mt=>Re(mt,"(any-pointer:coarse)"),Ye=mt=>Ae(mt)||Ke(mt),Ae=mt=>!!(mt.cordova||mt.phonegap||mt.PhoneGap),Ke=mt=>{const nt=mt.Capacitor;return!!(null==nt?void 0:nt.isNative)},De=(mt,nt)=>nt.test(mt.navigator.userAgent),Re=(mt,nt)=>{var Je;return null===(Je=mt.matchMedia)||void 0===Je?void 0:Je.call(mt,nt).matches},rt={ipad:it,iphone:mt=>De(mt,/iPhone/i),ios:mt=>De(mt,/iPhone|iPod/i)||it(mt),android:fe,phablet:mt=>{const nt=mt.innerWidth,Je=mt.innerHeight,Et=Math.min(nt,Je),pt=Math.max(nt,Je);return Et>390&&Et<520&&pt>620&&pt<800},tablet:mt=>{const nt=mt.innerWidth,Je=mt.innerHeight,Et=Math.min(nt,Je),pt=Math.max(nt,Je);return it(mt)||(mt=>fe(mt)&&!De(mt,/mobile/i))(mt)||Et>460&&Et<820&&pt>780&&pt<1400},cordova:Ae,capacitor:Ke,electron:mt=>De(mt,/electron/i),pwa:mt=>{var nt;return!(!(null===(nt=mt.matchMedia)||void 0===nt?void 0:nt.call(mt,"(display-mode: standalone)").matches)&&!mt.navigator.standalone)},mobile:Qe,mobileweb:mt=>Qe(mt)&&!Ye(mt),desktop:mt=>!Qe(mt),hybrid:Ye};let tt;const Jt=mt=>mt&&(0,b.g)(mt)||tt,Gt=(mt={})=>{if("undefined"==typeof window)return;const nt=window.document,Je=window,Et=Je.Ionic=Je.Ionic||{},pt={};mt._ael&&(pt.ael=mt._ael),mt._rel&&(pt.rel=mt._rel),mt._ce&&(pt.ce=mt._ce),(0,b.s)(pt);const Dt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(mt=>{try{const nt=mt.sessionStorage.getItem(Ze);return null!==nt?JSON.parse(nt):{}}catch(nt){return{}}})(Je)),{persistConfig:!1}),Et.config),(mt=>{const nt={};return mt.location.search.slice(1).split("&").map(Je=>Je.split("=")).map(([Je,Et])=>[decodeURIComponent(Je),decodeURIComponent(Et)]).filter(([Je])=>((mt,nt)=>mt.substr(0,nt.length)===nt)(Je,"ionic:")).map(([Je,Et])=>[Je.slice("ionic:".length),Et]).forEach(([Je,Et])=>{nt[Je]=Et}),nt})(Je)),mt);Q.reset(Dt),Q.getBoolean("persistConfig")&&((mt,nt)=>{try{mt.sessionStorage.setItem(Ze,JSON.stringify(nt))}catch(Je){return}})(Je,Dt),Be(Je),Et.config=Q,Et.mode=tt=Q.get("mode",nt.documentElement.getAttribute("mode")||(de(Je,"ios")?"ios":"md")),Q.set("mode",tt),nt.documentElement.setAttribute("mode",tt),nt.documentElement.classList.add(tt),Q.getBoolean("_testing")&&Q.set("animated",!1);const _t=Ot=>{var Cn;return null===(Cn=Ot.tagName)||void 0===Cn?void 0:Cn.startsWith("ION-")},Ft=Ot=>["ios","md"].includes(Ot);(0,b.a)(Ot=>{for(;Ot;){const Cn=Ot.mode||Ot.getAttribute("mode");if(Cn){if(Ft(Cn))return Cn;_t(Ot)&&console.warn('Invalid ionic mode: "'+Cn+'", expected: "ios" or "md"')}Ot=Ot.parentElement}return tt})}},1815:(nn,ht,L)=>{"use strict";L.r(ht),L.d(ht,{iosTransitionAnimation:()=>Be,shadow:()=>ae});var b=L(9442),s=L(4318);L(2361);const Ie=Te=>document.querySelector(`${Te}.ion-cloned-element`),ae=Te=>Te.shadowRoot||Te,ge=Te=>{const je="ION-TABS"===Te.tagName?Te:Te.querySelector("ion-tabs"),it="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=je){const Le=je.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Le?Le.querySelector(it):null}return Te.querySelector(it)},Pe=(Te,je)=>{const it="ION-TABS"===Te.tagName?Te:Te.querySelector("ion-tabs");let Le=[];if(null!=it){const Ve=it.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ve&&(Le=Ve.querySelectorAll("ion-buttons"))}else Le=Te.querySelectorAll("ion-buttons");for(const Ve of Le){const fe=Ve.closest("ion-header"),_e=fe&&!fe.classList.contains("header-collapse-condense-inactive"),vt=Ve.querySelector("ion-back-button"),lt=Ve.classList.contains("buttons-collapse"),Qe="start"===Ve.slot||""===Ve.slot;if(null!==vt&&Qe&&(lt&&_e&&je||!lt))return vt}return null},Ne=(Te,je,it,Le,Ve,fe)=>{const _e=je?`calc(100% - ${fe.right+4}px)`:fe.left-4+"px",vt=je?"7px":"-7px",lt=je?"-4px":"4px",Qe=je?"-4px":"4px",We=je?"right":"left",Ye=je?"left":"right",Se=it?[{offset:0,opacity:1,transform:`translate3d(${lt}, ${fe.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${vt}, ${Ve.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${vt}, ${Ve.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${lt}, ${fe.top-46}px, 0) scale(1)`}],Re=it?[{offset:0,opacity:1,transform:`translate3d(${Qe}, ${fe.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Qe}, ${fe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Qe}, ${fe.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Qe}, ${fe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Qe}, ${fe.top-46}px, 0) scale(1)`}],rt=(0,b.c)(),tt=(0,b.c)(),Jt=Ie("ion-back-button"),Gt=ae(Jt).querySelector(".button-text"),mt=ae(Jt).querySelector("ion-icon");Jt.text=Le.text,Jt.mode=Le.mode,Jt.icon=Le.icon,Jt.color=Le.color,Jt.disabled=Le.disabled,Jt.style.setProperty("display","block"),Jt.style.setProperty("position","fixed"),tt.addElement(mt),rt.addElement(Gt),rt.beforeStyles({"transform-origin":`${We} center`}).beforeAddWrite(()=>{Le.style.setProperty("display","none"),Jt.style.setProperty(We,_e)}).afterAddWrite(()=>{Le.style.setProperty("display",""),Jt.style.setProperty("display","none"),Jt.style.removeProperty(We)}).keyframes(Se),tt.beforeStyles({"transform-origin":`${Ye} center`}).keyframes(Re),Te.addAnimation([rt,tt])},de=(Te,je,it,Le,Ve,fe)=>{const _e=je?`calc(100% - ${Ve.right}px)`:`${Ve.left}px`,vt=je?"-18px":"18px",lt=je?"right":"left",Ye=it?[{offset:0,opacity:0,transform:`translate3d(${vt}, ${fe.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ve.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ve.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${vt}, ${fe.top-4}px, 0) scale(0.5)`}],Ae=Ie("ion-title"),Ke=(0,b.c)();Ae.innerText=Le.innerText,Ae.size=Le.size,Ae.color=Le.color,Ke.addElement(Ae),Ke.beforeStyles({"transform-origin":`${lt} center`,height:"46px",display:"",position:"relative",[lt]:_e}).beforeAddWrite(()=>{Le.style.setProperty("display","none")}).afterAddWrite(()=>{Le.style.setProperty("display",""),Ae.style.setProperty("display","none")}).keyframes(Ye),Te.addAnimation(Ke)},Be=(Te,je)=>{try{const it="cubic-bezier(0.32,0.72,0,1)",Le="opacity",Ve="transform",fe="0%",vt="rtl"===Te.ownerDocument.dir,lt=vt?"-99.5%":"99.5%",Qe=vt?"33%":"-33%",We=je.enteringEl,Ye=je.leavingEl,Ae="back"===je.direction,Ke=We.querySelector(":scope > ion-content"),Se=We.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ke=We.querySelectorAll(":scope > ion-header > ion-toolbar"),De=(0,b.c)(),Re=(0,b.c)();if(De.addElement(We).duration(je.duration||540).easing(je.easing||it).fill("both").beforeRemoveClass("ion-page-invisible"),Ye&&Te){const Gt=(0,b.c)();Gt.addElement(Te),De.addAnimation(Gt)}if(Ke||0!==ke.length||0!==Se.length?(Re.addElement(Ke),Re.addElement(Se)):Re.addElement(We.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),De.addAnimation(Re),Ae?Re.beforeClearStyles([Le]).fromTo("transform",`translateX(${Qe})`,`translateX(${fe})`).fromTo(Le,.8,1):Re.beforeClearStyles([Le]).fromTo("transform",`translateX(${lt})`,`translateX(${fe})`),Ke){const Gt=ae(Ke).querySelector(".transition-effect");if(Gt){const mt=Gt.querySelector(".transition-cover"),nt=Gt.querySelector(".transition-shadow"),Je=(0,b.c)(),Et=(0,b.c)(),pt=(0,b.c)();Je.addElement(Gt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Et.addElement(mt).beforeClearStyles([Le]).fromTo(Le,0,.1),pt.addElement(nt).beforeClearStyles([Le]).fromTo(Le,.03,.7),Je.addAnimation([Et,pt]),Re.addAnimation([Je])}}const rt=We.querySelector("ion-header.header-collapse-condense"),{forward:tt,backward:Jt}=((Te,je,it,Le,Ve)=>{const fe=Pe(Le,it),_e=ge(Ve),vt=ge(Le),lt=Pe(Ve,it),Qe=null!==fe&&null!==_e&&!it,We=null!==vt&&null!==lt&&it;if(Qe){const Ye=_e.getBoundingClientRect(),Ae=fe.getBoundingClientRect();de(Te,je,it,_e,Ye,Ae),Ne(Te,je,it,fe,Ye,Ae)}else if(We){const Ye=vt.getBoundingClientRect(),Ae=lt.getBoundingClientRect();de(Te,je,it,vt,Ye,Ae),Ne(Te,je,it,lt,Ye,Ae)}return{forward:Qe,backward:We}})(De,vt,Ae,We,Ye);if(ke.forEach(Gt=>{const mt=(0,b.c)();mt.addElement(Gt),De.addAnimation(mt);const nt=(0,b.c)();nt.addElement(Gt.querySelector("ion-title"));const Je=(0,b.c)(),Et=Array.from(Gt.querySelectorAll("ion-buttons,[menuToggle]")),pt=Gt.closest("ion-header"),Dt=null==pt?void 0:pt.classList.contains("header-collapse-condense-inactive");let _t;_t=Et.filter(Ae?$n=>{const Zn=$n.classList.contains("buttons-collapse");return Zn&&!Dt||!Zn}:$n=>!$n.classList.contains("buttons-collapse")),Je.addElement(_t);const Ft=(0,b.c)();Ft.addElement(Gt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ot=(0,b.c)();Ot.addElement(ae(Gt).querySelector(".toolbar-background"));const Cn=(0,b.c)(),ti=Gt.querySelector("ion-back-button");if(ti&&Cn.addElement(ti),mt.addAnimation([nt,Je,Ft,Ot,Cn]),Je.fromTo(Le,.01,1),Ft.fromTo(Le,.01,1),Ae)Dt||nt.fromTo("transform",`translateX(${Qe})`,`translateX(${fe})`).fromTo(Le,.01,1),Ft.fromTo("transform",`translateX(${Qe})`,`translateX(${fe})`),Cn.fromTo(Le,.01,1);else if(rt||nt.fromTo("transform",`translateX(${lt})`,`translateX(${fe})`).fromTo(Le,.01,1),Ft.fromTo("transform",`translateX(${lt})`,`translateX(${fe})`),Ot.beforeClearStyles([Le,"transform"]),(null==pt?void 0:pt.translucent)?Ot.fromTo("transform",vt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ot.fromTo(Le,.01,"var(--opacity)"),tt||Cn.fromTo(Le,.01,1),ti&&!tt){const Zn=(0,b.c)();Zn.addElement(ae(ti).querySelector(".button-text")).fromTo("transform",vt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),mt.addAnimation(Zn)}}),Ye){const Gt=(0,b.c)(),mt=Ye.querySelector(":scope > ion-content"),nt=Ye.querySelectorAll(":scope > ion-header > ion-toolbar"),Je=Ye.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(mt||0!==nt.length||0!==Je.length?(Gt.addElement(mt),Gt.addElement(Je)):Gt.addElement(Ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),De.addAnimation(Gt),Ae){Gt.beforeClearStyles([Le]).fromTo("transform",`translateX(${fe})`,vt?"translateX(-100%)":"translateX(100%)");const Et=(0,s.g)(Ye);De.afterAddWrite(()=>{"normal"===De.getDirection()&&Et.style.setProperty("display","none")})}else Gt.fromTo("transform",`translateX(${fe})`,`translateX(${Qe})`).fromTo(Le,1,.8);if(mt){const Et=ae(mt).querySelector(".transition-effect");if(Et){const pt=Et.querySelector(".transition-cover"),Dt=Et.querySelector(".transition-shadow"),_t=(0,b.c)(),Ft=(0,b.c)(),Ot=(0,b.c)();_t.addElement(Et).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ft.addElement(pt).beforeClearStyles([Le]).fromTo(Le,.1,0),Ot.addElement(Dt).beforeClearStyles([Le]).fromTo(Le,.7,.03),_t.addAnimation([Ft,Ot]),Gt.addAnimation([_t])}}nt.forEach(Et=>{const pt=(0,b.c)();pt.addElement(Et);const Dt=(0,b.c)();Dt.addElement(Et.querySelector("ion-title"));const _t=(0,b.c)(),Ft=Et.querySelectorAll("ion-buttons,[menuToggle]"),Ot=Et.closest("ion-header"),Cn=null==Ot?void 0:Ot.classList.contains("header-collapse-condense-inactive"),ti=Array.from(Ft).filter(ki=>{const gi=ki.classList.contains("buttons-collapse");return gi&&!Cn||!gi});_t.addElement(ti);const $n=(0,b.c)(),Zn=Et.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Zn.length>0&&$n.addElement(Zn);const Hn=(0,b.c)();Hn.addElement(ae(Et).querySelector(".toolbar-background"));const ai=(0,b.c)(),jn=Et.querySelector("ion-back-button");if(jn&&ai.addElement(jn),pt.addAnimation([Dt,_t,$n,ai,Hn]),De.addAnimation(pt),ai.fromTo(Le,.99,0),_t.fromTo(Le,.99,0),$n.fromTo(Le,.99,0),Ae){if(Cn||Dt.fromTo("transform",`translateX(${fe})`,vt?"translateX(-100%)":"translateX(100%)").fromTo(Le,.99,0),$n.fromTo("transform",`translateX(${fe})`,vt?"translateX(-100%)":"translateX(100%)"),Hn.beforeClearStyles([Le,"transform"]),(null==Ot?void 0:Ot.translucent)?Hn.fromTo("transform","translateX(0px)",vt?"translateX(-100%)":"translateX(100%)"):Hn.fromTo(Le,"var(--opacity)",0),jn&&!Jt){const gi=(0,b.c)();gi.addElement(ae(jn).querySelector(".button-text")).fromTo("transform",`translateX(${fe})`,`translateX(${(vt?-124:124)+"px"})`),pt.addAnimation(gi)}}else Cn||Dt.fromTo("transform",`translateX(${fe})`,`translateX(${Qe})`).fromTo(Le,.99,0).afterClearStyles([Ve,Le]),$n.fromTo("transform",`translateX(${fe})`,`translateX(${Qe})`).afterClearStyles([Ve,Le]),ai.afterClearStyles([Le]),Dt.afterClearStyles([Le]),_t.afterClearStyles([Le])})}return De}catch(it){throw it}}},6447:(nn,ht,L)=>{"use strict";L.r(ht),L.d(ht,{mdTransitionAnimation:()=>Ce});var b=L(9442),s=L(4318);L(2361);const Ce=(Ie,ae)=>{const Ze="back"===ae.direction,de=ae.leavingEl,Be=(0,s.g)(ae.enteringEl),Te=Be.querySelector("ion-toolbar"),je=(0,b.c)();if(je.addElement(Be).fill("both").beforeRemoveClass("ion-page-invisible"),Ze?je.duration(ae.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):je.duration(ae.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Te){const it=(0,b.c)();it.addElement(Te),je.addAnimation(it)}if(de&&Ze){je.duration(ae.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const it=(0,b.c)();it.addElement((0,s.g)(de)).onFinish(Le=>{1===Le&&it.elements.length>0&&it.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),je.addAnimation(it)}return je}},599:(nn,ht,L)=>{"use strict";L.d(ht,{B:()=>Et,a:()=>Pe,b:()=>Ze,c:()=>Te,d:()=>ke,e:()=>it,f:()=>Re,g:()=>Jt,h:()=>ae,i:()=>mt,j:()=>_e,k:()=>Ke,m:()=>de,s:()=>Je});var b=L(5861),s=L(6254),Q=L(7593),Ce=L(3756);let Ie=0;const ae=new WeakMap,ge=pt=>({create:Dt=>Le(pt,Dt),dismiss:(Dt,_t,Ft)=>Ye(document,Dt,_t,pt,Ft),getTop:()=>(0,b.Z)(function*(){return Ke(document,pt)})()}),Pe=ge("ion-alert"),Ze=ge("ion-action-sheet"),de=ge("ion-modal"),Te=ge("ion-popover"),it=pt=>{"undefined"!=typeof document&&We(document);const Dt=Ie++;pt.overlayIndex=Dt,pt.hasAttribute("id")||(pt.id=`ion-overlay-${Dt}`)},Le=(pt,Dt)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(pt).then(()=>{const _t=document.createElement(pt);return _t.classList.add("overlay-hidden"),Object.assign(_t,Object.assign(Object.assign({},Dt),{hasController:!0})),rt(document).appendChild(_t),new Promise(Ft=>(0,Ce.c)(_t,Ft))}):Promise.resolve(),Ve='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',fe="input:not([type=hidden]), textarea, button, select",_e=(pt,Dt)=>{let _t=pt.querySelector(Ve);const Ft=null==_t?void 0:_t.shadowRoot;Ft&&(_t=Ft.querySelector(fe)||_t),_t?(0,Ce.f)(_t):Dt.focus()},lt=(pt,Dt)=>{const _t=Array.from(pt.querySelectorAll(Ve));let Ft=_t.length>0?_t[_t.length-1]:null;const Ot=null==Ft?void 0:Ft.shadowRoot;Ot&&(Ft=Ot.querySelector(fe)||Ft),Ft?Ft.focus():Dt.focus()},We=pt=>{0===Ie&&(Ie=1,pt.addEventListener("focus",Dt=>{((pt,Dt)=>{const _t=Ke(Dt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ft=pt.target;_t&&Ft&&!_t.classList.contains("ion-disable-focus-trap")&&(_t.shadowRoot?(()=>{if(_t.contains(Ft))_t.lastFocus=Ft;else{const ti=_t.lastFocus;_e(_t,_t),ti===Dt.activeElement&&lt(_t,_t),_t.lastFocus=Dt.activeElement}})():(()=>{if(_t===Ft)_t.lastFocus=void 0;else{const ti=(0,Ce.g)(_t);if(!ti.contains(Ft))return;const $n=ti.querySelector(".ion-overlay-wrapper");if(!$n)return;if($n.contains(Ft))_t.lastFocus=Ft;else{const Zn=_t.lastFocus;_e($n,_t),Zn===Dt.activeElement&&lt($n,_t),_t.lastFocus=Dt.activeElement}}})())})(Dt,pt)},!0),pt.addEventListener("ionBackButton",Dt=>{const _t=Ke(pt);(null==_t?void 0:_t.backdropDismiss)&&Dt.detail.register(Q.OVERLAY_BACK_BUTTON_PRIORITY,()=>_t.dismiss(void 0,Et))}),pt.addEventListener("keyup",Dt=>{if("Escape"===Dt.key){const _t=Ke(pt);(null==_t?void 0:_t.backdropDismiss)&&_t.dismiss(void 0,Et)}}))},Ye=(pt,Dt,_t,Ft,Ot)=>{const Cn=Ke(pt,Ft,Ot);return Cn?Cn.dismiss(Dt,_t):Promise.reject("overlay does not exist")},Ke=(pt,Dt,_t)=>{const Ft=((pt,Dt)=>(void 0===Dt&&(Dt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(pt.querySelectorAll(Dt)).filter(_t=>_t.overlayIndex>0)))(pt,Dt).filter(Ot=>!(pt=>pt.classList.contains("overlay-hidden"))(Ot));return void 0===_t?Ft[Ft.length-1]:Ft.find(Ot=>Ot.id===_t)},Se=(pt=!1)=>{const _t=rt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!_t||(pt?_t.setAttribute("aria-hidden","true"):_t.removeAttribute("aria-hidden"))},ke=function(){var pt=(0,b.Z)(function*(Dt,_t,Ft,Ot,Cn){var ti,$n;if(Dt.presented)return;Se(!0),Dt.presented=!0,Dt.willPresent.emit(),null===(ti=Dt.willPresentShorthand)||void 0===ti||ti.emit();const Zn=(0,s.b)(Dt),Hn=Dt.enterAnimation?Dt.enterAnimation:s.c.get(_t,"ios"===Zn?Ft:Ot);(yield tt(Dt,Hn,Dt.el,Cn))&&(Dt.didPresent.emit(),null===($n=Dt.didPresentShorthand)||void 0===$n||$n.emit()),"ION-TOAST"!==Dt.el.tagName&&De(Dt.el),Dt.keyboardClose&&Dt.el.focus()});return function(_t,Ft,Ot,Cn,ti){return pt.apply(this,arguments)}}(),De=function(){var pt=(0,b.Z)(function*(Dt){let _t=document.activeElement;if(!_t)return;const Ft=null==_t?void 0:_t.shadowRoot;Ft&&(_t=Ft.querySelector(fe)||_t),yield Dt.onDidDismiss(),_t.focus()});return function(_t){return pt.apply(this,arguments)}}(),Re=function(){var pt=(0,b.Z)(function*(Dt,_t,Ft,Ot,Cn,ti,$n){var Zn,Hn;if(!Dt.presented)return!1;Se(!1),Dt.presented=!1;try{Dt.el.style.setProperty("pointer-events","none"),Dt.willDismiss.emit({data:_t,role:Ft}),null===(Zn=Dt.willDismissShorthand)||void 0===Zn||Zn.emit({data:_t,role:Ft});const ai=(0,s.b)(Dt),jn=Dt.leaveAnimation?Dt.leaveAnimation:s.c.get(Ot,"ios"===ai?Cn:ti);"gesture"!==Ft&&(yield tt(Dt,jn,Dt.el,$n)),Dt.didDismiss.emit({data:_t,role:Ft}),null===(Hn=Dt.didDismissShorthand)||void 0===Hn||Hn.emit({data:_t,role:Ft}),ae.delete(Dt),Dt.el.classList.add("overlay-hidden"),Dt.el.style.removeProperty("pointer-events")}catch(ai){console.error(ai)}return Dt.el.remove(),!0});return function(_t,Ft,Ot,Cn,ti,$n,Zn){return pt.apply(this,arguments)}}(),rt=pt=>pt.querySelector("ion-app")||pt.body,tt=function(){var pt=(0,b.Z)(function*(Dt,_t,Ft,Ot){Ft.classList.remove("overlay-hidden");const ti=_t(Dt.el,Ot);(!Dt.animated||!s.c.getBoolean("animated",!0))&&ti.duration(0),Dt.keyboardClose&&ti.beforeAddWrite(()=>{const Zn=Ft.ownerDocument.activeElement;(null==Zn?void 0:Zn.matches("input,ion-input, ion-textarea"))&&Zn.blur()});const $n=ae.get(Dt)||[];return ae.set(Dt,[...$n,ti]),yield ti.play(),!0});return function(_t,Ft,Ot,Cn){return pt.apply(this,arguments)}}(),Jt=(pt,Dt)=>{let _t;const Ft=new Promise(Ot=>_t=Ot);return Gt(pt,Dt,Ot=>{_t(Ot.detail)}),Ft},Gt=(pt,Dt,_t)=>{const Ft=Ot=>{(0,Ce.b)(pt,Dt,Ft),_t(Ot)};(0,Ce.a)(pt,Dt,Ft)},mt=pt=>"cancel"===pt||pt===Et,nt=pt=>pt(),Je=(pt,Dt)=>{if("function"==typeof pt)return s.c.get("_zoneGate",nt)(()=>{try{return pt(Dt)}catch(Ft){throw Ft}})},Et="backdrop"},19:(nn,ht,L)=>{"use strict";L.d(ht,{A:()=>s});var b=L(5e3);let s=(()=>{class Ce{constructor(){this.lines=[],this.itemCount=0,this.cartPrice=0}addLine(ae,ge=1){let Pe=this.lines.find(Ze=>Ze.product.id==ae.id);null!=Pe?Pe.quantity+=ge:this.lines.push(new Q(ae,ge)),this.recalculate()}updateQuantity(ae,ge){let Pe=this.lines.find(Ze=>Ze.product.id==ae.id);null!=Pe&&(Pe.quantity=Number(ge)),this.recalculate()}removeLine(ae){let ge=this.lines.findIndex(Pe=>Pe.product.id==ae);this.lines.splice(ge,1),this.recalculate()}clear(){this.lines=[],this.itemCount=0,this.cartPrice=0}recalculate(){this.itemCount=0,this.cartPrice=0,this.lines.forEach(ae=>{this.itemCount+=ae.quantity,this.cartPrice+=ae.quantity*ae.product.price})}}return Ce.\u0275fac=function(ae){return new(ae||Ce)},Ce.\u0275prov=b.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();class Q{constructor(Ie,ae){this.product=Ie,this.quantity=ae}get lineTotal(){return this.quantity*this.product.price}}},1744:(nn,ht,L)=>{"use strict";L.d(ht,{K:()=>Ce});var b=L(5e3),s=L(7453),Q=L(19);let Ce=(()=>{class Ie{constructor(ge,Pe){this.user=ge,this.cart=Pe,this.shipped=!1}clear(){this.id=void 0,this.shipped=!1,this.cart.clear()}}return Ie.\u0275fac=function(ge){return new(ge||Ie)(b.LFG(s.n5),b.LFG(Q.A))},Ie.\u0275prov=b.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},4535:(nn,ht,L)=>{"use strict";L.d(ht,{f:()=>Q});var b=L(5e3),s=L(8975);let Q=(()=>{class Ce{constructor(ae){this.dataSource=ae,this.orders=[],this.loaded=!1}loadOrders(){this.loaded=!0,this.dataSource.getOrders().subscribe(ae=>this.orders=ae)}getOrders(){return this.loaded||this.loadOrders(),this.orders}saveOrder(ae){return ae.user.rememberMe&&this.dataSource.registerUser(ae.user).subscribe(ge=>{""!=ge&&this.dataSource.saveUser(ae.user,ge)}),this.dataSource.saveOrder(ae)}updateOrder(ae){this.dataSource.updateOrder(ae).subscribe(ge=>{this.orders.splice(this.orders.findIndex(Pe=>Pe.id==ge.id),1,ge)})}deleteOrder(ae){this.dataSource.deleteOrder(ae).subscribe(ge=>{this.orders.splice(this.orders.findIndex(Pe=>ae==Pe.id),1)})}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(b.LFG(s.y))},Ce.\u0275prov=b.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},7954:(nn,ht,L)=>{"use strict";L.d(ht,{x:()=>b});class b{constructor(Q,Ce,Ie,ae,ge,Pe,Ze,Ne){this.id=Q,this.name=Ce,this.category=Ie,this.description=ae,this.price=ge,this.type=Pe,this.url=Ze,this.allergens=Ne}}},9021:(nn,ht,L)=>{"use strict";L.d(ht,{j:()=>Q});var b=L(5e3),s=L(8975);let Q=(()=>{class Ce{constructor(ae){this.dataSource=ae,this.products=[],this.categories=new Map,ae.getProducts().subscribe(ge=>{this.products=ge,ge.forEach(Pe=>{null==this.categories.get(Pe.type)?this.categories.set(Pe.type,new Set([Pe.category])):this.categories.get(Pe.type).add(Pe.category)}),console.log("Found categories:",this.categories)})}getArrUnique(ae,ge){return this.products=this.getProducts().filter((Pe,Ze,Ne)=>Ze===Ne.findIndex(de=>de.name===Pe.name&&de.type===Pe.type&&de.category===Pe.category)),this.products}getProducts(ae,ge){return ae?this.products.filter(Pe=>Pe.category==ae):ge?this.products.filter(Pe=>Pe.type==ge):this.products}getProductsByType(ae){return this.products.filter(ge=>ge.type==ae)}getProduct(ae){return this.products.find(ge=>ge.id==ae)}getCategories(ae){if(ae&&this.categories.has(ae))return Array.from(this.categories.get(ae).values());{let ge=[];return this.categories.forEach((Pe,Ze)=>{ge=[...ge,...Array.from(Pe.values())]}),ge}}saveProduct(ae){if(null==ae.id||""==ae.id){console.log("dentro1"),this.dataSource.saveProduct(ae).subscribe(Pe=>{this.products.push(Pe)});for(var ge=0;ge<this.products.length;ge++)console.log(this.products[ge].name)}else console.log("dentro2"),this.dataSource.updateProduct(ae).subscribe(Pe=>{this.products.splice(this.products.findIndex(Ze=>Ze.id==ae.id),1,ae)})}deleteProduct(ae){this.dataSource.deleteProduct(ae).subscribe(ge=>{this.products.splice(this.products.findIndex(Pe=>Pe.id==ae),1)})}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(b.LFG(s.y))},Ce.\u0275prov=b.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},7435:(nn,ht,L)=>{"use strict";L.d(ht,{f:()=>s});var b=L(7453);class s{constructor(){this.numAdults=2,this.numChilds=0,this.period="",this.place="",this.reservationDate=new Date,this.reservationTime="",this.reservationName="",this.reservationEmail="",this.reservationPhone="",this.comment="",this.user=new b.n5,this.acceptedConditions=!1,this.rememberUser=!1}}},54:(nn,ht,L)=>{"use strict";L.d(ht,{t:()=>Q});var b=L(5e3),s=L(8975);let Q=(()=>{class Ce{constructor(ae){this.dataSource=ae,this.reservations=[],this.loaded=!1}loadReservations(){this.loaded=!0,this.dataSource.getReservations().subscribe(ae=>this.reservations=ae)}getReservations(){return this.loaded||this.loadReservations(),this.reservations}saveReservation(ae){return ae.rememberUser&&this.dataSource.registerUser(ae.user).subscribe(ge=>{""!=ge&&this.dataSource.saveUser(ae.user,ge)}),this.dataSource.saveReservation(ae)}updateReservation(ae){this.dataSource.updateReservation(ae).subscribe(ge=>{this.reservations.splice(this.reservations.findIndex(Pe=>Pe.id==ge.id),1,ge)})}deleteReservation(ae){this.dataSource.deleteReservation(ae).subscribe(ge=>{this.reservations.splice(this.reservations.findIndex(Pe=>ae==Pe.id),1)})}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(b.LFG(s.y))},Ce.\u0275prov=b.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},7453:(nn,ht,L)=>{"use strict";L.d(ht,{n5:()=>s});var b=L(5e3);let s=(()=>{class Ie{constructor(){this.address=new Q,this.rememberMe=!1,this.rememberMeReservation=!1,this.isAccepted=!1}}return Ie.\u0275fac=function(ge){return new(ge||Ie)},Ie.\u0275prov=b.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();class Q{}},2642:(nn,ht,L)=>{"use strict";L.d(ht,{j:()=>Q});var b=L(5e3),s=L(8975);let Q=(()=>{class Ce{constructor(ae){this.dataSource=ae,this.users=[],this.loaded=!1,this.loadUsers()}loadUsers(){this.loaded=!0,this.dataSource.getUsers().subscribe(ae=>{this.users=ae})}getUsers(){return this.loaded||this.loadUsers(),this.users}getUserByEmail(ae){return this.getUsers(),this.users.find(ge=>ge.email==ae)}saveUser(ae){return this.dataSource.saveUser(ae,ae.id)}updateUser(ae){this.dataSource.updateUser(ae).subscribe(ge=>{this.users.splice(this.users.findIndex(Pe=>Pe.id==ge.id),1,ge)})}deleteUser(ae){this.dataSource.deleteOrder(ae).subscribe(ge=>{this.users.splice(this.users.findIndex(Pe=>ae==Pe.id),1)})}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(b.LFG(s.y))},Ce.\u0275prov=b.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},8975:(nn,ht,L)=>{"use strict";L.d(ht,{y:()=>it});var b=L(9646),s=L(8996),Q=L(7954),Ce=L(19),Ie=L(1744),ae=L(573),de=(L(2090),L(9681),L(1877),L(4859),L(7453)),Be=L(7435),Te=L(5e3),je=L(7407);let it=(()=>{class Le{constructor(fe){this.store=fe,console.log("Firebase datasource created"),this.productsRef=fe.collection("menu"),this.ordersRef=fe.collection("orders"),this.reservationRef=fe.collection("reservations"),this.uploadsRef=fe.collection("uploads"),this.restaurantRef=fe.collection("restaurant"),this.usersRef=fe.collection("users")}saveProduct(fe){let _e=this.store.createId();return fe.id=_e,this.productsRef.doc(_e).set(Object.assign({},fe)),this.productsRef.doc(_e).valueChanges()}getProducts(){return console.log("Reading products from Firebase datasource"),this.productsRef.valueChanges({idField:"id"})}updateProduct(fe){return this.productsRef.doc(fe.id).update(Object.assign({},fe)),this.productsRef.doc(fe.id).valueChanges()}deleteProduct(fe){let _e=new Q.x(fe);return this.productsRef.doc(fe).valueChanges().subscribe(vt=>{_e=vt}),this.productsRef.doc(fe).delete(),(0,b.of)(_e)}saveOrder(fe){console.log("Saving order to Firebase datasource");let _e=this.store.createId();return fe.id=_e,this.ordersRef.doc(_e).set(JSON.parse(JSON.stringify(fe))),this.ordersRef.doc(_e).valueChanges()}getOrders(){return this.ordersRef.valueChanges({idField:"id"})}updateOrder(fe){return this.ordersRef.doc(fe.id).update(JSON.parse(JSON.stringify(fe))),this.ordersRef.doc(fe.id).valueChanges()}deleteOrder(fe){let _e=new Ie.K(new de.n5,new Ce.A);return _e.id=fe,this.ordersRef.doc(fe).valueChanges().subscribe(vt=>{_e=vt}),this.ordersRef.doc(fe).delete(),(0,b.of)(_e)}saveReservation(fe){console.log("Saving reservations to Firebase datasource");let _e=this.store.createId();return fe.id=_e,this.reservationRef.doc(_e).set(JSON.parse(JSON.stringify(fe))),this.reservationRef.doc(_e).valueChanges()}getReservations(){return this.reservationRef.valueChanges({idField:"id"})}updateReservation(fe){return this.reservationRef.doc(fe.id).update(JSON.parse(JSON.stringify(fe))),this.reservationRef.doc(fe.id).valueChanges()}deleteReservation(fe){let _e=new Be.f;return _e.id=fe,this.reservationRef.doc(fe).valueChanges().subscribe(vt=>{_e=vt}),this.reservationRef.doc(fe).delete(),(0,b.of)(_e)}saveUser(fe,_e){return console.log("Saving user to Firebase datasource"),fe.id=_e,this.usersRef.doc(_e).set(JSON.parse(JSON.stringify(fe))),this.usersRef.doc(_e).valueChanges()}getUsers(){return this.usersRef.valueChanges({idField:"id"})}updateUser(fe){return this.usersRef.doc(fe.id).update(JSON.parse(JSON.stringify(fe))),this.usersRef.doc(fe.id).valueChanges()}deleteUser(fe){let _e=new de.n5;return _e.id=fe,this.usersRef.doc(fe).valueChanges().subscribe(vt=>{_e=vt}),this.usersRef.doc(fe).delete(),(0,b.of)(_e)}restaurantJSON(){return this.restaurantRef.valueChanges({idField:"key"})}authenticate(fe,_e){const vt=(0,ae.n)();return(0,s.D)((0,ae.a5)(vt,fe,_e).then(Qe=>{const We=Qe.user;return"JHkGXbGH3IWQi0bUJJTwaa9r1j33"==We.uid&&(console.log("Admin signed in with email: ",fe),this.auth_token=We.uid,!0)}).catch(Qe=>(console.log("Error authentication: ",Qe.message),!1)))}registerUser(fe){const _e=(0,ae.n)(),vt=Math.random().toString(36).slice(-8);return(0,s.D)((0,ae.a4)(_e,fe.email,vt).then(lt=>(console.log("Create new account for user:",lt.user.email," - ",lt.user.uid),lt.user.uid)).catch(lt=>(console.log("Problem with registering new user ",fe.email,": ",lt.message),"")))}}return Le.\u0275fac=function(fe){return new(fe||Le)(Te.LFG(je.ST))},Le.\u0275prov=Te.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})()},5900:(nn,ht,L)=>{"use strict";var b=L(9808),s=L(5e3);class Q extends b.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends Q{static makeCurrent(){(0,b.HT)(new Ce)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ae(){return Ie=Ie||document.querySelector("base"),Ie?Ie.getAttribute("href"):null}();return null==e?null:function Pe(n){ge=ge||document.createElement("a"),ge.setAttribute("href",n);const t=ge.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return(0,b.Mx)(document.cookie,t)}}let ge,Ie=null;const Ze=new s.OlP("TRANSITION_ID"),de=[{provide:s.ip1,useFactory:function Ne(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const r=(0,b.q)(),u=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let f=0;f<u.length;f++)r.remove(u[f])})}},deps:[Ze,b.K0,s.zs3],multi:!0}];class Be{static init(){(0,s.VLi)(new Be)}addToWindow(t){s.dqk.getAngularTestability=(r,u=!0)=>{const f=t.findTestabilityInTree(r,u);if(null==f)throw new Error("Could not find testability for element.");return f},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const u=s.dqk.getAllAngularTestabilities();let f=u.length,_=!1;const w=function(x){_=_||x,f--,0==f&&r(_)};u.forEach(function(x){x.whenStable(w)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const u=t.getTestability(e);return null!=u?u:r?(0,b.q)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Te=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const je=new s.OlP("EventManagerPlugins");let it=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(u=>u.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,u){return this._findPluginFor(r).addEventListener(e,r,u)}addGlobalEventListener(e,r,u){return this._findPluginFor(r).addGlobalEventListener(e,r,u)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const u=this._plugins;for(let f=0;f<u.length;f++){const _=u[f];if(_.supports(e))return this._eventNameToPlugin.set(e,_),_}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(je),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Le{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const u=(0,b.q)().getGlobalEventTarget(this._doc,t);if(!u)throw new Error(`Unsupported event target ${u} for event ${e}`);return this.addEventListener(u,e,r)}}let Ve=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),r.add(u))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),fe=(()=>{class n extends Ve{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,u){e.forEach(f=>{const _=this._doc.createElement("style");_.textContent=f,u.push(r.appendChild(_))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(_e),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,u)=>{this._addStylesToHost(e,u,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(_e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(b.K0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function _e(n){(0,b.q)().remove(n)}const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lt=/%COMP%/g;function ke(n,t,e){for(let r=0;r<t.length;r++){let u=t[r];Array.isArray(u)?ke(n,u,e):(u=u.replace(lt,n),e.push(u))}return e}function De(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let rt=(()=>{class n{constructor(e,r,u){this.eventManager=e,this.sharedStylesHost=r,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new tt(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case s.ifc.Emulated:{let u=this.rendererByCompId.get(r.id);return u||(u=new mt(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,u)),u.applyToHost(e),u}case 1:case s.ifc.ShadowDom:return new nt(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const u=ke(r.id,r.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(it),s.LFG(fe),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class tt{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(vt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,u){if(u){e=u+":"+e;const f=vt[u];f?t.setAttributeNS(f,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const u=vt[r];u?t.removeAttributeNS(u,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,u){u&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,r,u&s.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,De(r)):this.eventManager.addEventListener(t,e,De(r))}}class mt extends tt{constructor(t,e,r,u){super(t),this.component=r;const f=ke(u+"-"+r.id,r.styles,[]);e.addStyles(f),this.contentAttr=function Ke(n){return"_ngcontent-%COMP%".replace(lt,n)}(u+"-"+r.id),this.hostAttr=function Se(n){return"_nghost-%COMP%".replace(lt,n)}(u+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class nt extends tt{constructor(t,e,r,u){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=ke(u.id,u.styles,[]);for(let _=0;_<f.length;_++){const w=document.createElement("style");w.textContent=f[_],this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Je=(()=>{class n extends Le{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,u){return e.addEventListener(r,u,!1),()=>this.removeEventListener(e,r,u)}removeEventListener(e,r,u){return e.removeEventListener(r,u)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(b.K0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Et=["alt","control","meta","shift"],Dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_t={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ft={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ot=(()=>{class n extends Le{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,u){const f=n.parseEventName(r),_=n.eventCallback(f.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.q)().onAndCancel(e,f.domEventName,_))}static parseEventName(e){const r=e.toLowerCase().split("."),u=r.shift();if(0===r.length||"keydown"!==u&&"keyup"!==u)return null;const f=n._normalizeKey(r.pop());let _="";if(Et.forEach(x=>{const H=r.indexOf(x);H>-1&&(r.splice(H,1),_+=x+".")}),_+=f,0!=r.length||0===f.length)return null;const w={};return w.domEventName=u,w.fullKey=_,w}static getEventFullKey(e){let r="",u=function Cn(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&_t.hasOwnProperty(t)&&(t=_t[t]))}return Dt[t]||t}(e);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),Et.forEach(f=>{f!=u&&Ft[f](e)&&(r+=f+".")}),r+=u,r}static eventCallback(e,r,u){return f=>{n.getEventFullKey(f)===e&&u.runGuarded(()=>r(f))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(b.K0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ai=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:b.bD},{provide:s.g9A,useValue:function ti(){Ce.makeCurrent(),Be.init()},multi:!0},{provide:b.K0,useFactory:function Zn(){return(0,s.RDi)(document),document},deps:[]}]),jn=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function $n(){return new s.qLn},deps:[]},{provide:je,useClass:Je,multi:!0,deps:[b.K0,s.R0b,s.Lbi]},{provide:je,useClass:Ot,multi:!0,deps:[b.K0]},{provide:rt,useClass:rt,deps:[it,fe,s.AFp]},{provide:s.FYo,useExisting:rt},{provide:Ve,useExisting:fe},{provide:fe,useClass:fe,deps:[b.K0]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:it,useClass:it,deps:[je,s.R0b]},{provide:b.JF,useClass:Te,deps:[]}];let ki=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:Ze,useExisting:s.AFp},de]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:jn,imports:[b.ez,s.hGG]}),n})();"undefined"!=typeof window&&window;var ye=L(386),St=L(9646),Xt=L(8306),un=L(4351),En=L(9300),sn=L(4004);class Un{}class Qi{}class Mi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const u=e.slice(0,r),f=u.toLowerCase(),_=e.slice(r+1).trim();this.maybeSetNormalizedName(u,f),this.headers.has(f)?this.headers.get(f).push(_):this.headers.set(f,[_])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const u=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(u,r),this.maybeSetNormalizedName(e,u))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Mi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Mi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Mi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const u=("a"===t.op?this.headers.get(e):void 0)||[];u.push(...r),this.headers.set(e,u);break;case"d":const f=t.value;if(f){let _=this.headers.get(e);if(!_)return;_=_.filter(w=>-1===f.indexOf(w)),0===_.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,_)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class fi{encodeKey(t){return Jr(t)}encodeValue(t){return Jr(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Xi=/%(\d[a-f0-9])/gi,qi={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Jr(n){return encodeURIComponent(n).replace(Xi,(t,e)=>{var r;return null!==(r=qi[e])&&void 0!==r?r:t})}function Yn(n){return`${n}`}class Ht{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new fi,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Hi(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(u=>{const f=u.indexOf("="),[_,w]=-1==f?[t.decodeKey(u),""]:[t.decodeKey(u.slice(0,f)),t.decodeValue(u.slice(f+1))],x=e.get(_)||[];x.push(w),e.set(_,x)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const u=t[r];Array.isArray(u)?u.forEach(f=>{e.push({param:r,value:f,op:"a"})}):e.push({param:r,value:u,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ht({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Yn(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const u=r.indexOf(Yn(t.value));-1!==u&&r.splice(u,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class hi{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Ir(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function wi(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Ar(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Bi{constructor(t,e,r,u){let f;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function fr(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==r?r:null,f=u):f=r,f&&(this.reportProgress=!!f.reportProgress,this.withCredentials=!!f.withCredentials,f.responseType&&(this.responseType=f.responseType),f.headers&&(this.headers=f.headers),f.context&&(this.context=f.context),f.params&&(this.params=f.params)),this.headers||(this.headers=new Mi),this.context||(this.context=new hi),this.params){const _=this.params.toString();if(0===_.length)this.urlWithParams=e;else{const w=e.indexOf("?");this.urlWithParams=e+(-1===w?"?":w<e.length-1?"&":"")+_}}else this.params=new Ht,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ir(this.body)||wi(this.body)||Ar(this.body)||function Vi(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ht?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ar(this.body)?null:wi(this.body)?this.body.type||null:Ir(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ht?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,u=t.url||this.url,f=t.responseType||this.responseType,_=void 0!==t.body?t.body:this.body,w=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,x=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let H=t.headers||this.headers,ee=t.params||this.params;const me=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(H=Object.keys(t.setHeaders).reduce((Ue,ft)=>Ue.set(ft,t.setHeaders[ft]),H)),t.setParams&&(ee=Object.keys(t.setParams).reduce((Ue,ft)=>Ue.set(ft,t.setParams[ft]),ee)),new Bi(r,u,_,{params:ee,headers:H,context:me,reportProgress:x,responseType:f,withCredentials:w})}}var ui=(()=>((ui=ui||{})[ui.Sent=0]="Sent",ui[ui.UploadProgress=1]="UploadProgress",ui[ui.ResponseHeader=2]="ResponseHeader",ui[ui.DownloadProgress=3]="DownloadProgress",ui[ui.Response=4]="Response",ui[ui.User=5]="User",ui))();class Wn{constructor(t,e=200,r="OK"){this.headers=t.headers||new Mi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Rr extends Wn{constructor(t={}){super(t),this.type=ui.ResponseHeader}clone(t={}){return new Rr({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Sr extends Wn{constructor(t={}){super(t),this.type=ui.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Sr({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Is extends Wn{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function er(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let pr=(()=>{class n{constructor(e){this.handler=e}request(e,r,u={}){let f;if(e instanceof Bi)f=e;else{let x,H;x=u.headers instanceof Mi?u.headers:new Mi(u.headers),u.params&&(H=u.params instanceof Ht?u.params:new Ht({fromObject:u.params})),f=new Bi(e,r,void 0!==u.body?u.body:null,{headers:x,context:u.context,params:H,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials})}const _=(0,St.of)(f).pipe((0,un.b)(x=>this.handler.handle(x)));if(e instanceof Bi||"events"===u.observe)return _;const w=_.pipe((0,En.h)(x=>x instanceof Sr));switch(u.observe||"body"){case"body":switch(f.responseType){case"arraybuffer":return w.pipe((0,sn.U)(x=>{if(null!==x.body&&!(x.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return x.body}));case"blob":return w.pipe((0,sn.U)(x=>{if(null!==x.body&&!(x.body instanceof Blob))throw new Error("Response is not a Blob.");return x.body}));case"text":return w.pipe((0,sn.U)(x=>{if(null!==x.body&&"string"!=typeof x.body)throw new Error("Response is not a string.");return x.body}));default:return w.pipe((0,sn.U)(x=>x.body))}case"response":return w;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Ht).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,u={}){return this.request("PATCH",e,er(u,r))}post(e,r,u={}){return this.request("POST",e,er(u,r))}put(e,r,u={}){return this.request("PUT",e,er(u,r))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Un))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class zr{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Lr=new s.OlP("HTTP_INTERCEPTORS");let X=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const jt=/^\)\]\}',?\n/;let wn=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Xt.y(r=>{const u=this.xhrFactory.build();if(u.open(e.method,e.urlWithParams),e.withCredentials&&(u.withCredentials=!0),e.headers.forEach((ft,At)=>u.setRequestHeader(ft,At.join(","))),e.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const ft=e.detectContentTypeHeader();null!==ft&&u.setRequestHeader("Content-Type",ft)}if(e.responseType){const ft=e.responseType.toLowerCase();u.responseType="json"!==ft?ft:"text"}const f=e.serializeBody();let _=null;const w=()=>{if(null!==_)return _;const ft=u.statusText||"OK",At=new Mi(u.getAllResponseHeaders()),Vt=function fn(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(u)||e.url;return _=new Rr({headers:At,status:u.status,statusText:ft,url:Vt}),_},x=()=>{let{headers:ft,status:At,statusText:Vt,url:gn}=w(),kn=null;204!==At&&(kn=void 0===u.response?u.responseText:u.response),0===At&&(At=kn?200:0);let Jn=At>=200&&At<300;if("json"===e.responseType&&"string"==typeof kn){const $i=kn;kn=kn.replace(jt,"");try{kn=""!==kn?JSON.parse(kn):null}catch(Ni){kn=$i,Jn&&(Jn=!1,kn={error:Ni,text:kn})}}Jn?(r.next(new Sr({body:kn,headers:ft,status:At,statusText:Vt,url:gn||void 0})),r.complete()):r.error(new Is({error:kn,headers:ft,status:At,statusText:Vt,url:gn||void 0}))},H=ft=>{const{url:At}=w(),Vt=new Is({error:ft,status:u.status||0,statusText:u.statusText||"Unknown Error",url:At||void 0});r.error(Vt)};let ee=!1;const me=ft=>{ee||(r.next(w()),ee=!0);let At={type:ui.DownloadProgress,loaded:ft.loaded};ft.lengthComputable&&(At.total=ft.total),"text"===e.responseType&&!!u.responseText&&(At.partialText=u.responseText),r.next(At)},Ue=ft=>{let At={type:ui.UploadProgress,loaded:ft.loaded};ft.lengthComputable&&(At.total=ft.total),r.next(At)};return u.addEventListener("load",x),u.addEventListener("error",H),u.addEventListener("timeout",H),u.addEventListener("abort",H),e.reportProgress&&(u.addEventListener("progress",me),null!==f&&u.upload&&u.upload.addEventListener("progress",Ue)),u.send(f),r.next({type:ui.Sent}),()=>{u.removeEventListener("error",H),u.removeEventListener("abort",H),u.removeEventListener("load",x),u.removeEventListener("timeout",H),e.reportProgress&&(u.removeEventListener("progress",me),null!==f&&u.upload&&u.upload.removeEventListener("progress",Ue)),u.readyState!==u.DONE&&u.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(b.JF))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Xn=new s.OlP("XSRF_COOKIE_NAME"),oi=new s.OlP("XSRF_HEADER_NAME");class ns{}let vr=(()=>{class n{constructor(e,r,u){this.doc=e,this.platform=r,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,b.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(b.K0),s.LFG(s.Lbi),s.LFG(Xn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ut=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const u=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||u.startsWith("http://")||u.startsWith("https://"))return r.handle(e);const f=this.tokenService.getToken();return null!==f&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,f)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ns),s.LFG(oi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),et=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(Lr,[]);this.chain=r.reduceRight((u,f)=>new zr(u,f),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qi),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),on=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:ut,useClass:X}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Xn,useValue:e.cookieName}:[],e.headerName?{provide:oi,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ut,{provide:Lr,useExisting:ut,multi:!0},{provide:ns,useClass:vr},{provide:Xn,useValue:"XSRF-TOKEN"},{provide:oi,useValue:"X-XSRF-TOKEN"}]}),n})(),An=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pr,{provide:Un,useClass:et},wn,{provide:Qi,useExisting:wn}],imports:[[on.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const ji_firebaseConfig={apiKey:"AIzaSyC1SQ9h7BfE2HwY4swj_LMGpJutNmHWkjE",authDomain:"lacuartaweb-bce85.firebaseapp.com",databaseURL:"https://lacuartaweb-bce85-default-rtdb.europe-west1.firebasedatabase.app",projectId:"lacuartaweb-bce85",storageBucket:"lacuartaweb-bce85.appspot.com",messagingSenderId:"434801223606",appId:"1:434801223606:web:9512fef88e6e8ce99b4317",measurementId:"G-2G2FRFGV8F"};var Mr=L(2011),Ao=L(7407),io=L(2084),Bs=L(4986),ro=L(6451),qs=L(3099),Br=L(3900),So=L(5026),br=L(1884),Zs=L(4482),gs=L(5403),As=L(8421),ma=L(4671),Ss=L(5032),Qo=L(3269);function qr(...n){const t=(0,Qo.jO)(n);return(0,Zs.e)((e,r)=>{const u=n.length,f=new Array(u);let _=n.map(()=>!1),w=!1;for(let x=0;x<u;x++)(0,As.Xf)(n[x]).subscribe((0,gs.x)(r,H=>{f[x]=H,!w&&!_[x]&&(_[x]=!0,(w=_.every(ma.y))&&(_=null))},Ss.Z));e.subscribe((0,gs.x)(r,x=>{if(w){const H=[x,...f];r.next(t?t(...H):H)}}))})}var ds=L(5813),ar=(L(5881),L(3942)),Ys=L(4859),Sa=L(5861),Us=L(9681),xe=L(2090),is=L(1877);const Vs="@firebase/database";let Ks="";function Ms(n){Ks=n}class Zi{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,xe.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,xe.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class z{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,xe.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const oe=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Zi(t)}}catch(t){}return new z},G=oe("localStorage"),ce=oe("sessionStorage"),He=new is.Yd("@firebase/database"),Pt=function(){let n=1;return function(){return n++}}(),qt=function(n){const t=(0,xe.dS)(n),e=new xe.gQ;e.update(t);const r=e.digest();return xe.US.encodeByteArray(r)},dn=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=dn.apply(null,r):t+="object"==typeof r?(0,xe.Pz)(r):r,t+=" "}return t};let yi=null,xi=!0;const Ii=function(n,t){(0,xe.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(He.logLevel=is.in.VERBOSE,yi=He.log.bind(He),t&&ce.set("logging_enabled",!0)):"function"==typeof n?yi=n:(yi=null,ce.remove("logging_enabled"))},ei=function(...n){if(!0===xi&&(xi=!1,null===yi&&!0===ce.get("logging_enabled")&&Ii(!0)),yi){const t=dn.apply(null,n);yi(t)}},xr=function(n){return function(...t){ei(n,...t)}},gr=function(...n){const t="FIREBASE INTERNAL ERROR: "+dn(...n);He.error(t)},tr=function(...n){const t=`FIREBASE FATAL ERROR: ${dn(...n)}`;throw He.error(t),new Error(t)},Er=function(...n){const t="FIREBASE WARNING: "+dn(...n);He.warn(t)},Rn=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Js="[MIN_NAME]",ss="[MAX_NAME]",os=function(n,t){if(n===t)return 0;if(n===Js||t===ss)return-1;if(t===Js||n===ss)return 1;{const e=pi(n),r=pi(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},q=function(n,t){return n===t?0:n<t?-1:1},j=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,xe.Pz)(t))},V=function(n){if("object"!=typeof n||null===n)return(0,xe.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,xe.Pz)(t[r]),e+=":",e+=V(n[t[r]]);return e+="}",e},T=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let u=0;u<e;u+=t)r.push(n.substring(u,u+t>e?e:u+t));return r};function R(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const re=function(n){(0,xe.hu)(!Rn(n),"Invalid JSON number");const r=1023;let u,f,_,w,x;0===n?(f=0,_=0,u=1/n==-1/0?1:0):(u=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(w=Math.min(Math.floor(Math.log(n)/Math.LN2),r),f=w+r,_=Math.round(n*Math.pow(2,52-w)-Math.pow(2,52))):(f=0,_=Math.round(n/Math.pow(2,-1074))));const H=[];for(x=52;x;x-=1)H.push(_%2?1:0),_=Math.floor(_/2);for(x=11;x;x-=1)H.push(f%2?1:0),f=Math.floor(f/2);H.push(u?1:0),H.reverse();const ee=H.join("");let me="";for(x=0;x<64;x+=8){let Ue=parseInt(ee.substr(x,8),2).toString(16);1===Ue.length&&(Ue="0"+Ue),me+=Ue}return me.toLowerCase()},Yt=new RegExp("^-?(0*)\\d{1,10}$"),Dn=-2147483648,_n=2147483647,pi=function(n){if(Yt.test(n)){const t=Number(n);if(t>=Dn&&t<=_n)return t}return null},Ri=function(n){try{n()}catch(t){setTimeout(()=>{throw Er("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},nr=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Wi{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Er(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class wr{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ei("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Er(t)}}let Qr=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Co=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ma="websocket",Sl="long_polling";class xa{constructor(t,e,r,u,f=!1,_="",w=!1){this.secure=e,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=_,this.includeNamespaceInQueryParams=w,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=G.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&G.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ta(n,t,e){let r;if((0,xe.hu)("string"==typeof t,"typeof type must == string"),(0,xe.hu)("object"==typeof e,"typeof params must == object"),t===Ma)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Sl)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Wa(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const u=[];return R(e,(f,_)=>{u.push(f+"="+_)}),r+u.join("&")}class na{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,xe.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,xe.p$)(this.counters_)}}const Yl={},Kl={};function Ho(n){const t=n.toString();return Yl[t]||(Yl[t]=new na),Yl[t]}class Dc{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&Ri(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Mo{constructor(t,e,r,u,f,_,w){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.transportSessionId=_,this.lastSessionId=w,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xr(t),this.stats_=Ho(e),this.urlFn=x=>(this.appCheckToken&&(x.ac=this.appCheckToken),ta(e,Sl,x))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Dc(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,xe.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ol((...f)=>{const[_,w,x,H,ee]=f;if(this.incrementIncomingBytes_(f),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===_)this.id=w,this.password=x;else{if("close"!==_)throw new Error("Unrecognized command received: "+_);w?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(w,()=>{this.onClosed_()})):this.onClosed_()}},(...f)=>{const[_,w]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(_,w)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Co.test(location.hostname)&&(r.r="f");const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mo.forceAllow_=!0}static forceDisallow(){Mo.forceDisallow_=!0}static isAvailable(){return!((0,xe.Yr)()||!Mo.forceAllow_&&(Mo.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,xe.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,xe.h$)(e),u=T(r,1840);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,xe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,xe.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class ol{constructor(t,e,r,u){if(this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,xe.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Pt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=ol.createIFrame_();let f="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(f='<script>document.domain="'+document.domain+'";<\/script>');const _="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(_),this.myIFrame.doc.close()}catch(w){ei("frame writing exception"),w.stack&&ei(w.stack),ei(w)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ei("No IE domain setting required")}catch(e){const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const _=this.pendingSegs.shift();r=r+"&seg"+u+"="+_.seg+"&ts"+u+"="+_.ts+"&d"+u+"="+_.d,u++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},u=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(u),r()})}addTag(t,e){(0,xe.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||"loaded"===u||"complete"===u)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{ei("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Pa=null;"undefined"!=typeof MozWebSocket?Pa=MozWebSocket:"undefined"!=typeof WebSocket&&(Pa=WebSocket);let so=(()=>{class n{constructor(e,r,u,f,_,w,x){this.connId=e,this.applicationId=u,this.appCheckToken=f,this.authToken=_,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xr(this.connId),this.stats_=Ho(r),this.connURL=n.connectionURL_(r,w,x,f),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,u,f){const _={v:"5"};return!(0,xe.Yr)()&&"undefined"!=typeof location&&location.hostname&&Co.test(location.hostname)&&(_.r="f"),r&&(_.s=r),u&&(_.ls=u),f&&(_.ac=f),ta(e,Ma,_)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,G.set("previous_websocket_failure",!0);try{if((0,xe.Yr)()){const f={headers:{"User-Agent":`Firebase/5/${Ks}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(f.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(f.headers["X-Firebase-AppCheck"]=this.appCheckToken);const _=process.env,w=0===this.connURL.indexOf("wss://")?_.HTTPS_PROXY||_.https_proxy:_.HTTP_PROXY||_.http_proxy;w&&(f.proxy={origin:w}),this.mySock=new Pa(this.connURL,[],f)}else this.mySock=new Pa(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");const f=u.message||u.data;return f&&this.log_(f),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const f=u.message||u.data;f&&this.log_(f),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(e=!0)}return!e&&null!==Pa&&!n.forceDisallow_}static previouslyFailed(){return G.isInMemoryStorage||!0===G.get("previous_websocket_failure")}markConnectionHealthy(){G.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const u=(0,xe.cI)(r);this.onMessage(u)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,xe.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const u=this.extractFrameCount_(r);null!==u&&this.appendFrame_(u)}}send(e){this.resetKeepAlive();const r=(0,xe.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const u=T(r,16384);u.length>1&&this.sendString_(String(u.length));for(let f=0;f<u.length;f++)this.sendString_(u[f])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class Ic{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Mo,so]}initTransports_(t){const e=so&&so.isAvailable();let r=e&&!so.previouslyFailed();if(t.webSocketOnly&&(e||Er("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[so];else{const u=this.transports_=[];for(const f of Ic.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class k{constructor(t,e,r,u,f,_,w,x,H,ee){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=_,this.onReady_=w,this.onDisconnect_=x,this.onKill_=H,this.lastSessionId=ee,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xr("c:"+this.id+":"),this.transportManager_=new Ic(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const u=t.healthyTimeout||0;u>0&&(this.healthyTimeout_=nr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=j("t",t),r=j("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=j("t",t),r=j("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=j("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?gr("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gr("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,u=t.h;this.sessionId=t.s,this.repoInfo_.host=u,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&Er("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),nr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(G.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class O{put(t,e,r,u){}merge(t,e,r,u){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class S{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,xe.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const u=this.getInitialEvent(t);u&&e.apply(r,u)}off(t,e,r){this.validateEventType_(t);const u=this.listeners_[t]||[];for(let f=0;f<u.length;f++)if(u[f].callback===e&&(!r||r===u[f].context))return void u.splice(f,1)}validateEventType_(t){(0,xe.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class F extends S{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,xe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new F}getInitialEvent(t){return(0,xe.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class we{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function pe(){return new we("")}function at(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Tn(n){return n.pieces_.length-n.pieceNum_}function Bt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new we(n.pieces_,t)}function gt(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function di(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Ca(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new we(t,0)}function _r(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof we)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&e.push(r[u])}return new we(e,0)}function Oi(n){return n.pieceNum_>=n.pieces_.length}function oo(n,t){const e=at(n),r=at(t);if(null===e)return t;if(e===r)return oo(Bt(n),Bt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function qa(n,t){const e=di(n,0),r=di(t,0);for(let u=0;u<e.length&&u<r.length;u++){const f=os(e[u],r[u]);if(0!==f)return f}return e.length===r.length?0:e.length<r.length?-1:1}function xl(n,t){if(Tn(n)!==Tn(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function Hs(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Tn(n)>Tn(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class yd{constructor(t,e){this.errorPrefix_=e,this.parts_=di(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,xe.ug)(this.parts_[r]);ul(this)}}function ul(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+To(n))}function To(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class vi extends S{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new vi}getInitialEvent(t){return(0,xe.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Za=1e3;let Ol,ir=(()=>{class n extends O{constructor(e,r,u,f,_,w,x,H){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=u,this.onConnectStatus_=f,this.onServerInfoUpdate_=_,this.authTokenProvider_=w,this.appCheckTokenProvider_=x,this.authOverride_=H,this.id=n.nextPersistentConnectionId_++,this.log_=xr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Za,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,H&&!(0,xe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vi.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&F.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,u){const f=++this.requestNumber_,_={r:f,a:e,b:r};this.log_((0,xe.Pz)(_)),(0,xe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(_),u&&(this.requestCBHash_[f]=u)}get(e){this.initConnection_();const r=new xe.BH,u={p:e._path.toString(),q:e._queryObject},f={action:"g",request:u,onComplete:w=>{const x=w.d;"ok"===w.s?(this.onDataUpdate_(u.p,x,!1,null),r.resolve(x)):r.reject(x)}};this.outstandingGets_.push(f),this.outstandingGetCount_++;const _=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const w=this.outstandingGets_[_];void 0===w||f!==w||(delete this.outstandingGets_[_],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+_+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(_),r.promise}listen(e,r,u,f){this.initConnection_();const _=e._queryIdentifier,w=e._path.toString();this.log_("Listen called for "+w+" "+_),this.listens.has(w)||this.listens.set(w,new Map),(0,xe.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,xe.hu)(!this.listens.get(w).has(_),"listen() called twice for same path/queryId.");const x={onComplete:f,hashFn:r,query:e,tag:u};this.listens.get(w).set(_,x),this.connected_&&this.sendListen_(x)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,u=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(u)})}sendListen_(e){const r=e.query,u=r._path.toString(),f=r._queryIdentifier;this.log_("Listen on "+u+" for "+f);const _={p:u};e.tag&&(_.q=r._queryObject,_.t=e.tag),_.h=e.hashFn(),this.sendRequest("q",_,x=>{const H=x.d,ee=x.s;n.warnOnListenWarnings_(H,r),(this.listens.get(u)&&this.listens.get(u).get(f))===e&&(this.log_("listen response",x),"ok"!==ee&&this.removeListen_(u,f),e.onComplete&&e.onComplete(ee,H))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,xe.r3)(e,"w")){const u=(0,xe.DV)(e,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const f='".indexOn": "'+r._queryParams.getIndex().toString()+'"',_=r._path.toString();Er(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${f} at ${_} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,xe.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,xe.w9)(e)?"auth":"gauth",u={cred:e};null===this.authOverride_?u.noauth=!0:"object"==typeof this.authOverride_&&(u.authvar=this.authOverride_),this.sendRequest(r,u,f=>{const _=f.s,w=f.d||"error";this.authToken_===e&&("ok"===_?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(_,w))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,u=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,u)})}unlisten(e,r){const u=e._path.toString(),f=e._queryIdentifier;this.log_("Unlisten called for "+u+" "+f),(0,xe.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,f)&&this.connected_&&this.sendUnlisten_(u,f,e._queryObject,r)}sendUnlisten_(e,r,u,f){this.log_("Unlisten on "+e+" for "+r);const _={p:e};f&&(_.q=u,_.t=f),this.sendRequest("n",_)}onDisconnectPut(e,r,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:u})}onDisconnectMerge(e,r,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:u})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,u,f){const _={p:r,d:u};this.log_("onDisconnect "+e,_),this.sendRequest(e,_,w=>{f&&setTimeout(()=>{f(w.s,w.d)},Math.floor(0))})}put(e,r,u,f){this.putInternal("p",e,r,u,f)}merge(e,r,u,f){this.putInternal("m",e,r,u,f)}putInternal(e,r,u,f,_){this.initConnection_();const w={p:r,d:u};void 0!==_&&(w.h=_),this.outstandingPuts_.push({action:e,request:w,onComplete:f}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,u=this.outstandingPuts_[e].request,f=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,u,_=>{this.log_(r+" response",_),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),f&&f(_.s,_.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,u=>{"ok"!==u.s&&this.log_("reportStats","Error sending stats: "+u.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,xe.Pz)(e));const r=e.r,u=this.requestCBHash_[r];u&&(delete this.requestCBHash_[r],u(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):gr("Unrecognized action received from server: "+(0,xe.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,xe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Za,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Za,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Za),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Sa.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),u=e.onReady_.bind(e),f=e.onRealtimeDisconnect_.bind(e),_=e.id+":"+n.nextConnectionId_++,w=e.lastSessionId;let x=!1,H=null;const ee=function(){H?H.close():(x=!0,f())};e.realtime_={close:ee,sendRequest:function(ft){(0,xe.hu)(H,"sendRequest call when we're not connected not allowed."),H.sendRequest(ft)}};const Ue=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ft,At]=yield Promise.all([e.authTokenProvider_.getToken(Ue),e.appCheckTokenProvider_.getToken(Ue)]);x?ei("getToken() completed but was canceled"):(ei("getToken() completed. Creating connection."),e.authToken_=ft&&ft.accessToken,e.appCheckToken_=At&&At.token,H=new k(_,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,u,f,Vt=>{Er(Vt+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},w))}catch(ft){e.log_("Failed to get token: "+ft),x||(e.repoInfo_.nodeAdmin&&Er(ft),ee())}}})()}interrupt(e){ei("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ei("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,xe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Za,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let u;u=r?r.map(_=>V(_)).join("$"):"default";const f=this.removeListen_(e,u);f&&f.onComplete&&f.onComplete("permission_denied")}removeListen_(e,r){const u=new we(e).toString();let f;if(this.listens.has(u)){const _=this.listens.get(u);f=_.get(r),_.delete(r),0===_.size&&this.listens.delete(u)}else f=void 0;return f}onAuthRevoked_(e,r){ei("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){ei("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,xe.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+Ks.replace(/\./g,"-")]=1,(0,xe.uI)()?e["framework.cordova"]=1:(0,xe.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=F.getInstance().currentlyOnline();return(0,xe.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class lr{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new lr(t,e)}}class Os{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new lr(Js,t),u=new lr(Js,e);return 0!==this.compare(r,u)}minPost(){return lr.MIN}}class vd extends Os{static get __EMPTY_NODE(){return Ol}static set __EMPTY_NODE(t){Ol=t}compare(t,e){return os(t.name,e.name)}isDefinedOn(t){throw(0,xe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return lr.MIN}maxPost(){return new lr(ss,Ol)}makePost(t,e){return(0,xe.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new lr(t,Ol)}toString(){return".key"}}const Pr=new vd;class iu{constructor(t,e,r,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let _=1;for(;!t.isEmpty();)if(t=t,_=e?r(t.key,e):1,u&&(_*=-1),_<0)t=this.isReverse_?t.left:t.right;else{if(0===_){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Ns,yr=(()=>{class n{constructor(e,r,u,f,_){this.key=e,this.value=r,this.color=null!=u?u:n.RED,this.left=null!=f?f:_s.EMPTY_NODE,this.right=null!=_?_:_s.EMPTY_NODE}copy(e,r,u,f,_){return new n(null!=e?e:this.key,null!=r?r:this.value,null!=u?u:this.color,null!=f?f:this.left,null!=_?_:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,u){let f=this;const _=u(e,f.key);return f=_<0?f.copy(null,null,null,f.left.insert(e,r,u),null):0===_?f.copy(null,r,null,null,null):f.copy(null,null,null,null,f.right.insert(e,r,u)),f.fixUp_()}removeMin_(){if(this.left.isEmpty())return _s.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let u,f;if(u=this,r(e,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===r(e,u.key)){if(u.right.isEmpty())return _s.EMPTY_NODE;f=u.right.min_(),u=u.copy(f.key,f.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class _s{constructor(t,e=_s.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new _s(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,yr.BLACK,null,null))}remove(t){return new _s(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,yr.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,u=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(u=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new iu(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new iu(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new iu(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new iu(this.root_,null,this.comparator_,!0,t)}}function Uu(n,t){return os(n.name,t.name)}function ec(n,t){return os(n,t)}_s.EMPTY_NODE=new class es{copy(t,e,r,u,f){return this}insert(t,e,r){return new yr(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sa=function(n){return"number"==typeof n?"number:"+re(n):"string:"+n},oa=function(n){if(n.isLeafNode()){const t=n.val();(0,xe.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,xe.r3)(t,".sv"),"Priority must be a string or number.")}else(0,xe.hu)(n===Ns||n.isEmpty(),"priority of unexpected type.");(0,xe.hu)(n===Ns||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ao,vn,ru,Ea=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,xe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),oa(this.priorityNode_)}static set __childrenNodeConstructor(e){ao=e}static get __childrenNodeConstructor(){return ao}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oi(e)?this:".priority"===at(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const u=at(e);return null===u?r:r.isEmpty()&&".priority"!==u?this:((0,xe.hu)(".priority"!==u||1===Tn(e),".priority must be the last token in a path"),this.updateImmediateChild(u,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bt(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sa(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?re(this.value_):this.value_,this.lazyHash_=qt(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,xe.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,u=typeof this.value_,f=n.VALUE_TYPE_ORDER.indexOf(r),_=n.VALUE_TYPE_ORDER.indexOf(u);return(0,xe.hu)(f>=0,"Unknown leaf type: "+r),(0,xe.hu)(_>=0,"Unknown leaf type: "+u),f===_?"object"===u?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:_-f}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Yi=new class Fa extends Os{compare(t,e){const r=t.node.getPriority(),u=e.node.getPriority(),f=r.compareTo(u);return 0===f?os(t.name,e.name):f}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return lr.MIN}maxPost(){return new lr(ss,new Ea("[PRIORITY-POST]",ru))}makePost(t,e){const r=vn(t);return new lr(e,new Ea("[PRIORITY-POST]",r))}toString(){return".priority"}},dl=Math.log(2);class hl{constructor(t){this.count=parseInt(Math.log(t+1)/dl,10),this.current_=this.count-1;const u=(f=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&u}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Nl=function(n,t,e,r){n.sort(t);const u=function(x,H){const ee=H-x;let me,Ue;if(0===ee)return null;if(1===ee)return me=n[x],Ue=e?e(me):me,new yr(Ue,me.node,yr.BLACK,null,null);{const ft=parseInt(ee/2,10)+x,At=u(x,ft),Vt=u(ft+1,H);return me=n[ft],Ue=e?e(me):me,new yr(Ue,me.node,yr.BLACK,At,Vt)}},w=function(x){let H=null,ee=null,me=n.length;const Ue=function(At,Vt){const gn=me-At,kn=me;me-=At;const Jn=u(gn+1,kn),$i=n[gn],Ni=e?e($i):$i;ft(new yr(Ni,$i.node,Vt,null,Jn))},ft=function(At){H?(H.left=At,H=At):(ee=At,H=At)};for(let At=0;At<x.count;++At){const Vt=x.nextBitIsOne(),gn=Math.pow(2,x.count-(At+1));Vt?Ue(gn,yr.BLACK):(Ue(gn,yr.BLACK),Ue(gn,yr.RED))}return ee}(new hl(n.length));return new _s(r||t,w)};let aa;const la={};class ca{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,xe.hu)(la&&Yi,"ChildrenNode.ts has not been loaded"),aa=aa||new ca({".priority":la},{".priority":Yi}),aa}get(t){const e=(0,xe.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof _s?e:null}hasIndex(t){return(0,xe.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,xe.hu)(t!==Pr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const f=e.getIterator(lr.Wrap);let w,_=f.getNext();for(;_;)u=u||t.isDefinedOn(_.node),r.push(_),_=f.getNext();w=u?Nl(r,t.getCompare()):la;const x=t.toString(),H=Object.assign({},this.indexSet_);H[x]=t;const ee=Object.assign({},this.indexes_);return ee[x]=w,new ca(ee,H)}addToIndexes(t,e){const r=(0,xe.UI)(this.indexes_,(u,f)=>{const _=(0,xe.DV)(this.indexSet_,f);if((0,xe.hu)(_,"Missing index implementation for "+f),u===la){if(_.isDefinedOn(t.node)){const w=[],x=e.getIterator(lr.Wrap);let H=x.getNext();for(;H;)H.name!==t.name&&w.push(H),H=x.getNext();return w.push(t),Nl(w,_.getCompare())}return la}{const w=e.get(t.name);let x=u;return w&&(x=x.remove(new lr(t.name,w))),x.insert(t,t.node)}});return new ca(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,xe.UI)(this.indexes_,u=>{if(u===la)return u;{const f=e.get(t.name);return f?u.remove(new lr(t.name,f)):u}});return new ca(r,this.indexSet_)}}let La,bi=(()=>{class n{constructor(e,r,u){this.children_=e,this.priorityNode_=r,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&oa(this.priorityNode_),this.children_.isEmpty()&&(0,xe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return La||(La=new n(new _s(ec),null,ca.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||La}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?La:r}}getChild(e){const r=at(e);return null===r?this:this.getImmediateChild(r).getChild(Bt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,xe.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const u=new lr(e,r);let f,_;r.isEmpty()?(f=this.children_.remove(e),_=this.indexMap_.removeFromIndexes(u,this.children_)):(f=this.children_.insert(e,r),_=this.indexMap_.addToIndexes(u,this.children_));const w=f.isEmpty()?La:this.priorityNode_;return new n(f,w,_)}}updateChild(e,r){const u=at(e);if(null===u)return r;{(0,xe.hu)(".priority"!==at(e)||1===Tn(e),".priority must be the last token in a path");const f=this.getImmediateChild(u).updateChild(Bt(e),r);return this.updateImmediateChild(u,f)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let u=0,f=0,_=!0;if(this.forEachChild(Yi,(w,x)=>{r[w]=x.val(e),u++,_&&n.INTEGER_REGEXP_.test(w)?f=Math.max(f,Number(w)):_=!1}),!e&&_&&f<2*u){const w=[];for(const x in r)w[x]=r[x];return w}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+sa(this.getPriority().val())+":"),this.forEachChild(Yi,(r,u)=>{const f=u.hash();""!==f&&(e+=":"+r+":"+f)}),this.lazyHash_=""===e?"":qt(e)}return this.lazyHash_}getPredecessorChildName(e,r,u){const f=this.resolveIndex_(u);if(f){const _=f.getPredecessorKey(new lr(e,r));return _?_.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const u=r.minKey();return u&&u.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new lr(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const u=r.maxKey();return u&&u.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new lr(r,this.children_.get(r)):null}forEachChild(e,r){const u=this.resolveIndex_(e);return u?u.inorderTraversal(f=>r(f.name,f.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const u=this.resolveIndex_(r);if(u)return u.getIteratorFrom(e,f=>f);{const f=this.children_.getIteratorFrom(e.name,lr.Wrap);let _=f.peek();for(;null!=_&&r.compare(_,e)<0;)f.getNext(),_=f.peek();return f}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const u=this.resolveIndex_(r);if(u)return u.getReverseIteratorFrom(e,f=>f);{const f=this.children_.getReverseIteratorFrom(e.name,lr.Wrap);let _=f.peek();for(;null!=_&&r.compare(_,e)>0;)f.getNext(),_=f.peek();return f}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Oo?-1:0}withIndex(e){if(e===Pr||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Pr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const u=this.getIterator(Yi),f=r.getIterator(Yi);let _=u.getNext(),w=f.getNext();for(;_&&w;){if(_.name!==w.name||!_.node.equals(w.node))return!1;_=u.getNext(),w=f.getNext()}return null===_&&null===w}return!1}return!1}}resolveIndex_(e){return e===Pr?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Oo=new class su extends bi{constructor(){super(new _s(ec),bi.EMPTY_NODE,ca.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return bi.EMPTY_NODE}isEmpty(){return!1}};function Yr(n,t=null){if(null===n)return bi.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,xe.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ea(n,Yr(t));if(n instanceof Array){let e=bi.EMPTY_NODE;return R(n,(r,u)=>{if((0,xe.r3)(n,r)&&"."!==r.substring(0,1)){const f=Yr(u);(f.isLeafNode()||!f.isEmpty())&&(e=e.updateImmediateChild(r,f))}}),e.updatePriority(Yr(t))}{const e=[];let r=!1;if(R(n,(_,w)=>{if("."!==_.substring(0,1)){const x=Yr(w);x.isEmpty()||(r=r||!x.getPriority().isEmpty(),e.push(new lr(_,x)))}}),0===e.length)return bi.EMPTY_NODE;const f=Nl(e,Uu,_=>_.name,ec);if(r){const _=Nl(e,Yi.getCompare());return new bi(f,Yr(t),new ca({".priority":_},{".priority":Yi}))}return new bi(f,Yr(t),ca.Default)}}Object.defineProperties(lr,{MIN:{value:new lr(Js,bi.EMPTY_NODE)},MAX:{value:new lr(ss,Oo)}}),vd.__EMPTY_NODE=bi.EMPTY_NODE,Ea.__childrenNodeConstructor=bi,function Ya(n){Ns=n}(Oo),function Ka(n){ru=n}(Oo),function bd(n){vn=n}(Yr);class ou extends Os{constructor(t){super(),this.indexPath_=t,(0,xe.hu)(!Oi(t)&&".priority"!==at(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),u=this.extractChild(e.node),f=r.compareTo(u);return 0===f?os(t.name,e.name):f}makePost(t,e){const r=Yr(t),u=bi.EMPTY_NODE.updateChild(this.indexPath_,r);return new lr(e,u)}maxPost(){const t=bi.EMPTY_NODE.updateChild(this.indexPath_,Oo);return new lr(ss,t)}toString(){return di(this.indexPath_,0).join("/")}}const Ac=new class nc extends Os{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?os(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return lr.MIN}maxPost(){return lr.MAX}makePost(t,e){const r=Yr(t);return new lr(e,r)}toString(){return".value"}},Ja="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ge=function(){let n=0;const t=[];return function(e){const r=e===n;let u;n=e;const f=new Array(8);for(u=7;u>=0;u--)f[u]=Ja.charAt(e%64),e=Math.floor(e/64);(0,xe.hu)(0===e,"Cannot push at time == 0");let _=f.join("");if(r){for(u=11;u>=0&&63===t[u];u--)t[u]=0;t[u]++}else for(u=0;u<12;u++)t[u]=Math.floor(64*Math.random());for(u=0;u<12;u++)_+=Ja.charAt(t[u]);return(0,xe.hu)(20===_.length,"nextPushId: Length should be 20."),_}}(),wt=function(n){if(n===""+_n)return"-";const t=pi(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let _=0;_<e.length;_++)e[_]=n.charAt(_);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return ss;const f=Ja.charAt(Ja.indexOf(e[r])+1);return e[r]=f,e.slice(0,r+1).join("")},Nt=function(n){if(n===""+Dn)return Js;const t=pi(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+_n:(delete e[e.length-1],e.join("")):(e[e.length-1]=Ja.charAt(Ja.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function an(n){return{type:"value",snapshotNode:n}}function On(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function qn(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function _i(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Ai{constructor(t){this.index_=t}updateChild(t,e,r,u,f,_){(0,xe.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const w=t.getImmediateChild(e);return w.getChild(u).equals(r.getChild(u))&&w.isEmpty()===r.isEmpty()||(null!=_&&(r.isEmpty()?t.hasChild(e)?_.trackChildChange(qn(e,w)):(0,xe.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):w.isEmpty()?_.trackChildChange(On(e,r)):_.trackChildChange(_i(e,r,w))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(Yi,(u,f)=>{e.hasChild(u)||r.trackChildChange(qn(u,f))}),e.isLeafNode()||e.forEachChild(Yi,(u,f)=>{if(t.hasChild(u)){const _=t.getImmediateChild(u);_.equals(f)||r.trackChildChange(_i(u,f,_))}else r.trackChildChange(On(u,f))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?bi.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ts{constructor(t){this.indexedFilter_=new Ai(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ts.getStartPost_(t),this.endPost_=Ts.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,u,f,_){return this.matches(new lr(e,r))||(r=bi.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,u,f,_)}updateFullNode(t,e,r){e.isLeafNode()&&(e=bi.EMPTY_NODE);let u=e.withIndex(this.index_);u=u.updatePriority(bi.EMPTY_NODE);const f=this;return e.forEachChild(Yi,(_,w)=>{f.matches(new lr(_,w))||(u=u.updateImmediateChild(_,bi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,u,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class js{constructor(t){this.rangedFilter_=new Ts(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,u,f,_){return this.rangedFilter_.matches(new lr(e,r))||(r=bi.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,u,f,_):this.fullLimitUpdateChild_(t,e,r,f,_)}updateFullNode(t,e,r){let u;if(e.isLeafNode()||e.isEmpty())u=bi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let f;u=bi.EMPTY_NODE.withIndex(this.index_),f=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let _=0;for(;f.hasNext()&&_<this.limit_;){const w=f.getNext();let x;if(x=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),w)<=0:this.index_.compare(w,this.rangedFilter_.getEndPost())<=0,!x)break;u=u.updateImmediateChild(w.name,w.node),_++}}else{let f,_,w,x;if(u=e.withIndex(this.index_),u=u.updatePriority(bi.EMPTY_NODE),this.reverse_){x=u.getReverseIterator(this.index_),f=this.rangedFilter_.getEndPost(),_=this.rangedFilter_.getStartPost();const me=this.index_.getCompare();w=(Ue,ft)=>me(ft,Ue)}else x=u.getIterator(this.index_),f=this.rangedFilter_.getStartPost(),_=this.rangedFilter_.getEndPost(),w=this.index_.getCompare();let H=0,ee=!1;for(;x.hasNext();){const me=x.getNext();!ee&&w(f,me)<=0&&(ee=!0),ee&&H<this.limit_&&w(me,_)<=0?H++:u=u.updateImmediateChild(me.name,bi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,u,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,u,f){let _;if(this.reverse_){const me=this.index_.getCompare();_=(Ue,ft)=>me(ft,Ue)}else _=this.index_.getCompare();const w=t;(0,xe.hu)(w.numChildren()===this.limit_,"");const x=new lr(e,r),H=this.reverse_?w.getFirstChild(this.index_):w.getLastChild(this.index_),ee=this.rangedFilter_.matches(x);if(w.hasChild(e)){const me=w.getImmediateChild(e);let Ue=u.getChildAfterChild(this.index_,H,this.reverse_);for(;null!=Ue&&(Ue.name===e||w.hasChild(Ue.name));)Ue=u.getChildAfterChild(this.index_,Ue,this.reverse_);const ft=null==Ue?1:_(Ue,x);if(ee&&!r.isEmpty()&&ft>=0)return null!=f&&f.trackChildChange(_i(e,r,me)),w.updateImmediateChild(e,r);{null!=f&&f.trackChildChange(qn(e,me));const Vt=w.updateImmediateChild(e,bi.EMPTY_NODE);return null!=Ue&&this.rangedFilter_.matches(Ue)?(null!=f&&f.trackChildChange(On(Ue.name,Ue.node)),Vt.updateImmediateChild(Ue.name,Ue.node)):Vt}}return r.isEmpty()?t:ee&&_(H,x)>=0?(null!=f&&(f.trackChildChange(qn(H.name,H.node)),f.trackChildChange(On(e,r))),w.updateImmediateChild(e,r).updateImmediateChild(H.name,bi.EMPTY_NODE)):t}}class qo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Yi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,xe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,xe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Js}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,xe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,xe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ss}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,xe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Yi}copy(){const t=new qo;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ua(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function rh(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function Sc(n,t){const e=n.copy();return e.index_=t,e}function Cd(n){const t={};if(n.isDefault())return t;let e;return n.index_===Yi?e="$priority":n.index_===Ac?e="$value":n.index_===Pr?e="$key":((0,xe.hu)(n.index_ instanceof ou,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,xe.Pz)(e),n.startSet_&&(t.startAt=(0,xe.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,xe.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,xe.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,xe.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function rf(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Yi&&(t.i=n.index_.toString()),t}class Ed extends O{constructor(t,e,r,u){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=xr("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,xe.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,u){const f=t._path.toString();this.log_("Listen called for "+f+" "+t._queryIdentifier);const _=Ed.getListenId_(t,r),w={};this.listens_[_]=w;const x=Cd(t._queryParams);this.restRequest_(f+".json",x,(H,ee)=>{let me=ee;if(404===H&&(me=null,H=null),null===H&&this.onDataUpdate_(f,me,!1,r),(0,xe.DV)(this.listens_,_)===w){let Ue;Ue=H?401===H?"permission_denied":"rest_error:"+H:"ok",u(Ue,null)}})}unlisten(t,e){const r=Ed.getListenId_(t,e);delete this.listens_[r]}get(t){const e=Cd(t._queryParams),r=t._path.toString(),u=new xe.BH;return this.restRequest_(r+".json",e,(f,_)=>{let w=_;404===f&&(w=null,f=null),null===f?(this.onDataUpdate_(r,w,!1,null),u.resolve(w)):u.reject(new Error(w))}),u.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(e.auth=u.accessToken),f&&f.token&&(e.ac=f.token);const _=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,xe.xO)(e);this.log_("Sending REST request for "+_);const w=new XMLHttpRequest;w.onreadystatechange=()=>{if(r&&4===w.readyState){this.log_("REST Response for "+_+" received. status:",w.status,"response:",w.responseText);let x=null;if(w.status>=200&&w.status<300){try{x=(0,xe.cI)(w.responseText)}catch(H){Er("Failed to parse JSON response for "+_+": "+w.responseText)}r(null,x)}else 401!==w.status&&404!==w.status&&Er("Got unsuccessful REST response for "+_+" Status: "+w.status),r(w.status);r=null}},w.open("GET",_,!0),w.send()})}}class sf{constructor(){this.rootNode_=bi.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function ic(){return{value:null,children:new Map}}function Pl(n,t,e){if(Oi(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=at(t);n.children.has(r)||n.children.set(r,ic()),Pl(n.children.get(r),t=Bt(t),e)}}function sh(n,t){if(Oi(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Yi,(r,u)=>{Pl(n,new we(r),u)}),sh(n,t)}}if(n.children.size>0){const e=at(t);return t=Bt(t),n.children.has(e)&&sh(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function rc(n,t,e){null!==n.value?e(t,n.value):function kl(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,u)=>{rc(u,new we(t.toString()+"/"+r),e)})}class Zg{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&R(this.last_,(r,u)=>{e[r]=e[r]-u}),this.last_=t,e}}class pp{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Zg(t);const r=1e4+2e4*Math.random();nr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;R(t,(u,f)=>{f>0&&(0,xe.r3)(this.statsToReport_,u)&&(e[u]=f,r=!0)}),r&&this.server_.reportStats(e),nr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var lo=(()=>{return(n=lo||(lo={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",lo;var n})();function lu(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Vu{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=lo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Oi(this.path)){if(null!=this.affectedTree.value)return(0,xe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new we(t));return new Vu(pe(),e,this.revert)}}return(0,xe.hu)(at(this.path)===t,"operationForChild called for unrelated child."),new Vu(Bt(this.path),this.affectedTree,this.revert)}}class $u{constructor(t,e){this.source=t,this.path=e,this.type=lo.LISTEN_COMPLETE}operationForChild(t){return Oi(this.path)?new $u(this.source,pe()):new $u(this.source,Bt(this.path))}}class da{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=lo.OVERWRITE}operationForChild(t){return Oi(this.path)?new da(this.source,pe(),this.snap.getImmediateChild(t)):new da(this.source,Bt(this.path),this.snap)}}class po{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=lo.MERGE}operationForChild(t){if(Oi(this.path)){const e=this.children.subtree(new we(t));return e.isEmpty()?null:e.value?new da(this.source,pe(),e.value):new po(this.source,pe(),e)}return(0,xe.hu)(at(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new po(this.source,Bt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Fl{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Oi(t))return this.isFullyInitialized()&&!this.filtered_;const e=at(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class cu{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function xc(n,t,e,r,u,f){const _=r.filter(w=>w.type===e);_.sort((w,x)=>function gp(n,t,e){if(null==t.childName||null==e.childName)throw(0,xe.g5)("Should only compare child_ events.");const r=new lr(t.childName,t.snapshotNode),u=new lr(e.childName,e.snapshotNode);return n.index_.compare(r,u)}(n,w,x)),_.forEach(w=>{const x=function lf(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,w,f);u.forEach(H=>{H.respondsTo(w.type)&&t.push(H.createEvent(x,n.query_))})})}function uu(n,t){return{eventCache:n,serverCache:t}}function Td(n,t,e,r){return uu(new Fl(t,e,r),n.serverCache)}function wd(n,t,e,r){return uu(n.eventCache,new Fl(t,e,r))}function Qa(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ba(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Hu;class ys{constructor(t,e=(()=>(Hu||(Hu=new _s(q)),Hu))()){this.value=t,this.children=e}static fromObject(t){let e=new ys(null);return R(t,(r,u)=>{e=e.set(new we(r),u)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:pe(),value:this.value};if(Oi(t))return null;{const r=at(t),u=this.children.get(r);if(null!==u){const f=u.findRootMostMatchingPathAndValue(Bt(t),e);return null!=f?{path:_r(new we(r),f.path),value:f.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Oi(t))return this;{const e=at(t),r=this.children.get(e);return null!==r?r.subtree(Bt(t)):new ys(null)}}set(t,e){if(Oi(t))return new ys(e,this.children);{const r=at(t),f=(this.children.get(r)||new ys(null)).set(Bt(t),e),_=this.children.insert(r,f);return new ys(this.value,_)}}remove(t){if(Oi(t))return this.children.isEmpty()?new ys(null):new ys(null,this.children);{const e=at(t),r=this.children.get(e);if(r){const u=r.remove(Bt(t));let f;return f=u.isEmpty()?this.children.remove(e):this.children.insert(e,u),null===this.value&&f.isEmpty()?new ys(null):new ys(this.value,f)}return this}}get(t){if(Oi(t))return this.value;{const e=at(t),r=this.children.get(e);return r?r.get(Bt(t)):null}}setTree(t,e){if(Oi(t))return e;{const r=at(t),f=(this.children.get(r)||new ys(null)).setTree(Bt(t),e);let _;return _=f.isEmpty()?this.children.remove(r):this.children.insert(r,f),new ys(this.value,_)}}fold(t){return this.fold_(pe(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((u,f)=>{r[u]=f.fold_(_r(t,u),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,pe(),e)}findOnPath_(t,e,r){const u=!!this.value&&r(e,this.value);if(u)return u;if(Oi(t))return null;{const f=at(t),_=this.children.get(f);return _?_.findOnPath_(Bt(t),_r(e,f),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,pe(),e)}foreachOnPath_(t,e,r){if(Oi(t))return this;{this.value&&r(e,this.value);const u=at(t),f=this.children.get(u);return f?f.foreachOnPath_(Bt(t),_r(e,u),r):new ys(null)}}foreach(t){this.foreach_(pe(),t)}foreach_(t,e){this.children.inorderTraversal((r,u)=>{u.foreach_(_r(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class Xa{constructor(t){this.writeTree_=t}static empty(){return new Xa(new ys(null))}}function Ll(n,t,e){if(Oi(t))return new Xa(new ys(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const u=r.path;let f=r.value;const _=oo(u,t);return f=f.updateChild(_,e),new Xa(n.writeTree_.set(u,f))}{const u=new ys(e),f=n.writeTree_.setTree(t,u);return new Xa(f)}}}function Oc(n,t,e){let r=n;return R(e,(u,f)=>{r=Ll(r,_r(t,u),f)}),r}function oh(n,t){if(Oi(t))return Xa.empty();{const e=n.writeTree_.setTree(t,new ys(null));return new Xa(e)}}function oc(n,t){return null!=Nc(n,t)}function Nc(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(oo(e.path,t)):null}function M(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Yi,(r,u)=>{t.push(new lr(r,u))}):n.writeTree_.children.inorderTraversal((r,u)=>{null!=u.value&&t.push(new lr(r,u.value))}),t}function C(n,t){if(Oi(t))return n;{const e=Nc(n,t);return new Xa(null!=e?new ys(e):n.writeTree_.subtree(t))}}function E(n){return n.writeTree_.isEmpty()}function P(n,t){return ne(pe(),n.writeTree_,t)}function ne(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((u,f)=>{".priority"===u?((0,xe.hu)(null!==f.value,"Priority writes must always be leaf nodes"),r=f.value):e=ne(_r(n,u),f,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(_r(n,".priority"),r)),e}}function Oe(n,t){return cf(t,n)}function Ji(n,t){if(n.snap)return Hs(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Hs(_r(n.path,e),t))return!0;return!1}function Bl(n){return n.visible}function ac(n,t,e){let r=Xa.empty();for(let u=0;u<n.length;++u){const f=n[u];if(t(f)){const _=f.path;let w;if(f.snap)Hs(e,_)?(w=oo(e,_),r=Ll(r,w,f.snap)):Hs(_,e)&&(w=oo(_,e),r=Ll(r,pe(),f.snap.getChild(w)));else{if(!f.children)throw(0,xe.g5)("WriteRecord should have .snap or .children");if(Hs(e,_))w=oo(e,_),r=Oc(r,w,f.children);else if(Hs(_,e))if(w=oo(_,e),Oi(w))r=Oc(r,pe(),f.children);else{const x=(0,xe.DV)(f.children,at(w));if(x){const H=x.getChild(Bt(w));r=Ll(r,pe(),H)}}}}}return r}function pl(n,t,e,r,u){if(r||u){const f=C(n.visibleWrites,t);return!u&&E(f)?e:u||null!=e||oc(f,pe())?P(ac(n.allWrites,function(H){return(H.visible||u)&&(!r||!~r.indexOf(H.writeId))&&(Hs(H.path,t)||Hs(t,H.path))},t),e||bi.EMPTY_NODE):null}{const f=Nc(n.visibleWrites,t);if(null!=f)return f;{const _=C(n.visibleWrites,t);return E(_)?e:null!=e||oc(_,pe())?P(_,e||bi.EMPTY_NODE):null}}}function Dd(n,t,e,r){return pl(n.writeTree,n.treePath,t,e,r)}function ws(n,t){return function Ul(n,t,e){let r=bi.EMPTY_NODE;const u=Nc(n.visibleWrites,t);if(u)return u.isLeafNode()||u.forEachChild(Yi,(f,_)=>{r=r.updateImmediateChild(f,_)}),r;if(e){const f=C(n.visibleWrites,t);return e.forEachChild(Yi,(_,w)=>{const x=P(C(f,new we(_)),w);r=r.updateImmediateChild(_,x)}),M(f).forEach(_=>{r=r.updateImmediateChild(_.name,_.node)}),r}return M(C(n.visibleWrites,t)).forEach(_=>{r=r.updateImmediateChild(_.name,_.node)}),r}(n.writeTree,n.treePath,t)}function Dr(n,t,e,r){return function ju(n,t,e,r,u){(0,xe.hu)(r||u,"Either existingEventSnap or existingServerSnap must exist");const f=_r(t,e);if(oc(n.visibleWrites,f))return null;{const _=C(n.visibleWrites,f);return E(_)?u.getChild(e):P(_,u.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function Gu(n,t){return function yp(n,t){return Nc(n.visibleWrites,t)}(n.writeTree,_r(n.treePath,t))}function Vl(n,t,e){return function _p(n,t,e,r){const u=_r(t,e),f=Nc(n.visibleWrites,u);return null!=f?f:r.isCompleteForChild(e)?P(C(n.visibleWrites,u),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Gs(n,t){return cf(_r(n.treePath,t),n.writeTree)}function cf(n,t){return{treePath:n,writeTree:t}}class kr{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,xe.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,xe.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const f=u.type;if("child_added"===e&&"child_removed"===f)this.changeMap.set(r,_i(r,t.snapshotNode,u.snapshotNode));else if("child_removed"===e&&"child_added"===f)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===f)this.changeMap.set(r,qn(r,u.oldSnap));else if("child_changed"===e&&"child_added"===f)this.changeMap.set(r,On(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==f)throw(0,xe.g5)("Illegal combination of changes: "+t+" occurred after "+u);this.changeMap.set(r,_i(r,t.snapshotNode,u.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const Yg=new class Ps{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class Pc{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Fl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vl(this.writes_,t,r)}}getChildAfterChild(t,e,r){const u=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ba(this.viewCache_),f=function du(n,t,e,r,u,f){return function Rc(n,t,e,r,u,f,_){let w;const x=C(n.visibleWrites,t),H=Nc(x,pe());if(null!=H)w=H;else{if(null==e)return[];w=P(x,e)}if(w=w.withIndex(_),w.isEmpty()||w.isLeafNode())return[];{const ee=[],me=_.getCompare(),Ue=f?w.getReverseIteratorFrom(r,_):w.getIteratorFrom(r,_);let ft=Ue.getNext();for(;ft&&ee.length<u;)0!==me(ft,r)&&ee.push(ft),ft=Ue.getNext();return ee}}(n.writeTree,n.treePath,t,e,r,u,f)}(this.writes_,u,e,1,r,t);return 0===f.length?null:f[0]}}function lh(n,t,e,r,u,f){const _=t.eventCache;if(null!=Gu(r,e))return t;{let w,x;if(Oi(e))if((0,xe.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const H=Ba(t),me=ws(r,H instanceof bi?H:bi.EMPTY_NODE);w=n.filter.updateFullNode(t.eventCache.getNode(),me,f)}else{const H=Dd(r,Ba(t));w=n.filter.updateFullNode(t.eventCache.getNode(),H,f)}else{const H=at(e);if(".priority"===H){(0,xe.hu)(1===Tn(e),"Can't have a priority with additional path components");const ee=_.getNode();x=t.serverCache.getNode();const me=Dr(r,e,ee,x);w=null!=me?n.filter.updatePriority(ee,me):_.getNode()}else{const ee=Bt(e);let me;if(_.isCompleteForChild(H)){x=t.serverCache.getNode();const Ue=Dr(r,e,_.getNode(),x);me=null!=Ue?_.getNode().getImmediateChild(H).updateChild(ee,Ue):_.getNode().getImmediateChild(H)}else me=Vl(r,H,t.serverCache);w=null!=me?n.filter.updateChild(_.getNode(),H,me,ee,u,f):_.getNode()}}return Td(t,w,_.isFullyInitialized()||Oi(e),n.filter.filtersNodes())}}function bp(n,t,e,r,u,f,_,w){const x=t.serverCache;let H;const ee=_?n.filter:n.filter.getIndexedFilter();if(Oi(e))H=ee.updateFullNode(x.getNode(),r,null);else if(ee.filtersNodes()&&!x.isFiltered()){const ft=x.getNode().updateChild(e,r);H=ee.updateFullNode(x.getNode(),ft,null)}else{const ft=at(e);if(!x.isCompleteForPath(e)&&Tn(e)>1)return t;const At=Bt(e),gn=x.getNode().getImmediateChild(ft).updateChild(At,r);H=".priority"===ft?ee.updatePriority(x.getNode(),gn):ee.updateChild(x.getNode(),ft,gn,At,Yg,null)}const me=wd(t,H,x.isFullyInitialized()||Oi(e),ee.filtersNodes());return lh(n,me,e,u,new Pc(u,me,f),w)}function Z_(n,t,e,r,u,f,_){const w=t.eventCache;let x,H;const ee=new Pc(u,t,f);if(Oi(e))H=n.filter.updateFullNode(t.eventCache.getNode(),r,_),x=Td(t,H,!0,n.filter.filtersNodes());else{const me=at(e);if(".priority"===me)H=n.filter.updatePriority(t.eventCache.getNode(),r),x=Td(t,H,w.isFullyInitialized(),w.isFiltered());else{const Ue=Bt(e),ft=w.getNode().getImmediateChild(me);let At;if(Oi(Ue))At=r;else{const Vt=ee.getCompleteChild(me);At=null!=Vt?".priority"===gt(Ue)&&Vt.getChild(Ca(Ue)).isEmpty()?Vt:Vt.updateChild(Ue,r):bi.EMPTY_NODE}x=ft.equals(At)?t:Td(t,n.filter.updateChild(w.getNode(),me,At,Ue,ee,_),w.isFullyInitialized(),n.filter.filtersNodes())}}return x}function ts(n,t){return n.eventCache.isCompleteForChild(t)}function Ro(n,t,e){return e.foreach((r,u)=>{t=t.updateChild(r,u)}),t}function hu(n,t,e,r,u,f,_,w){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let H,x=t;H=Oi(e)?r:new ys(null).setTree(e,r);const ee=t.serverCache.getNode();return H.children.inorderTraversal((me,Ue)=>{if(ee.hasChild(me)){const At=Ro(0,t.serverCache.getNode().getImmediateChild(me),Ue);x=bp(n,x,new we(me),At,u,f,_,w)}}),H.children.inorderTraversal((me,Ue)=>{const ft=!t.serverCache.isCompleteForChild(me)&&void 0===Ue.value;if(!ee.hasChild(me)&&!ft){const Vt=Ro(0,t.serverCache.getNode().getImmediateChild(me),Ue);x=bp(n,x,new we(me),Vt,u,f,_,w)}}),x}class uh{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new Ai(r.getIndex()),f=function au(n){return n.loadsAllData()?new Ai(n.getIndex()):n.hasLimit()?new js(n):new Ts(n)}(r);this.processor_=function q_(n){return{filter:n}}(f);const _=e.serverCache,w=e.eventCache,x=u.updateFullNode(bi.EMPTY_NODE,_.getNode(),null),H=f.updateFullNode(bi.EMPTY_NODE,w.getNode(),null),ee=new Fl(x,_.isFullyInitialized(),u.filtersNodes()),me=new Fl(H,w.isFullyInitialized(),f.filtersNodes());this.viewCache_=uu(me,ee),this.eventGenerator_=new cu(this.query_)}get query(){return this.query_}}function Y_(n,t){const e=Ba(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Oi(t)&&!e.getImmediateChild(at(t)).isEmpty())?e.getChild(t):null}function Ep(n){return 0===n.eventRegistrations_.length}function Kg(n,t,e){const r=[];if(e){(0,xe.hu)(null==t,"A cancel should cancel all event registrations.");const u=n.query._path;n.eventRegistrations_.forEach(f=>{const _=f.createCancelEvent(e,u);_&&r.push(_)})}if(t){let u=[];for(let f=0;f<n.eventRegistrations_.length;++f){const _=n.eventRegistrations_[f];if(_.matches(t)){if(t.hasAnyCallback()){u=u.concat(n.eventRegistrations_.slice(f+1));break}}else u.push(_)}n.eventRegistrations_=u}else n.eventRegistrations_=[];return r}function K_(n,t,e,r){t.type===lo.MERGE&&null!==t.source.queryId&&((0,xe.hu)(Ba(n.viewCache_),"We should always have a full cache before handling merges"),(0,xe.hu)(Qa(n.viewCache_),"Missing event cache, even though we have a server cache"));const u=n.viewCache_,f=function r0(n,t,e,r,u){const f=new kr;let _,w;if(e.type===lo.OVERWRITE){const H=e;H.source.fromUser?_=Z_(n,t,H.path,H.snap,r,u,f):((0,xe.hu)(H.source.fromServer,"Unknown source."),w=H.source.tagged||t.serverCache.isFiltered()&&!Oi(H.path),_=bp(n,t,H.path,H.snap,r,u,w,f))}else if(e.type===lo.MERGE){const H=e;H.source.fromUser?_=function uf(n,t,e,r,u,f,_){let w=t;return r.foreach((x,H)=>{const ee=_r(e,x);ts(t,at(ee))&&(w=Z_(n,w,ee,H,u,f,_))}),r.foreach((x,H)=>{const ee=_r(e,x);ts(t,at(ee))||(w=Z_(n,w,ee,H,u,f,_))}),w}(n,t,H.path,H.children,r,u,f):((0,xe.hu)(H.source.fromServer,"Unknown source."),w=H.source.tagged||t.serverCache.isFiltered(),_=hu(n,t,H.path,H.children,r,u,w,f))}else if(e.type===lo.ACK_USER_WRITE){const H=e;_=H.revert?function ha(n,t,e,r,u,f){let _;if(null!=Gu(r,e))return t;{const w=new Pc(r,t,u),x=t.eventCache.getNode();let H;if(Oi(e)||".priority"===at(e)){let ee;if(t.serverCache.isFullyInitialized())ee=Dd(r,Ba(t));else{const me=t.serverCache.getNode();(0,xe.hu)(me instanceof bi,"serverChildren would be complete if leaf node"),ee=ws(r,me)}ee=ee,H=n.filter.updateFullNode(x,ee,f)}else{const ee=at(e);let me=Vl(r,ee,t.serverCache);null==me&&t.serverCache.isCompleteForChild(ee)&&(me=x.getImmediateChild(ee)),H=null!=me?n.filter.updateChild(x,ee,me,Bt(e),w,f):t.eventCache.getNode().hasChild(ee)?n.filter.updateChild(x,ee,bi.EMPTY_NODE,Bt(e),w,f):x,H.isEmpty()&&t.serverCache.isFullyInitialized()&&(_=Dd(r,Ba(t)),_.isLeafNode()&&(H=n.filter.updateFullNode(H,_,f)))}return _=t.serverCache.isFullyInitialized()||null!=Gu(r,pe()),Td(t,H,_,n.filter.filtersNodes())}}(n,t,H.path,r,u,f):function ch(n,t,e,r,u,f,_){if(null!=Gu(u,e))return t;const w=t.serverCache.isFiltered(),x=t.serverCache;if(null!=r.value){if(Oi(e)&&x.isFullyInitialized()||x.isCompleteForPath(e))return bp(n,t,e,x.getNode().getChild(e),u,f,w,_);if(Oi(e)){let H=new ys(null);return x.getNode().forEachChild(Pr,(ee,me)=>{H=H.set(new we(ee),me)}),hu(n,t,e,H,u,f,w,_)}return t}{let H=new ys(null);return r.foreach((ee,me)=>{const Ue=_r(e,ee);x.isCompleteForPath(Ue)&&(H=H.set(ee,x.getNode().getChild(Ue)))}),hu(n,t,e,H,u,f,w,_)}}(n,t,H.path,H.affectedTree,r,u,f)}else{if(e.type!==lo.LISTEN_COMPLETE)throw(0,xe.g5)("Unknown operation type: "+e.type);_=function df(n,t,e,r,u){const f=t.serverCache;return lh(n,wd(t,f.getNode(),f.isFullyInitialized()||Oi(e),f.isFiltered()),e,r,Yg,u)}(n,t,e.path,r,f)}const x=f.getChanges();return function vp(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=Qa(n);(e.length>0||!n.eventCache.isFullyInitialized()||u&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&e.push(an(Qa(t)))}}(t,_,x),{viewCache:_,changes:x}}(n.processor_,u,t,e,r);return function $l(n,t){(0,xe.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,xe.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,f.viewCache),(0,xe.hu)(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=f.viewCache,Jg(n,f.changes,f.viewCache.eventCache.getNode(),null)}function Jg(n,t,e,r){return function af(n,t,e,r){const u=[],f=[];return t.forEach(_=>{"child_changed"===_.type&&n.index_.indexedValueChanged(_.oldSnap,_.snapshotNode)&&f.push(function Ki(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(_.childName,_.snapshotNode))}),xc(n,u,"child_removed",t,r,e),xc(n,u,"child_added",t,r,e),xc(n,u,"child_moved",f,r,e),xc(n,u,"child_changed",t,r,e),xc(n,u,"value",t,r,e),u}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let Tp,hh;class go{constructor(){this.views=new Map}}function Hl(n,t,e,r){const u=t.source.queryId;if(null!==u){const f=n.views.get(u);return(0,xe.hu)(null!=f,"SyncTree gave us an op for an invalid query."),K_(f,t,e,r)}{let f=[];for(const _ of n.views.values())f=f.concat(K_(_,t,e,r));return f}}function wp(n,t,e,r,u){const _=n.views.get(t._queryIdentifier);if(!_){let w=Dd(e,u?r:null),x=!1;w?x=!0:r instanceof bi?(w=ws(e,r),x=!1):(w=bi.EMPTY_NODE,x=!1);const H=uu(new Fl(w,x,!1),new Fl(r,u,!1));return new uh(t,H)}return _}function Xg(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function fu(n,t){let e=null;for(const r of n.views.values())e=e||Y_(r,t);return e}function em(n,t){return t._queryParams.loadsAllData()?zu(n):n.views.get(t._queryIdentifier)}function Q_(n,t){return null!=em(n,t)}function pu(n){return null!=zu(n)}function zu(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ey=1;class tm{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ys(null),this.pendingWriteTree_=function ah(){return{visibleWrites:Xa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nm(n,t,e,r,u){return function Ct(n,t,e,r,u){(0,xe.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:u}),u&&(n.visibleWrites=Ll(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,u),u?Po(n,new da({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function gl(n,t,e=!1){const r=function Kn(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function Ci(n,t){const e=n.allWrites.findIndex(w=>w.writeId===t);(0,xe.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let u=r.visible,f=!1,_=n.allWrites.length-1;for(;u&&_>=0;){const w=n.allWrites[_];w.visible&&(_>=e&&Ji(w,r.path)?u=!1:Hs(r.path,w.path)&&(f=!0)),_--}return!!u&&(f?(function Rs(n){n.visibleWrites=ac(n.allWrites,Bl,pe()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=oh(n.visibleWrites,r.path):R(r.children,x=>{n.visibleWrites=oh(n.visibleWrites,_r(r.path,x))}),!0))}(n.pendingWriteTree_,t)){let f=new ys(null);return null!=r.snap?f=f.set(pe(),!0):R(r.children,_=>{f=f.set(new we(_),!0)}),Po(n,new Vu(r.path,f,e))}return[]}function el(n,t,e){return Po(n,new da({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function iy(n,t,e,r){const u=t._path,f=n.syncPointTree_.get(u);let _=[];if(f&&("default"===t._queryIdentifier||Q_(f,t))){const w=function ff(n,t,e,r){const u=t._queryIdentifier,f=[];let _=[];const w=pu(n);if("default"===u)for(const[x,H]of n.views.entries())_=_.concat(Kg(H,e,r)),Ep(H)&&(n.views.delete(x),H.query._queryParams.loadsAllData()||f.push(H.query));else{const x=n.views.get(u);x&&(_=_.concat(Kg(x,e,r)),Ep(x)&&(n.views.delete(u),x.query._queryParams.loadsAllData()||f.push(x.query)))}return w&&!pu(n)&&f.push(new(function J_(){return(0,xe.hu)(Tp,"Reference.ts has not been loaded"),Tp}())(t._repo,t._path)),{removed:f,events:_}}(f,t,e,r);(function Id(n){return 0===n.views.size})(f)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const x=w.removed;_=w.events;const H=-1!==x.findIndex(me=>me._queryParams.loadsAllData()),ee=n.syncPointTree_.findOnPath(u,(me,Ue)=>pu(Ue));if(H&&!ee){const me=n.syncPointTree_.subtree(u);if(!me.isEmpty()){const Ue=function sy(n){return n.fold((t,e,r)=>{if(e&&pu(e))return[zu(e)];{let u=[];return e&&(u=Xg(e)),R(r,(f,_)=>{u=u.concat(_)}),u}})}(me);for(let ft=0;ft<Ue.length;++ft){const At=Ue[ft],Vt=At.query,gn=mf(n,At);n.listenProvider_.startListening(vf(Vt),ph(n,Vt),gn.hashFn,gn.onComplete)}}}!ee&&x.length>0&&!r&&(H?n.listenProvider_.stopListening(vf(t),null):x.forEach(me=>{const Ue=n.queryToTagMap.get(_f(me));n.listenProvider_.stopListening(vf(me),Ue)})),function rm(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const u=_f(r),f=n.queryToTagMap.get(u);n.queryToTagMap.delete(u),n.tagToQueryMap.delete(f)}}}(n,x)}return _}function Zo(n,t,e){const r=t._path;let u=null,f=!1;n.syncPointTree_.foreachOnPath(r,(me,Ue)=>{const ft=oo(me,r);u=u||fu(Ue,ft),f=f||pu(Ue)});let w,_=n.syncPointTree_.get(r);_?(f=f||pu(_),u=u||fu(_,pe())):(_=new go,n.syncPointTree_=n.syncPointTree_.set(r,_)),null!=u?w=!0:(w=!1,u=bi.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((Ue,ft)=>{const At=fu(ft,pe());At&&(u=u.updateImmediateChild(Ue,At))}));const x=Q_(_,t);if(!x&&!t._queryParams.loadsAllData()){const me=_f(t);(0,xe.hu)(!n.queryToTagMap.has(me),"View does not exist, but we have a tag");const Ue=function l0(){return ey++}();n.queryToTagMap.set(me,Ue),n.tagToQueryMap.set(Ue,me)}let ee=function hf(n,t,e,r,u,f){const _=wp(n,t,r,u,f);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,_),function o0(n,t){n.eventRegistrations_.push(t)}(_,e),function dh(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Yi,(f,_)=>{r.push(On(f,_))}),e.isFullyInitialized()&&r.push(an(e.getNode())),Jg(n,r,e.getNode(),t)}(_,e)}(_,t,e,Oe(n.pendingWriteTree_,r),u,w);if(!x&&!f){const me=em(_,t);ee=ee.concat(function c0(n,t,e){const r=t._path,u=ph(n,t),f=mf(n,e),_=n.listenProvider_.startListening(vf(t),u,f.hashFn,f.onComplete),w=n.syncPointTree_.subtree(r);if(u)(0,xe.hu)(!pu(w.value),"If we're adding a query, it shouldn't be shadowed");else{const x=w.fold((H,ee,me)=>{if(!Oi(H)&&ee&&pu(ee))return[zu(ee).query];{let Ue=[];return ee&&(Ue=Ue.concat(Xg(ee).map(ft=>ft.query))),R(me,(ft,At)=>{Ue=Ue.concat(At)}),Ue}});for(let H=0;H<x.length;++H){const ee=x[H];n.listenProvider_.stopListening(vf(ee),ph(n,ee))}}return _}(n,t,me))}return ee}function Ip(n,t,e){const u=n.pendingWriteTree_,f=n.syncPointTree_.findOnPath(t,(_,w)=>{const H=fu(w,oo(_,t));if(H)return H});return pl(u,t,f,e,!0)}function Po(n,t){return Ap(t,n.syncPointTree_,null,Oe(n.pendingWriteTree_,pe()))}function Ap(n,t,e,r){if(Oi(n.path))return fh(n,t,e,r);{const u=t.get(pe());null==e&&null!=u&&(e=fu(u,pe()));let f=[];const _=at(n.path),w=n.operationForChild(_),x=t.children.get(_);if(x&&w){const H=e?e.getImmediateChild(_):null,ee=Gs(r,_);f=f.concat(Ap(w,x,H,ee))}return u&&(f=f.concat(Hl(u,n,r,e))),f}}function fh(n,t,e,r){const u=t.get(pe());null==e&&null!=u&&(e=fu(u,pe()));let f=[];return t.children.inorderTraversal((_,w)=>{const x=e?e.getImmediateChild(_):null,H=Gs(r,_),ee=n.operationForChild(_);ee&&(f=f.concat(fh(ee,w,x,H)))}),u&&(f=f.concat(Hl(u,n,r,e))),f}function mf(n,t){const e=t.query,r=ph(n,e);return{hashFn:()=>(function Cp(n){return n.viewCache_.serverCache.getNode()}(t)||bi.EMPTY_NODE).hash(),onComplete:u=>{if("ok"===u)return r?function ny(n,t,e){const r=ry(n,e);if(r){const u=Wu(r),f=u.path,_=u.queryId,w=oo(f,t);return yf(n,f,new $u(lu(_),w))}return[]}(n,e._path,r):function gf(n,t){return Po(n,new $u({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const f=function Mt(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(u,e);return iy(n,e,null,f)}}}}function ph(n,t){const e=_f(t);return n.queryToTagMap.get(e)}function _f(n){return n._path.toString()+"$"+n._queryIdentifier}function ry(n,t){return n.tagToQueryMap.get(t)}function Wu(n){const t=n.indexOf("$");return(0,xe.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new we(n.substr(0,t))}}function yf(n,t,e){const r=n.syncPointTree_.get(t);return(0,xe.hu)(r,"Missing sync point for query tag that we're tracking"),Hl(r,e,Oe(n.pendingWriteTree_,t),null)}function vf(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function X_(){return(0,xe.hu)(hh,"Reference.ts has not been loaded"),hh}())(n._repo,n._path):n}class sm{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new sm(e)}node(){return this.node_}}class om{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=_r(this.path_,t);return new om(this.syncTree_,e)}node(){return Ip(this.syncTree_,this.path_)}}const oy=function(n,t,e){return n&&"object"==typeof n?((0,xe.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?ay(n[".sv"],t,e):"object"==typeof n[".sv"]?Sp(n[".sv"],t):void(0,xe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},ay=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,xe.hu)(!1,"Unexpected server value: "+n)},Sp=function(n,t,e){n.hasOwnProperty("increment")||(0,xe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,xe.hu)(!1,"Unexpected increment value: "+r);const u=t.node();if((0,xe.hu)(null!=u,"Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const _=u.getValue();return"number"!=typeof _?r:_+r},am=function(n,t,e,r){return lm(t,new om(e,n),r)},gh=function(n,t,e){return lm(n,new sm(t),e)};function lm(n,t,e){const r=n.getPriority().val(),u=oy(r,t.getImmediateChild(".priority"),e);let f;if(n.isLeafNode()){const _=n,w=oy(_.getValue(),t,e);return w!==_.getValue()||u!==_.getPriority().val()?new Ea(w,Yr(u)):n}{const _=n;return f=_,u!==_.getPriority().val()&&(f=f.updatePriority(new Ea(u))),_.forEachChild(Yi,(w,x)=>{const H=lm(x,t.getImmediateChild(w),e);H!==x&&(f=f.updateImmediateChild(w,H))}),f}}class Mp{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function mh(n,t){let e=t instanceof we?t:new we(t),r=n,u=at(e);for(;null!==u;){const f=(0,xe.DV)(r.node.children,u)||{children:{},childCount:0};r=new Mp(u,r,f),e=Bt(e),u=at(e)}return r}function $t(n){return n.node.value}function jl(n,t){n.node.value=t,bf(n)}function ml(n){return n.node.childCount>0}function qu(n,t){R(n.node.children,(e,r)=>{t(new Mp(e,n,r))})}function lc(n,t,e,r){e&&!r&&t(n),qu(n,u=>{lc(u,t,!0,r)}),e&&r&&t(n)}function Gl(n){return new we(null===n.parent?n.name:Gl(n.parent)+"/"+n.name)}function bf(n){null!==n.parent&&function xp(n,t,e){const r=function ly(n){return void 0===$t(n)&&!ml(n)}(e),u=(0,xe.r3)(n.node.children,t);r&&u?(delete n.node.children[t],n.node.childCount--,bf(n)):!r&&!u&&(n.node.children[t]=e.node,n.node.childCount++,bf(n))}(n.parent,n.name,n)}const Op=/[\[\].#$\/\u0000-\u001F\u007F]/,ko=/[\[\].#$\u0000-\u001F\u007F]/,Zu=10485760,gu=function(n){return"string"==typeof n&&0!==n.length&&!Op.test(n)},Cf=function(n){return"string"==typeof n&&0!==n.length&&!ko.test(n)},Ad=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Rn(n)||n&&"object"==typeof n&&(0,xe.r3)(n,".sv")},zl=function(n,t,e,r){r&&void 0===t||Lc((0,xe.gK)(n,"value"),t,e)},Lc=function(n,t,e){const r=e instanceof we?new yd(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+To(r));if("function"==typeof t)throw new Error(n+"contains a function "+To(r)+" with contents = "+t.toString());if(Rn(t))throw new Error(n+"contains "+t.toString()+" "+To(r));if("string"==typeof t&&t.length>Zu/3&&(0,xe.ug)(t)>Zu)throw new Error(n+"contains a string greater than "+Zu+" utf8 bytes "+To(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let u=!1,f=!1;if(R(t,(_,w)=>{if(".value"===_)u=!0;else if(".priority"!==_&&".sv"!==_&&(f=!0,!gu(_)))throw new Error(n+" contains an invalid key ("+_+") "+To(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function nu(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,xe.ug)(t),ul(n)})(r,_),Lc(n,w,r),function xo(n){const t=n.parts_.pop();n.byteLength_-=(0,xe.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),u&&f)throw new Error(n+' contains ".value" child '+To(r)+" in addition to actual children.")}},mu=function(n,t,e,r){if(r&&void 0===t)return;const u=(0,xe.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(u+" must be an object containing the children to replace.");const f=[];R(t,(_,w)=>{const x=new we(_);if(Lc(u,w,_r(e,x)),".priority"===gt(x)&&!Ad(w))throw new Error(u+"contains an invalid value for '"+x.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(x)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const f=di(r);for(let _=0;_<f.length;_++)if((".priority"!==f[_]||_!==f.length-1)&&!gu(f[_]))throw new Error(n+"contains an invalid key ("+f[_]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(qa);let u=null;for(e=0;e<t.length;e++){if(r=t[e],null!==u&&Hs(u,r))throw new Error(n+"contains a path "+u.toString()+" that is ancestor of another path "+r.toString());u=r}}(u,f)},_u=function(n,t,e){if(!e||void 0!==t){if(Rn(t))throw new Error((0,xe.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ad(t))throw new Error((0,xe.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Bc=function(n,t,e,r){if(!(r&&void 0===e||gu(e)))throw new Error((0,xe.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Uc=function(n,t,e,r){if(!(r&&void 0===e||Cf(e)))throw new Error((0,xe.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ua=function(n,t){if(".info"===at(t))throw new Error(n+" failed = Can't modify data under /.info/")},cm=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!gu(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Cf(n)}(e))throw new Error((0,xe.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class um{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pp(n,t){let e=null;for(let r=0;r<t.length;r++){const u=t[r],f=u.getPath();null!==e&&!xl(f,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:f}),e.events.push(u)}e&&n.eventLists_.push(e)}function Ef(n,t,e){Pp(n,e),kp(n,r=>xl(r,t))}function _l(n,t,e){Pp(n,e),kp(n,r=>Hs(r,t)||Hs(t,r))}function kp(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const u=n.eventLists_[r];u&&(t(u.path)?(Va(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Va(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();yi&&ei("event: "+e.toString()),Ri(r)}}}const Yu="repo_interrupt";class uy{constructor(t,e,r,u){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new um,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ic(),this.transactionQueueTree_=new Mp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dy(n){const e=n.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Tf(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:dy(n)})}function Sd(n,t,e,r,u){n.dataUpdateCount++;const f=new we(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let _=[];if(u)if(r){const x=(0,xe.UI)(e,H=>Yr(H));_=function Dp(n,t,e,r){const u=ry(n,r);if(u){const f=Wu(u),_=f.path,w=f.queryId,x=oo(_,t),H=ys.fromObject(e);return yf(n,_,new po(lu(w),x,H))}return[]}(n.serverSyncTree_,f,x,u)}else{const x=Yr(e);_=function kc(n,t,e,r){const u=ry(n,r);if(null!=u){const f=Wu(u),_=f.path,w=f.queryId,x=oo(_,t);return yf(n,_,new da(lu(w),x,e))}return[]}(n.serverSyncTree_,f,x,u)}else if(r){const x=(0,xe.UI)(e,H=>Yr(H));_=function pf(n,t,e){const r=ys.fromObject(e);return Po(n,new po({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,f,x)}else{const x=Yr(e);_=el(n.serverSyncTree_,f,x)}let w=f;_.length>0&&(w=Ju(n,f)),_l(n.eventQueue_,w,_)}function yu(n,t){Fp(n,"connected",t),!1===t&&function Lp(n){Nd(n,"onDisconnectEvents");const t=Tf(n),e=ic();rc(n.onDisconnect_,pe(),(u,f)=>{const _=am(u,f,n.serverSyncTree_,t);Pl(e,u,_)});let r=[];rc(e,pe(),(u,f)=>{r=r.concat(el(n.serverSyncTree_,u,f));const _=Vp(n,u);Ju(n,_)}),n.onDisconnect_=ic(),_l(n.eventQueue_,pe(),r)}(n)}function Fp(n,t,e){const r=new we("/.info/"+t),u=Yr(e);n.infoData_.updateSnapshot(r,u);const f=el(n.infoSyncTree_,r,u);_l(n.eventQueue_,r,f)}function Gi(n){return n.nextWriteId_++}function _h(n,t,e,r,u){Nd(n,"set",{path:t.toString(),value:e,priority:r});const f=Tf(n),_=Yr(e,r),w=Ip(n.serverSyncTree_,t),x=gh(_,w,f),H=Gi(n),ee=nm(n.serverSyncTree_,t,x,H,!0);Pp(n.eventQueue_,ee),n.server_.put(t.toString(),_.val(!0),(Ue,ft)=>{const At="ok"===Ue;At||Er("set at "+t+" failed: "+Ue);const Vt=gl(n.serverSyncTree_,H,!At);_l(n.eventQueue_,t,Vt),$c(0,u,Ue,ft)});const me=Vp(n,t);Ju(n,me),_l(n.eventQueue_,me,[])}function Wl(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,u)=>{"ok"===r&&sh(n.onDisconnect_,t),$c(0,e,r,u)})}function Od(n,t,e,r){const u=Yr(e);n.server_.onDisconnectPut(t.toString(),u.val(!0),(f,_)=>{"ok"===f&&Pl(n.onDisconnect_,t,u),$c(0,r,f,_)})}function Yo(n,t,e){let r;r=".info"===at(t._path)?iy(n.infoSyncTree_,t,e):iy(n.serverSyncTree_,t,e),Ef(n.eventQueue_,t._path,r)}function Up(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Yu)}function Nd(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ei(e,...t)}function $c(n,t,e,r){t&&Ri(()=>{if("ok"===e)t(null);else{const u=(e||"error").toUpperCase();let f=u;r&&(f+=": "+r);const _=new Error(f);_.code=u,t(_)}})}function cc(n,t,e){return Ip(n.serverSyncTree_,t,e)||bi.EMPTY_NODE}function Ku(n,t=n.transactionQueueTree_){if(t||bh(n,t),$t(t)){const e=bu(n,t);(0,xe.hu)(e.length>0,"Sending zero length transaction queue"),e.every(u=>0===u.status)&&function vu(n,t,e){const r=e.map(H=>H.currentWriteId),u=cc(n,t,r);let f=u;const _=u.hash();for(let H=0;H<e.length;H++){const ee=e[H];(0,xe.hu)(0===ee.status,"tryToSendTransactionQueue_: items in queue should all be run."),ee.status=1,ee.retryCount++;const me=oo(t,ee.path);f=f.updateChild(me,ee.currentOutputSnapshotRaw)}const w=f.val(!0),x=t;n.server_.put(x.toString(),w,H=>{Nd(n,"transaction put response",{path:x.toString(),status:H});let ee=[];if("ok"===H){const me=[];for(let Ue=0;Ue<e.length;Ue++)e[Ue].status=2,ee=ee.concat(gl(n.serverSyncTree_,e[Ue].currentWriteId)),e[Ue].onComplete&&me.push(()=>e[Ue].onComplete(null,!0,e[Ue].currentOutputSnapshotResolved)),e[Ue].unwatcher();bh(n,mh(n.transactionQueueTree_,t)),Ku(n,n.transactionQueueTree_),_l(n.eventQueue_,t,ee);for(let Ue=0;Ue<me.length;Ue++)Ri(me[Ue])}else{if("datastale"===H)for(let me=0;me<e.length;me++)e[me].status=3===e[me].status?4:0;else{Er("transaction at "+x.toString()+" failed: "+H);for(let me=0;me<e.length;me++)e[me].status=4,e[me].abortReason=H}Ju(n,t)}},_)}(n,Gl(t),e)}else ml(t)&&qu(t,e=>{Ku(n,e)})}function Ju(n,t){const e=fy(n,t),r=Gl(e);return function Qu(n,t,e){if(0===t.length)return;const r=[];let u=[];const _=t.filter(w=>0===w.status).map(w=>w.currentWriteId);for(let w=0;w<t.length;w++){const x=t[w],H=oo(e,x.path);let me,ee=!1;if((0,xe.hu)(null!==H,"rerunTransactionsUnderNode_: relativePath should not be null."),4===x.status)ee=!0,me=x.abortReason,u=u.concat(gl(n.serverSyncTree_,x.currentWriteId,!0));else if(0===x.status)if(x.retryCount>=25)ee=!0,me="maxretry",u=u.concat(gl(n.serverSyncTree_,x.currentWriteId,!0));else{const Ue=cc(n,x.path,_);x.currentInputSnapshot=Ue;const ft=t[w].update(Ue.val());if(void 0!==ft){Lc("transaction failed: Data returned ",ft,x.path);let At=Yr(ft);"object"==typeof ft&&null!=ft&&(0,xe.r3)(ft,".priority")||(At=At.updatePriority(Ue.getPriority()));const gn=x.currentWriteId,kn=Tf(n),Jn=gh(At,Ue,kn);x.currentOutputSnapshotRaw=At,x.currentOutputSnapshotResolved=Jn,x.currentWriteId=Gi(n),_.splice(_.indexOf(gn),1),u=u.concat(nm(n.serverSyncTree_,x.path,Jn,x.currentWriteId,x.applyLocally)),u=u.concat(gl(n.serverSyncTree_,gn,!0))}else ee=!0,me="nodata",u=u.concat(gl(n.serverSyncTree_,x.currentWriteId,!0))}_l(n.eventQueue_,e,u),u=[],ee&&(t[w].status=2,setTimeout(t[w].unwatcher,Math.floor(0)),t[w].onComplete&&r.push("nodata"===me?()=>t[w].onComplete(null,!1,t[w].currentInputSnapshot):()=>t[w].onComplete(new Error(me),!1,null)))}bh(n,n.transactionQueueTree_);for(let w=0;w<r.length;w++)Ri(r[w]);Ku(n,n.transactionQueueTree_)}(n,bu(n,e),r),r}function fy(n,t){let e,r=n.transactionQueueTree_;for(e=at(t);null!==e&&void 0===$t(r);)r=mh(r,e),e=at(t=Bt(t));return r}function bu(n,t){const e=[];return Xu(n,t,e),e.sort((r,u)=>r.order-u.order),e}function Xu(n,t,e){const r=$t(t);if(r)for(let u=0;u<r.length;u++)e.push(r[u]);qu(t,u=>{Xu(n,u,e)})}function bh(n,t){const e=$t(t);if(e){let r=0;for(let u=0;u<e.length;u++)2!==e[u].status&&(e[r]=e[u],r++);e.length=r,jl(t,e.length>0?e:void 0)}qu(t,r=>{bh(n,r)})}function Vp(n,t){const e=Gl(fy(n,t)),r=mh(n.transactionQueueTree_,t);return function d0(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,u=>{$p(n,u)}),$p(n,r),lc(r,u=>{$p(n,u)}),e}function $p(n,t){const e=$t(t);if(e){const r=[];let u=[],f=-1;for(let _=0;_<e.length;_++)3===e[_].status||(1===e[_].status?((0,xe.hu)(f===_-1,"All SENT items should be at beginning of queue."),f=_,e[_].status=3,e[_].abortReason="set"):((0,xe.hu)(0===e[_].status,"Unexpected transaction status in abort"),e[_].unwatcher(),u=u.concat(gl(n.serverSyncTree_,e[_].currentWriteId,!0)),e[_].onComplete&&r.push(e[_].onComplete.bind(null,new Error("set"),!1,null))));-1===f?jl(t,void 0):e.length=f+1,_l(n.eventQueue_,Gl(t),u);for(let _=0;_<r.length;_++)Ri(r[_])}}const py=function(n,t){const e=wf(n),r=e.namespace;return"firebase.com"===e.domain&&tr(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&tr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Er("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new xa(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new we(e.pathString)}},wf=function(n){let t="",e="",r="",u="",f="",_=!0,w="https",x=443;if("string"==typeof n){let H=n.indexOf("//");H>=0&&(w=n.substring(0,H-1),n=n.substring(H+2));let ee=n.indexOf("/");-1===ee&&(ee=n.length);let me=n.indexOf("?");-1===me&&(me=n.length),t=n.substring(0,Math.min(ee,me)),ee<me&&(u=function Jb(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let u=e[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch(f){}t+="/"+u}return t}(n.substring(ee,me)));const Ue=function f0(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Er(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,me)));H=t.indexOf(":"),H>=0?(_="https"===w||"wss"===w,x=parseInt(t.substring(H+1),10)):H=t.length;const ft=t.slice(0,H);if("localhost"===ft.toLowerCase())e="localhost";else if(ft.split(".").length<=2)e=ft;else{const At=t.indexOf(".");r=t.substring(0,At).toLowerCase(),e=t.substring(At+1),f=r}"ns"in Ue&&(f=Ue.ns)}return{host:t,port:x,domain:e,subdomain:r,secure:_,scheme:w,pathString:u,namespace:f}};class Hp{constructor(t,e,r,u){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=u}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,xe.Pz)(this.snapshot.exportVal())}}class gy{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class jp{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,xe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class my{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new xe.BH;return Wl(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ua("OnDisconnect.remove",this._path);const t=new xe.BH;return Od(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ua("OnDisconnect.set",this._path),zl("OnDisconnect.set",t,this._path,!1);const e=new xe.BH;return Od(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ua("OnDisconnect.setWithPriority",this._path),zl("OnDisconnect.setWithPriority",t,this._path,!1),_u("OnDisconnect.setWithPriority",e,!1);const r=new xe.BH;return function Bp(n,t,e,r,u){const f=Yr(e,r);n.server_.onDisconnectPut(t.toString(),f.val(!0),(_,w)=>{"ok"===_&&Pl(n.onDisconnect_,t,f),$c(0,u,_,w)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){Ua("OnDisconnect.update",this._path),mu("OnDisconnect.update",t,this._path,!1);const e=new xe.BH;return function yh(n,t,e,r){if((0,xe.xb)(e))return ei("onDisconnect().update() called with empty data.  Don't do anything."),void $c(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(u,f)=>{"ok"===u&&R(e,(_,w)=>{const x=Yr(w);Pl(n.onDisconnect_,_r(t,_),x)}),$c(0,r,u,f)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Fo{constructor(t,e,r,u){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=u}get key(){return Oi(this._path)?null:gt(this._path)}get ref(){return new uc(this._repo,this._path)}get _queryIdentifier(){const t=rf(this._queryParams),e=V(t);return"{}"===e?"default":e}get _queryObject(){return rf(this._queryParams)}isEqual(t){if(!((t=(0,xe.m9)(t))instanceof Fo))return!1;const e=this._repo===t._repo,r=xl(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ut(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Pd(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ed(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Pr){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Js)throw new Error(r);if("string"!=typeof t)throw new Error(u)}if(n.hasEnd()){if(n.getIndexEndName()!==ss)throw new Error(r);if("string"!=typeof e)throw new Error(u)}}else if(n.getIndex()===Yi){if(null!=t&&!Ad(t)||null!=e&&!Ad(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,xe.hu)(n.getIndex()instanceof ou||n.getIndex()===Ac,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Gp(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class uc extends Fo{constructor(t,e){super(t,e,new qo,!1)}get parent(){const t=Ca(this._path);return null===t?null:new uc(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class kd{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new we(t),r=Hc(this.ref,t);return new kd(this._node.getChild(e),r,Yi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,u)=>t(new kd(u,Hc(this.ref,r),Yi)))}hasChild(t){const e=new we(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dm(n,t){return(n=(0,xe.m9)(n))._checkNotDeleted("ref"),void 0!==t?Hc(n._root,t):n._root}function hm(n,t){(n=(0,xe.m9)(n))._checkNotDeleted("refFromURL");const e=py(t,n._repo.repoInfo_.nodeAdmin);cm("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&tr("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),dm(n,e.path.toString())}function Hc(n,t){return null===at((n=(0,xe.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Uc("child","path",e,!1)):Uc("child","path",t,!1),new uc(n._repo,_r(n._path,t));var e}function Ch(n,t){n=(0,xe.m9)(n),Ua("set",n._path),zl("set",t,n._path,!1);const e=new xe.BH;return _h(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Wp(n,t){mu("update",t,n._path,!1);const e=new xe.BH;return function xd(n,t,e,r){Nd(n,"update",{path:t.toString(),value:e});let u=!0;const f=Tf(n),_={};if(R(e,(w,x)=>{u=!1,_[w]=am(_r(t,w),Yr(x),n.serverSyncTree_,f)}),u)ei("update() called with empty data.  Don't do anything."),$c(0,r,"ok",void 0);else{const w=Gi(n),x=function ty(n,t,e,r){!function en(n,t,e,r){(0,xe.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=Oc(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const u=ys.fromObject(e);return Po(n,new po({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,u))}(n.serverSyncTree_,t,_,w);Pp(n.eventQueue_,x),n.server_.merge(t.toString(),e,(H,ee)=>{const me="ok"===H;me||Er("update at "+t+" failed: "+H);const Ue=gl(n.serverSyncTree_,w,!me),ft=Ue.length>0?Ju(n,t):t;_l(n.eventQueue_,ft,Ue),$c(0,r,H,ee)}),R(e,H=>{const ee=Vp(n,_r(t,H));Ju(n,ee)}),_l(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function yy(n){return function hy(n,t){const e=function im(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(H,ee)=>{const me=oo(H,e);r=r||fu(ee,me)});let u=n.syncPointTree_.get(e);u?r=r||fu(u,pe()):(u=new go,n.syncPointTree_=n.syncPointTree_.set(e,u));const f=null!=r,_=f?new Fl(r,!0,!1):null;return function s0(n){return Qa(n.viewCache_)}(wp(u,t,Oe(n.pendingWriteTree_,t._path),f?_.getNode():bi.EMPTY_NODE,f))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(r=>{const u=Yr(r).withIndex(t._queryParams.getIndex()),f=el(n.serverSyncTree_,t._path,u);return Ef(n.eventQueue_,t._path,f),Promise.resolve(u)},r=>(Nd(n,"get for query "+(0,xe.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,xe.m9)(n))._repo,n).then(t=>new kd(t,new uc(n._repo,n._path),n._queryParams.getIndex()))}class yl{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new Hp("value",this,new kd(t.snapshotNode,new uc(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new gy(this,t,e):null}matches(t){return t instanceof yl&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class If{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new gy(this,t,e):null}createEvent(t,e){(0,xe.hu)(null!=t.childName,"Child events should have a childName.");const r=Hc(new uc(e._repo,e._path),t.childName),u=e._queryParams.getIndex();return new Hp(t.type,this,new kd(t.snapshotNode,r,u),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof If&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Eh(n,t,e,r,u){let f;if("object"==typeof r&&(f=void 0,u=r),"function"==typeof r&&(f=r),u&&u.onlyOnce){const x=e,H=(ee,me)=>{Yo(n._repo,n,w),x(ee,me)};H.userCallback=e.userCallback,H.context=e.context,e=H}const _=new jp(e,f||void 0),w="value"===t?new yl(_):new If(t,_);return function Vc(n,t,e){let r;r=".info"===at(t._path)?Zo(n.infoSyncTree_,t,e):Zo(n.serverSyncTree_,t,e),Ef(n.eventQueue_,t._path,r)}(n._repo,n,w),()=>Yo(n._repo,n,w)}function Af(n,t,e,r){return Eh(n,"value",t,e,r)}function fm(n,t,e,r){return Eh(n,"child_added",t,e,r)}function pm(n,t,e,r){return Eh(n,"child_changed",t,e,r)}function Fd(n,t,e,r){return Eh(n,"child_moved",t,e,r)}function Ld(n,t,e,r){return Eh(n,"child_removed",t,e,r)}function td(n,t,e){let r=null;const u=e?new jp(e):null;"value"===t?r=new yl(u):t&&(r=new If(t,u)),Yo(n._repo,n,r)}class Lo{}class Sf extends Lo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){zl("endAt",this._value,t._path,!0);const e=rh(t._queryParams,this._value,this._key);if(Gp(e),ed(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class Th extends Lo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){zl("endBefore",this._value,t._path,!1);const e=function fo(n,t,e){let r,u;return n.index_===Pr?("string"==typeof t&&(t=Nt(t)),u=rh(n,t,e)):(r=null==e?Js:Nt(e),u=rh(n,t,r)),u.endBeforeSet_=!0,u}(t._queryParams,this._value,this._key);if(Gp(e),ed(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class qp extends Lo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){zl("startAt",this._value,t._path,!0);const e=ua(t._queryParams,this._value,this._key);if(Gp(e),ed(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class Zp extends Lo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){zl("startAfter",this._value,t._path,!1);const e=function Rl(n,t,e){let r;if(n.index_===Pr)"string"==typeof t&&(t=wt(t)),r=ua(n,t,e);else{let u;u=null==e?ss:wt(e),r=ua(n,t,u)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(Gp(e),ed(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class mm extends Lo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fo(t._repo,t._path,function Ta(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class mo extends Lo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fo(t._repo,t._path,function No(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class by extends Lo{constructor(t){super(),this._path=t}_apply(t){Pd(t,"orderByChild");const e=new we(this._path);if(Oi(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new ou(e),u=Sc(t._queryParams,r);return ed(u),new Fo(t._repo,t._path,u,!0)}}class Cy extends Lo{_apply(t){Pd(t,"orderByKey");const e=Sc(t._queryParams,Pr);return ed(e),new Fo(t._repo,t._path,e,!0)}}class m0 extends Lo{_apply(t){Pd(t,"orderByPriority");const e=Sc(t._queryParams,Yi);return ed(e),new Fo(t._repo,t._path,e,!0)}}class Ty extends Lo{_apply(t){Pd(t,"orderByValue");const e=Sc(t._queryParams,Ac);return ed(e),new Fo(t._repo,t._path,e,!0)}}class $a extends Lo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(zl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Sf(this._value,this._key)._apply(new qp(this._value,this._key)._apply(t))}}function Ha(n,...t){let e=(0,xe.m9)(n);for(const r of t)e=r._apply(e);return e}(function Qg(n){(0,xe.hu)(!Tp,"__referenceConstructor has already been defined"),Tp=n})(uc),function a0(n){(0,xe.hu)(!hh,"__referenceConstructor has already been defined"),hh=n}(uc);const Qp={};function ym(n,t,e,r,u){let f=r||n.options.databaseURL;void 0===f&&(n.options.projectId||tr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ei("Using default host for project ",n.options.projectId),f=`${n.options.projectId}-default-rtdb.firebaseio.com`);let x,H,_=py(f,u),w=_.repoInfo;"undefined"!=typeof process&&process.env&&(H=process.env.FIREBASE_DATABASE_EMULATOR_HOST),H?(x=!0,f=`http://${H}?ns=${w.namespace}`,_=py(f,u),w=_.repoInfo):x=!_.repoInfo.secure;const ee=u&&x?new Qr(Qr.OWNER):new wr(n.name,n.options,t);cm("Invalid Firebase Database URL",_),Oi(_.path)||tr("Database URL must point to the root of a Firebase Database (not including a child path).");const me=function bm(n,t,e,r){let u=Qp[t.name];u||(u={},Qp[t.name]=u);let f=u[n.toURLString()];return f&&tr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new uy(n,false,e,r),u[n.toURLString()]=f,f}(w,n,ee,new Wi(n.name,e));return new y0(me,n)}class y0{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function h0(n,t,e){if(n.stats_=Ho(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Ed(n.repoInfo_,(r,u,f,_)=>{Sd(n,r,u,f,_)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>yu(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,xe.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new ir(n.repoInfo_,t,(r,u,f,_)=>{Sd(n,r,u,f,_)},r=>{yu(n,r)},r=>{!function Md(n,t){R(t,(e,r)=>{Fp(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Ml(n,t){const e=n.toString();return Kl[e]||(Kl[e]=t()),Kl[e]}(n.repoInfo_,()=>new pp(n.stats_,n.server_)),n.infoData_=new sf,n.infoSyncTree_=new tm({startListening:(r,u,f,_)=>{let w=[];const x=n.infoData_.getNode(r._path);return x.isEmpty()||(w=el(n.infoSyncTree_,r._path,x),setTimeout(()=>{_("ok")},0)),w},stopListening:()=>{}}),Fp(n,"connected",!1),n.serverSyncTree_=new tm({startListening:(r,u,f,_)=>(n.server_.listen(r,f,u,(w,x)=>{const H=_(w,x);_l(n.eventQueue_,r._path,H)}),[]),stopListening:(r,u)=>{n.server_.unlisten(r,u)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new uc(this._repo,pe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function vm(n,t){const e=Qp[t];(!e||e[n.key]!==n)&&tr(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Up(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&tr("Cannot call "+t+" on a deleted database.")}}function Em(n,t){Ii(n,t)}const Ay={".sv":"timestamp"};class Gc{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ir.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},ir.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Iy(n){Ms(Us.SDK_VERSION),(0,Us._registerComponent)(new Ys.wA("database",(t,{instanceIdentifier:e})=>ym(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Us.registerVersion)(Vs,"0.12.8",n),(0,Us.registerVersion)(Vs,"0.12.8","esm2017")}();const ng=new is.Yd("@firebase/database-compat"),Ih=function(n){ng.warn("FIREBASE WARNING: "+n)};class Dm{constructor(t){this._delegate=t}cancel(t){(0,xe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,xe.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,xe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,xe.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,xe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,xe.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),u=>e(u)),r}setWithPriority(t,e,r){(0,xe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,xe.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const u=this._delegate.setWithPriority(t,e);return r&&u.then(()=>r(null),f=>r(f)),u}update(t,e){if((0,xe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const u={};for(let f=0;f<t.length;++f)u[""+f]=t[f];t=u,Ih("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,xe.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),u=>e(u)),r}}class Im{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,xe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ko{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,xe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,xe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,xe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,xe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,xe.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Uc("DataSnapshot.child","path",t,!1),new Ko(this._database,this._delegate.child(t))}hasChild(t){return(0,xe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Uc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,xe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,xe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,xe.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Ko(this._database,e)))}hasChildren(){return(0,xe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,xe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,xe.Dv)("DataSnapshot.ref",0,0,arguments.length),new vl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class wo{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,u){var f;(0,xe.Dv)("Query.on",2,4,arguments.length),(0,xe.Wj)("Query.on","callback",e,!1);const _=wo.getCancelAndContextArgs_("Query.on",r,u),w=(H,ee)=>{e.call(_.context,new Ko(this.database,H),ee)};w.userCallback=e,w.context=_.context;const x=null===(f=_.cancel)||void 0===f?void 0:f.bind(_.context);switch(t){case"value":return Af(this._delegate,w,x),e;case"child_added":return fm(this._delegate,w,x),e;case"child_removed":return Ld(this._delegate,w,x),e;case"child_changed":return pm(this._delegate,w,x),e;case"child_moved":return Fd(this._delegate,w,x),e;default:throw new Error((0,xe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,xe.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,xe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,xe.Wj)("Query.off","callback",e,!0),(0,xe.lb)("Query.off","context",r,!0),e){const u=()=>{};u.userCallback=e,u.context=r,td(this._delegate,t,u)}else td(this._delegate,t)}get(){return yy(this._delegate).then(t=>new Ko(this.database,t))}once(t,e,r,u){(0,xe.Dv)("Query.once",1,4,arguments.length),(0,xe.Wj)("Query.once","callback",e,!0);const f=wo.getCancelAndContextArgs_("Query.once",r,u),_=new xe.BH,w=(H,ee)=>{const me=new Ko(this.database,H);e&&e.call(f.context,me,ee),_.resolve(me)};w.userCallback=e,w.context=f.context;const x=H=>{f.cancel&&f.cancel.call(f.context,H),_.reject(H)};switch(t){case"value":Af(this._delegate,w,x,{onlyOnce:!0});break;case"child_added":fm(this._delegate,w,x,{onlyOnce:!0});break;case"child_removed":Ld(this._delegate,w,x,{onlyOnce:!0});break;case"child_changed":pm(this._delegate,w,x,{onlyOnce:!0});break;case"child_moved":Fd(this._delegate,w,x,{onlyOnce:!0});break;default:throw new Error((0,xe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return _.promise}limitToFirst(t){return(0,xe.Dv)("Query.limitToFirst",1,1,arguments.length),new wo(this.database,Ha(this._delegate,function Yp(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new mm(n)}(t)))}limitToLast(t){return(0,xe.Dv)("Query.limitToLast",1,1,arguments.length),new wo(this.database,Ha(this._delegate,function g0(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new mo(n)}(t)))}orderByChild(t){return(0,xe.Dv)("Query.orderByChild",1,1,arguments.length),new wo(this.database,Ha(this._delegate,function Qb(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Uc("orderByChild","path",n,!1),new by(n)}(t)))}orderByKey(){return(0,xe.Dv)("Query.orderByKey",0,0,arguments.length),new wo(this.database,Ha(this._delegate,function Ey(){return new Cy}()))}orderByPriority(){return(0,xe.Dv)("Query.orderByPriority",0,0,arguments.length),new wo(this.database,Ha(this._delegate,function Kp(){return new m0}()))}orderByValue(){return(0,xe.Dv)("Query.orderByValue",0,0,arguments.length),new wo(this.database,Ha(this._delegate,function wy(){return new Ty}()))}startAt(t=null,e){return(0,xe.Dv)("Query.startAt",0,2,arguments.length),new wo(this.database,Ha(this._delegate,function vy(n=null,t){return Bc("startAt","key",t,!0),new qp(n,t)}(t,e)))}startAfter(t=null,e){return(0,xe.Dv)("Query.startAfter",0,2,arguments.length),new wo(this.database,Ha(this._delegate,function gm(n,t){return Bc("startAfter","key",t,!0),new Zp(n,t)}(t,e)))}endAt(t=null,e){return(0,xe.Dv)("Query.endAt",0,2,arguments.length),new wo(this.database,Ha(this._delegate,function Bd(n,t){return Bc("endAt","key",t,!0),new Sf(n,t)}(t,e)))}endBefore(t=null,e){return(0,xe.Dv)("Query.endBefore",0,2,arguments.length),new wo(this.database,Ha(this._delegate,function wh(n,t){return Bc("endBefore","key",t,!0),new Th(n,t)}(t,e)))}equalTo(t,e){return(0,xe.Dv)("Query.equalTo",1,2,arguments.length),new wo(this.database,Ha(this._delegate,function Jp(n,t){return Bc("equalTo","key",t,!0),new $a(n,t)}(t,e)))}toString(){return(0,xe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,xe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,xe.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof wo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const u={cancel:void 0,context:void 0};if(e&&r)u.cancel=e,(0,xe.Wj)(t,"cancel",u.cancel,!0),u.context=r,(0,xe.lb)(t,"context",u.context,!0);else if(e)if("object"==typeof e&&null!==e)u.context=e;else{if("function"!=typeof e)throw new Error((0,xe.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");u.cancel=e}return u}get ref(){return new vl(this.database,new uc(this._delegate._repo,this._delegate._path))}}class vl extends wo{constructor(t,e){super(t,new Fo(e._repo,e._path,new qo,!1)),this.database=t,this._delegate=e}getKey(){return(0,xe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,xe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new vl(this.database,Hc(this._delegate,t))}getParent(){(0,xe.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new vl(this.database,t):null}getRoot(){return(0,xe.Dv)("Reference.root",0,0,arguments.length),new vl(this.database,this._delegate.root)}set(t,e){(0,xe.Dv)("Reference.set",1,2,arguments.length),(0,xe.Wj)("Reference.set","onComplete",e,!0);const r=Ch(this._delegate,t);return e&&r.then(()=>e(null),u=>e(u)),r}update(t,e){if((0,xe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const u={};for(let f=0;f<t.length;++f)u[""+f]=t[f];t=u,Ih("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ua("Reference.update",this._delegate._path),(0,xe.Wj)("Reference.update","onComplete",e,!0);const r=Wp(this._delegate,t);return e&&r.then(()=>e(null),u=>e(u)),r}setWithPriority(t,e,r){(0,xe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,xe.Wj)("Reference.setWithPriority","onComplete",r,!0);const u=function _y(n,t,e){if(Ua("setWithPriority",n._path),zl("setWithPriority",t,n._path,!1),_u("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new xe.BH;return _h(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&u.then(()=>r(null),f=>r(f)),u}remove(t){(0,xe.Dv)("Reference.remove",0,1,arguments.length),(0,xe.Wj)("Reference.remove","onComplete",t,!0);const e=function p0(n){return Ua("remove",n._path),Ch(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,xe.Dv)("Reference.transaction",1,3,arguments.length),(0,xe.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,xe.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,xe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const u=function Tm(n,t,e){var r;if(n=(0,xe.m9)(n),Ua("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const u=null===(r=null==e?void 0:e.applyLocally)||void 0===r||r,f=new xe.BH,w=Af(n,()=>{});return function Rd(n,t,e,r,u,f){Nd(n,"transaction on "+t);const _={path:t,update:e,onComplete:r,status:null,order:Pt(),applyLocally:f,retryCount:0,unwatcher:u,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},w=cc(n,t,void 0);_.currentInputSnapshot=w;const x=_.update(w.val());if(void 0===x)_.unwatcher(),_.currentOutputSnapshotRaw=null,_.currentOutputSnapshotResolved=null,_.onComplete&&_.onComplete(null,!1,_.currentInputSnapshot);else{Lc("transaction failed: Data returned ",x,_.path),_.status=0;const H=mh(n.transactionQueueTree_,t),ee=$t(H)||[];let me;ee.push(_),jl(H,ee),"object"==typeof x&&null!==x&&(0,xe.r3)(x,".priority")?(me=(0,xe.DV)(x,".priority"),(0,xe.hu)(Ad(me),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):me=(Ip(n.serverSyncTree_,t)||bi.EMPTY_NODE).getPriority().val();const Ue=Tf(n),ft=Yr(x,me),At=gh(ft,w,Ue);_.currentOutputSnapshotRaw=ft,_.currentOutputSnapshotResolved=At,_.currentWriteId=Gi(n);const Vt=nm(n.serverSyncTree_,t,At,_.currentWriteId,_.applyLocally);_l(n.eventQueue_,t,Vt),Ku(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(x,H,ee)=>{let me=null;x?f.reject(x):(me=new kd(ee,new uc(n._repo,n._path),Yi),f.resolve(new Gc(H,me)))},w,u),f.promise}(this._delegate,t,{applyLocally:r}).then(f=>new Im(f.committed,new Ko(this.database,f.snapshot)));return e&&u.then(f=>e(null,f.committed,f.snapshot),f=>e(f,!1,null)),u}setPriority(t,e){(0,xe.Dv)("Reference.setPriority",1,2,arguments.length),(0,xe.Wj)("Reference.setPriority","onComplete",e,!0);const r=function zp(n,t){n=(0,xe.m9)(n),Ua("setPriority",n._path),_u("setPriority",t,!1);const e=new xe.BH;return _h(n._repo,_r(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),u=>e(u)),r}push(t,e){(0,xe.Dv)("Reference.push",0,2,arguments.length),(0,xe.Wj)("Reference.push","onComplete",e,!0);const r=function Df(n,t){n=(0,xe.m9)(n),Ua("push",n._path),zl("push",t,n._path,!0);const e=dy(n._repo),r=Ge(e),u=Hc(n,r),f=Hc(n,r);let _;return _=null!=t?Ch(f,t).then(()=>f):Promise.resolve(f),u.then=_.then.bind(_),u.catch=_.then.bind(_,void 0),u}(this._delegate,t),u=r.then(_=>new vl(this.database,_));e&&u.then(()=>e(null),_=>e(_));const f=new vl(this.database,r);return f.then=u.then.bind(u),f.catch=u.catch.bind(u,void 0),f}onDisconnect(){return Ua("Reference.onDisconnect",this._delegate._path),new Dm(new my(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Cu{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,r={}){!function Cm(n,t,e,r={}){(n=(0,xe.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&tr("Cannot call useEmulator() after instance has already been initialized.");const u=n._repoInternal;let f;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&tr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Qr(Qr.OWNER);else if(r.mockUserToken){const _="string"==typeof r.mockUserToken?r.mockUserToken:(0,xe.Sg)(r.mockUserToken,n.app.options.projectId);f=new Qr(_)}!function Dy(n,t,e,r){n.repoInfo_=new xa(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(u,t,e,f)}(this._delegate,t,e,r)}ref(t){if((0,xe.Dv)("database.ref",0,1,arguments.length),t instanceof vl){const e=hm(this._delegate,t.toString());return new vl(this,e)}{const e=dm(this._delegate,t);return new vl(this,e)}}refFromURL(t){(0,xe.Dv)("database.refFromURL",1,1,arguments.length);const r=hm(this._delegate,t);return new vl(this,r)}goOffline(){return(0,xe.Dv)("database.goOffline",0,0,arguments.length),function Xp(n){(n=(0,xe.m9)(n))._checkNotDeleted("goOffline"),Up(n._repo)}(this._delegate)}goOnline(){return(0,xe.Dv)("database.goOnline",0,0,arguments.length),function Dh(n){(n=(0,xe.m9)(n))._checkNotDeleted("goOnline"),function vh(n){n.persistentConnection_&&n.persistentConnection_.resume(Yu)}(n._repo)}(this._delegate)}}Cu.ServerValue={TIMESTAMP:function Sy(){return Ay}(),increment:n=>function v0(n){return{".sv":{increment:n}}}(n)};var rg=Object.freeze({__proto__:null,initStandalone:function Am({app:n,url:t,version:e,customAuthImpl:r,namespace:u,nodeAdmin:f=!1}){Ms(e);const _=new Ys.zt("auth-internal",new Ys.H0("database-standalone"));return _.setComponent(new Ys.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Cu(ym(n,_,void 0,t,f),n),namespace:u}}});const b0=Cu.ServerValue;!function Sm(n){n.INTERNAL.registerComponent(new Ys.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),u=t.getProvider("database").getImmediate({identifier:e});return new Cu(u,r)},"PUBLIC").setServiceProps({Reference:vl,Query:wo,Database:Cu,DataSnapshot:Ko,enableLogging:Em,INTERNAL:rg,ServerValue:b0}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.8")}(ar.Z);var bl=L(1205),xy=L(440),Oy=L(127);function Mm(n){return null==n}function xm(n){return"function"==typeof n.set}function og(n,t){return xm(t)?t:n.ref(t)}function dc(n,t){if(function Ud(n){return"string"==typeof n}(n))return t.stringCase();if(xm(n))return t.firebaseCase();if(function sg(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function nd(n,t,e="on",r=Bs.z){return new Xt.y(u=>{let f=null;return f=n[e](t,(_,w)=>{r.schedule(()=>{u.next({snapshot:_,prevKey:w})}),"once"===e&&r.schedule(()=>u.complete())},_=>{r.schedule(()=>u.error(_))}),"on"===e?{unsubscribe(){null!=f&&n.off(t,f)}}:{unsubscribe(){}}}).pipe((0,sn.U)(u=>{const{snapshot:f,prevKey:_}=u;let w=null;return f.exists()&&(w=f.key),{type:t,payload:f,prevKey:_,key:w}}),(0,qs.B)())}function Ny(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function Nm(n,t){const{payload:e,prevKey:r,key:u}=t,f=Ny(n,u),_=function Ry(n,t){if(Mm(t))return 0;{const e=Ny(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let w=null;t.payload.forEach(x=>{const H={payload:x,type:"value",prevKey:w,key:x.key};return w=x.key,n=[...n,H],!1})}return n;case"child_added":if(f>-1){const w=n[f-1];(w&&w.key||null)!==r&&(n=n.filter(x=>x.payload.key!==e.key)).splice(_,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(_,0,t)}return n;case"child_removed":return n.filter(w=>w.payload.key!==e.key);case"child_changed":return n.map(w=>w.payload.key===u?t:w);case"child_moved":if(f>-1){const w=n.splice(f,1)[0];return(n=n.slice()).splice(_,0,w),n}return n;default:return n}}function Of(n){return(Mm(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function ag(n,t,e){return function Om(n,t,e){return nd(n,"value","once",e).pipe((0,Br.w)(r=>{const u=[(0,St.of)(r)];return t.forEach(f=>u.push(nd(n,f,"on",e))),(0,ro.T)(...u).pipe((0,So.R)(Nm,[]))}),(0,br.x)())}(n,t=Of(t),e)}function id(n,t,e){const r=(t=Of(t)).map(u=>nd(n,u,"on",e));return(0,ro.T)(...r)}function Rf(n,t){return function(r,u){return dc(r,{stringCase:()=>n.child(r)[t](u),firebaseCase:()=>r[t](u),snapshotCase:()=>r.ref[t](u)})}}function Vd(n){return function(e){return e?dc(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function Ah(n,t){return function(){return nd(n,"value","on",t)}}const Mh=new s.OlP("angularfire2.realtimeDatabaseURL"),Rm=new s.OlP("angularfire2.database.use-emulator");let hc=(()=>{class n{constructor(e,r,u,f,_,w,x,H,ee,me,Ue,ft,At,Vt,gn){this.schedulers=w;const kn=x,Jn=(0,Mr.on)(e,_,r);H&&(0,bl.nw)(Jn,_,ee,Ue,ft,At,me,Vt),this.database=(0,Mr.cc)(`${Jn.name}.database.${u}`,"AngularFireDatabase",Jn.name,()=>{const $i=_.runOutsideAngular(()=>Jn.database(u||void 0));return kn&&$i.useEmulator(...kn),$i},[kn])}list(e,r){const u=this.schedulers.ngZone.runOutsideAngular(()=>og(this.database,e));let f=u;return r&&(f=r(u)),function rd(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Rf(r,"update"),set:Rf(r,"set"),push:u=>r.push(u),remove:Vd(r),snapshotChanges:u=>ag(n,u,e).pipe(ds.iC),stateChanges:u=>id(n,u,e).pipe(ds.iC),auditTrail:u=>function Py(n,t,e){return function lg(n,t,e){return function Nf(n,t){return nd(n,"value","on",t).pipe((0,sn.U)(e=>{let r;return e.payload.forEach(u=>(r=u.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(qr(t),(0,sn.U)(([u,f])=>{const _=u.lastKeyToLoad,w=f.map(x=>x.key);return{actions:f,lastKeyToLoad:_,loadedKeys:w}}),function us(n){return(0,Zs.e)((t,e)=>{let r=!1,u=0;t.subscribe((0,gs.x)(e,f=>(r||(r=!n(f,u++)))&&e.next(f)))})}(u=>-1===u.loadedKeys.indexOf(u.lastKeyToLoad)),(0,sn.U)(u=>u.actions))}(n,id(n,t).pipe((0,So.R)((u,f)=>[...u,f],[])),e)}(n,u,e).pipe(ds.iC),valueChanges:(u,f)=>ag(n,u,e).pipe((0,sn.U)(w=>w.map(x=>f&&f.idField?Object.assign(Object.assign({},x.payload.val()),{[f.idField]:x.key}):x.payload.val())),ds.iC)}}(f,this)}object(e){return function Sh(n,t){return{query:n,snapshotChanges:()=>Ah(n,t.schedulers.outsideAngular)().pipe(ds.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>Ah(n,t.schedulers.outsideAngular)().pipe(ds.iC,(0,sn.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>og(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Mr.Dh),s.LFG(Mr.xv,8),s.LFG(Mh,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(ds.HU),s.LFG(Rm,8),s.LFG(bl.zQ,8),s.LFG(bl.Qv,8),s.LFG(bl.L6,8),s.LFG(bl._Q,8),s.LFG(bl.rT,8),s.LFG(bl.lh,8),s.LFG(bl.f7,8),s.LFG(xy.nm,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ky=(()=>{class n{constructor(){Oy.Z.registerVersion("angularfire",ds.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[hc]}),n})();const C0=[];let Pm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ye.Bz.forRoot(C0)],ye.Bz]}),n})();var Eu=L(515),vs=L(7579),cg=L(5577),E0=L(1144),$d=L(576),Cl=L(3268);const Pf=["addListener","removeListener"],Fy=["addEventListener","removeEventListener"],km=["on","off"];function Bo(n,t,e,r){if((0,$d.m)(e)&&(r=e,e=void 0),r)return Bo(n,t,e).pipe((0,Cl.Z)(r));const[u,f]=function Uy(n){return(0,$d.m)(n.addEventListener)&&(0,$d.m)(n.removeEventListener)}(n)?Fy.map(_=>w=>n[_](t,w,e)):function Ly(n){return(0,$d.m)(n.addListener)&&(0,$d.m)(n.removeListener)}(n)?Pf.map(ug(n,t)):function By(n){return(0,$d.m)(n.on)&&(0,$d.m)(n.off)}(n)?km.map(ug(n,t)):[];if(!u&&(0,E0.z)(n))return(0,cg.z)(_=>Bo(_,t,e))((0,As.Xf)(n));if(!u)throw new TypeError("Invalid event target");return new Xt.y(_=>{const w=(...x)=>_.next(1<x.length?x:x[0]);return u(w),()=>f(w)})}function ug(n,t){return e=>r=>n[e](t,r)}var T0=L(3532);function $y(n=0,t,e=Bs.P){let r=-1;return null!=t&&((0,T0.K)(t)?e=t:r=t),new Xt.y(u=>{let f=function Vy(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;f<0&&(f=0);let _=0;return e.schedule(function(){u.closed||(u.next(_++),0<=r?this.schedule(void 0,r):u.complete())},f)})}const{isArray:Hy}=Array;function dg(n){return 1===n.length&&Hy(n[0])?n[0]:n}var Tu=L(1135),xh=L(9841);const Gy=new Xt.y(Ss.Z);function Oh(...n){const t=(0,Qo.jO)(n),e=dg(n);return e.length?new Xt.y(r=>{let u=e.map(()=>[]),f=e.map(()=>!1);r.add(()=>{u=f=null});for(let _=0;!r.closed&&_<e.length;_++)(0,As.Xf)(e[_]).subscribe((0,gs.x)(r,w=>{if(u[_].push(w),u.every(x=>x.length)){const x=u.map(H=>H.shift());r.next(t?t(...x):x),u.some((H,ee)=>!H.length&&f[ee])&&r.complete()}},()=>{f[_]=!0,!u[_].length&&r.complete()}));return()=>{u=f=null}}):Eu.E}var Lm=L(7272);function co(n){return(0,Zs.e)((t,e)=>{(0,As.Xf)(n).subscribe((0,gs.x)(e,()=>e.complete(),Ss.Z)),!e.closed&&t.subscribe(e)})}var tl=L(5698),fg=L(8675),kf=L(8505);var Pn=L(2382);Math,Math,Math;const r_=["*"];function Ig(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(){const f=s.CHM(e).$implicit,_=s.oxw();return _.focus(),_.select(f.id,_.NgbSlideEventSource.INDICATOR)}),s.qZA()}if(2&n){const e=t.$implicit,r=s.oxw();s.ekj("active",e.id===r.activeId),s.uIk("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===r.activeId)}}function tv(n,t){}function nv(n,t){if(1&n&&(s.TgZ(0,"div",7)(1,"span",8),s.SDv(2,9),s.qZA(),s.YNc(3,tv,0,0,"ng-template",10),s.qZA()),2&n){const e=t.$implicit,r=t.index,u=t.count;s.Q6J("id","slide-"+e.id),s.xp6(2),s.pQV(r+1)(u),s.QtT(2),s.xp6(1),s.Q6J("ngTemplateOutlet",e.tplRef)}}function iv(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){return s.CHM(e),s.oxw().arrowLeft()}),s._UZ(1,"span",12),s.TgZ(2,"span",8),s.SDv(3,13),s.qZA()()}}function Ag(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",14),s.NdJ("click",function(){return s.CHM(e),s.oxw().arrowRight()}),s._UZ(1,"span",15),s.TgZ(2,"span",8),s.SDv(3,16),s.qZA()()}}const rv=["ngbDatepickerDayView",""],sv=["month"],Zd=["year"];function s_(n,t){if(1&n&&(s.TgZ(0,"option",5),s._uU(1),s.qZA()),2&n){const e=t.$implicit,r=s.oxw();s.Q6J("value",e),s.uIk("aria-label",r.i18n.getMonthFullName(e,null==r.date?null:r.date.year)),s.xp6(1),s.Oqu(r.i18n.getMonthShortName(e,null==r.date?null:r.date.year))}}function ov(n,t){if(1&n&&(s.TgZ(0,"option",5),s._uU(1),s.qZA()),2&n){const e=t.$implicit,r=s.oxw();s.Q6J("value",e),s.xp6(1),s.Oqu(r.i18n.getYearNumerals(e))}}function yo(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"ngb-datepicker-navigation-select",7),s.NdJ("select",function(u){return s.CHM(e),s.oxw().select.emit(u)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("date",e.date)("disabled",e.disabled)("months",e.selectBoxes.months)("years",e.selectBoxes.years)}}function Sg(n,t){1&n&&s._UZ(0,"div",0)}function k0(n,t){1&n&&s._UZ(0,"div",0)}function Mg(n,t){if(1&n&&(s.YNc(0,Sg,1,0,"div",9),s.TgZ(1,"div",10),s._uU(2),s.qZA(),s.YNc(3,k0,1,0,"div",9)),2&n){const e=t.$implicit,r=t.index,u=s.oxw(2);s.Q6J("ngIf",r>0),s.xp6(2),s.hij(" ",u.i18n.getMonthLabel(e.firstDate)," "),s.xp6(1),s.Q6J("ngIf",r!==u.months.length-1)}}function Kf(n,t){if(1&n&&s.YNc(0,Mg,4,3,"ng-template",8),2&n){const e=s.oxw();s.Q6J("ngForOf",e.months)}}const av=["defaultDayTemplate"],jh=["content"];function lv(n,t){if(1&n&&s._UZ(0,"div",7),2&n){const r=t.currentMonth,u=t.selected,f=t.disabled,_=t.focused;s.Q6J("date",t.date)("currentMonth",r)("selected",u)("disabled",f)("focused",_)}}function Iu(n,t){if(1&n&&(s.TgZ(0,"div",12),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,r=s.oxw(2);s.xp6(1),s.hij(" ",r.i18n.getMonthLabel(e.firstDate)," ")}}function Yd(n,t){if(1&n&&(s.TgZ(0,"div",9),s.YNc(1,Iu,2,1,"div",10),s._UZ(2,"ngb-datepicker-month",11),s.qZA()),2&n){const e=t.$implicit,r=s.oxw(2);s.xp6(1),s.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),s.xp6(1),s.Q6J("month",e.firstDate)}}function Au(n,t){if(1&n&&s.YNc(0,Yd,3,2,"div",8),2&n){const e=s.oxw();s.Q6J("ngForOf",e.model.months)}}function Gh(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"ngb-datepicker-navigation",13),s.NdJ("navigate",function(u){return s.CHM(e),s.oxw().onNavigateEvent(u)})("select",function(u){return s.CHM(e),s.oxw().onNavigateDateSelect(u)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("date",e.model.firstDate)("months",e.model.months)("disabled",e.model.disabled)("showSelect","select"===e.model.navigation)("prevDisabled",e.model.prevDisabled)("nextDisabled",e.model.nextDisabled)("selectBoxes",e.model.selectBoxes)}}function fd(n,t){}function cv(n,t){}function F0(n,t){if(1&n&&(s.TgZ(0,"div",5),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.i18n.getWeekLabel())}}function xg(n,t){if(1&n&&(s.TgZ(0,"div",6),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e)}}function Kd(n,t){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,F0,2,1,"div",3),s.YNc(2,xg,2,1,"div",4),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.datepicker.showWeekNumbers),s.xp6(1),s.Q6J("ngForOf",e.viewModel.weekdays)}}function pa(n,t){if(1&n&&(s.TgZ(0,"div",11),s._uU(1),s.qZA()),2&n){const e=s.oxw(2).$implicit,r=s.oxw();s.xp6(1),s.Oqu(r.i18n.getWeekNumerals(e.number))}}function L0(n,t){}function uv(n,t){if(1&n&&s.YNc(0,L0,0,0,"ng-template",14),2&n){const e=s.oxw().$implicit,r=s.oxw(3);s.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",e.context)}}function Kc(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12),s.NdJ("click",function(u){const _=s.CHM(e).$implicit;return s.oxw(3).doSelect(_),u.preventDefault()}),s.YNc(1,uv,1,2,"ng-template",13),s.qZA()}if(2&n){const e=t.$implicit;s.ekj("disabled",e.context.disabled)("hidden",e.hidden)("ngb-dp-today",e.context.today),s.Q6J("tabindex",e.tabindex),s.uIk("aria-label",e.ariaLabel),s.xp6(1),s.Q6J("ngIf",!e.hidden)}}function vc(n,t){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,pa,2,1,"div",9),s.YNc(2,Kc,2,9,"div",10),s.qZA()),2&n){const e=s.oxw().$implicit,r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.datepicker.showWeekNumbers),s.xp6(1),s.Q6J("ngForOf",e.days)}}function Zl(n,t){1&n&&s.YNc(0,vc,3,2,"div",7),2&n&&s.Q6J("ngIf",!t.$implicit.collapsed)}const dv=["dialog"];function Cc(n){return parseInt(`${n}`,10)}function Io(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function Mu(n){return null!=n}function Xf(n,t){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(t)>=0}function bs(n){return(n||document.body).getBoundingClientRect()}const Mv={animation:!0,transitionTimerDelayMs:5},Pg=()=>{},{transitionTimerDelayMs:ep}=Mv,eh=new Map,Ia=(n,t,e,r)=>{let u=r.context||{};const f=eh.get(t);if(f)switch(r.runningTransition){case"continue":return Eu.E;case"stop":n.run(()=>f.transition$.complete()),u=Object.assign(f.context,u),eh.delete(t)}const _=e(t,r.animation,u)||Pg;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>_()),(0,St.of)(void 0).pipe(function lC(n){return t=>new Xt.y(e=>t.subscribe({next:_=>n.run(()=>e.next(_)),error:_=>n.run(()=>e.error(_)),complete:()=>n.run(()=>e.complete())}))}(n));const w=new vs.x,x=new vs.x,H=w.pipe(function ql(...n){return t=>(0,Lm.z)(t,(0,St.of)(...n))}(!0));eh.set(t,{transition$:w,complete:()=>{x.next(),x.complete()},context:u});const ee=function Sv(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const me=Bo(t,"transitionend").pipe(co(H),(0,En.h)(({target:ft})=>ft===t));(function hg(...n){return 1===(n=dg(n)).length?(0,As.Xf)(n[0]):new Xt.y(function jy(n){return t=>{let e=[];for(let r=0;e&&!t.closed&&r<n.length;r++)e.push((0,As.Xf)(n[r]).subscribe((0,gs.x)(t,u=>{if(e){for(let f=0;f<e.length;f++)f!==r&&e[f].unsubscribe();e=null}t.next(u)})))}}(n))})($y(ee+ep).pipe(co(H)),me,x).pipe(co(H)).subscribe(()=>{eh.delete(t),n.run(()=>{_(),w.next(),w.complete()})})}),w.asObservable()};let xu=(()=>{class n{constructor(){this.animation=Mv.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[b.ez]]}),n})(),y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[b.ez]]}),n})(),kt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var Qt=(()=>{return(n=Qt||(Qt={})).START="start",n.END="end",Qt;var n})();const rn=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Fn=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},Si=n=>{Fn(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},Ls=(n,t,{direction:e})=>{const{classList:r}=n;return t?(rn(n)?Fn(r):(r.add("carousel-item-"+(e===Qt.START?"next":"prev")),bs(n),r.add("carousel-item-"+e)),()=>{Si(r),r.add("active")}):(Fn(r),Si(r),void r.add("active"))},vo=(n,t,{direction:e})=>{const{classList:r}=n;return t?(rn(n)?Fn(r):r.add("carousel-item-"+e),()=>{Si(r),r.remove("active")}):(Fn(r),Si(r),void r.remove("active"))};let ls=(()=>{class n{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xu))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zs=0,Cs=(()=>{class n{constructor(e){this.tplRef=e,this.id="ngb-slide-"+zs++,this.slid=new s.vpe}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),Ws=(()=>{class n{constructor(e,r,u,f,_){this._platformId=r,this._ngZone=u,this._cd=f,this._container=_,this.NgbSlideEventSource=uo,this._destroy$=new vs.x,this._interval$=new Tu.X(0),this._mouseHover$=new Tu.X(!1),this._focused$=new Tu.X(!1),this._pauseOnHover$=new Tu.X(!1),this._pauseOnFocus$=new Tu.X(!1),this._pause$=new Tu.X(!1),this._wrap$=new Tu.X(!1),this.slide=new s.vpe,this.slid=new s.vpe,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(uo.ARROW_LEFT)}arrowRight(){this.focus(),this.next(uo.ARROW_RIGHT)}ngAfterContentInit(){(0,b.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=(0,xh.a)([this.slide.pipe((0,sn.U)(r=>r.current),(0,fg.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,fg.O)(null))]).pipe((0,sn.U)(([r,u])=>{const f=this.slides.toArray(),_=this._getSlideIdxById(r);return u?f.length>1:_<f.length-1}),(0,br.x)());(0,xh.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe((0,sn.U)(([r,u,f,_,w,x,H])=>r||u&&f||_&&w||!H?0:x),(0,br.x)(),(0,Br.w)(r=>r>0?$y(r,r):Gy),co(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(uo.TIMER)))}),this.slides.changes.pipe(co(this._destroy$)).subscribe(()=>{var e;null===(e=this._transitionIds)||void 0===e||e.forEach(r=>(n=>{var t;null===(t=eh.get(n))||void 0===t||t.complete()})(this._getSlideElement(r))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,tl.q)(1)).subscribe(()=>{for(const{id:r}of this.slides){const u=this._getSlideElement(r);r===this.activeId?u.classList.add("active"):u.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,r){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),r)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),Qt.END,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),Qt.START,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,r,u){const f=this._transitionIds;if(f&&(f[0]!==e||f[1]!==this.activeId))return;let _=this._getSlideById(e);if(_&&_.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:_.id,direction:r,paused:this._pause$.value,source:u});const w={animation:this.animation,runningTransition:"stop",context:{direction:r}},x=[],H=this._getSlideById(this.activeId);if(H){const ft=Ia(this._ngZone,this._getSlideElement(H.id),vo,w);ft.subscribe(()=>{H.slid.emit({isShown:!1,direction:r,source:u})}),x.push(ft)}const ee=this.activeId;this.activeId=_.id;const me=this._getSlideById(this.activeId),Ue=Ia(this._ngZone,this._getSlideElement(_.id),Ls,w);Ue.subscribe(()=>{null==me||me.slid.emit({isShown:!0,direction:r,source:u})}),x.push(Ue),Oh(...x).pipe((0,tl.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:ee,current:_.id,direction:r,paused:this._pause$.value,source:u})})}this._cd.markForCheck()}_getSlideEventDirection(e,r){return this._getSlideIdxById(e)>this._getSlideIdxById(r)?Qt.END:Qt.START}_getSlideById(e){return this.slides.find(r=>r.id===e)||null}_getSlideIdxById(e){const r=this._getSlideById(e);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(e){const r=this.slides.toArray(),u=this._getSlideIdxById(e);return u===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[u+1].id}_getPrevSlide(e){const r=this.slides.toArray(),u=this._getSlideIdxById(e);return 0===u?this.wrap?r[r.length-1].id:r[0].id:r[u-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ls),s.Y36(s.Lbi),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(e,r,u){if(1&e&&s.Suo(u,Cs,4),2&e){let f;s.iGM(f=s.CRH())&&(r.slides=f)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,r){1&e&&s.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&e&&(s.uIk("aria-activedescendant","slide-"+r.activeId),s.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let t,e,r;return t=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],t,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(e,r){1&e&&(s.TgZ(0,"div",0),s.YNc(1,Ig,1,5,"button",1),s.qZA(),s.TgZ(2,"div",2),s.YNc(3,nv,4,4,"div",3),s.qZA(),s.YNc(4,iv,4,0,"button",4),s.YNc(5,Ag,4,0,"button",5)),2&e&&(s.ekj("visually-hidden",!r.showNavigationIndicators),s.xp6(1),s.Q6J("ngForOf",r.slides),s.xp6(2),s.Q6J("ngForOf",r.slides),s.xp6(1),s.Q6J("ngIf",r.showNavigationArrows),s.xp6(1),s.Q6J("ngIf",r.showNavigationArrows))},directives:[b.sg,b.tP,b.O5],encapsulation:2,changeDetection:0}),n})();var uo=(()=>{return(n=uo||(uo={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",uo;var n})();let cC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[b.ez]]}),n})(),uC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class Uo{constructor(t,e,r){this.year=Io(t)?t:null,this.month=Io(e)?e:null,this.day=Io(r)?r:null}static from(t){return t instanceof Uo?t:t?new Uo(t.year,t.month,t.day):null}equals(t){return null!=t&&this.year===t.year&&this.month===t.month&&this.day===t.day}before(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)}after(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)}}function Lg(n,t){return!function XE(n,t){return!n&&!t||!!n&&!!t&&n.equals(t)}(n,t)}function Q0(n,t){return!(!n&&!t||n&&t&&n.year===t.year&&n.month===t.month)}function Ov(n,t,e){return n&&t&&n.before(t)?t:n&&e&&n.after(e)?e:n||null}function Nv(n,t){const{minDate:e,maxDate:r,disabled:u,markDisabled:f}=t;return!(null==n||u||f&&f(n,{year:n.year,month:n.month})||e&&n.before(e)||r&&n.after(r))}function pC(n){return new Uo(n.getFullYear(),n.getMonth()+1,n.getDate())}function Bg(n){const t=new Date(n.year,n.month-1,n.day,12);return isNaN(t.getTime())||t.setFullYear(n.year),t}let Rv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function s1(){return new o1}()},providedIn:"root"}),n})(),o1=(()=>{class n extends Rv{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,r="d",u=1){let f=Bg(e),_=!0,w=f.getMonth();switch(r){case"y":f.setFullYear(f.getFullYear()+u);break;case"m":w+=u,f.setMonth(w),w%=12,w<0&&(w+=12);break;case"d":f.setDate(f.getDate()+u),_=!1;break;default:return e}return _&&f.getMonth()!==w&&f.setDate(0),pC(f)}getPrev(e,r="d",u=1){return this.getNext(e,r,-u)}getWeekday(e){let u=Bg(e).getDay();return 0===u?7:u}getWeekNumber(e,r){7===r&&(r=0);const _=Bg(e[(11-r)%7]);_.setDate(_.getDate()+4-(_.getDay()||7));const w=_.getTime();return _.setMonth(0),_.setDate(1),Math.floor(Math.round((w-_.getTime())/864e5)/7)+1}getToday(){return pC(new Date)}isValid(e){if(!(e&&Io(e.year)&&Io(e.month)&&Io(e.day)&&0!==e.year))return!1;const r=Bg(e);return!isNaN(r.getTime())&&r.getFullYear()===e.year&&r.getMonth()+1===e.month&&r.getDate()===e.day}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),tp=(()=>{class n{getMonthLabel(e){return`${this.getMonthFullName(e.month,e.year)} ${this.getYearNumerals(e.year)}`}getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}getWeekLabel(){return""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function a1(n){return new l1(n)}(s.LFG(s.soG)),r},providedIn:"root"}),n})(),l1=(()=>{class n extends tp{constructor(e){super(),this._locale=e,this._monthsShort=(0,b.UT)(e,b.x.Standalone,b.Tn.Abbreviated),this._monthsFull=(0,b.UT)(e,b.x.Standalone,b.Tn.Wide)}getWeekdayLabel(e,r){const u=(0,b.Mn)(this._locale,b.x.Standalone,void 0===r?b.Tn.Short:r);return u.map((_,w)=>u[(w+1)%7])[e-1]||""}getMonthShortName(e){return this._monthsShort[e-1]||""}getMonthFullName(e){return this._monthsFull[e-1]||""}getDayAriaLabel(e){const r=new Date(e.year,e.month-1,e.day);return(0,b.p6)(r,"fullDate",this._locale)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.soG))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),eb=(()=>{class n{constructor(e,r){this._calendar=e,this._i18n=r,this._VALIDATORS={dayTemplateData:u=>{if(this._state.dayTemplateData!==u)return{dayTemplateData:u}},displayMonths:u=>{if(Io(u=Cc(u))&&u>0&&this._state.displayMonths!==u)return{displayMonths:u}},disabled:u=>{if(this._state.disabled!==u)return{disabled:u}},firstDayOfWeek:u=>{if(Io(u=Cc(u))&&u>=0&&this._state.firstDayOfWeek!==u)return{firstDayOfWeek:u}},focusVisible:u=>{if(this._state.focusVisible!==u&&!this._state.disabled)return{focusVisible:u}},markDisabled:u=>{if(this._state.markDisabled!==u)return{markDisabled:u}},maxDate:u=>{const f=this.toValidDate(u,null);if(Lg(this._state.maxDate,f))return{maxDate:f}},minDate:u=>{const f=this.toValidDate(u,null);if(Lg(this._state.minDate,f))return{minDate:f}},navigation:u=>{if(this._state.navigation!==u)return{navigation:u}},outsideDays:u=>{if(this._state.outsideDays!==u)return{outsideDays:u}},weekdays:u=>{const f=!0===u||!1===u?b.Tn.Short:u,_=!0!==u&&!1!==u||u;if(this._state.weekdayWidth!==f||this._state.weekdaysVisible!==_)return{weekdayWidth:f,weekdaysVisible:_}}},this._model$=new vs.x,this._dateSelect$=new vs.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:b.Tn.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,En.h)(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,En.h)(e=>null!==e))}set(e){let r=Object.keys(e).map(u=>this._VALIDATORS[u](e[u])).reduce((u,f)=>Object.assign(Object.assign({},u),f),{});Object.keys(r).length>0&&this._nextState(r)}focus(e){const r=this.toValidDate(e,null);null!=r&&!this._state.disabled&&Lg(this._state.focusDate,r)&&this._nextState({focusDate:e})}focusSelect(){Nv(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const r=this.toValidDate(e,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||Q0(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(e,r={}){const u=this.toValidDate(e,null);null!=u&&!this._state.disabled&&(Lg(this._state.selectedDate,u)&&this._nextState({selectedDate:u}),r.emitEvent&&Nv(u,this._state)&&this._dateSelect$.next(u))}toValidDate(e,r){const u=Uo.from(e);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(u)?u:r}getMonth(e){for(let r of this._state.months)if(e.month===r.number&&e.year===r.year)return r;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const r=this._updateState(e);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(e){const{months:r,displayMonths:u,selectedDate:f,focusDate:_,focusVisible:w,disabled:x,outsideDays:H}=e;e.months.forEach(ee=>{ee.weeks.forEach(me=>{me.days.forEach(Ue=>{_&&(Ue.context.focused=_.equals(Ue.date)&&w),Ue.tabindex=!x&&_&&Ue.date.equals(_)&&_.month===ee.number?0:-1,!0===x&&(Ue.context.disabled=!0),void 0!==f&&(Ue.context.selected=null!==f&&f.equals(Ue.date)),ee.number!==Ue.date.month&&(Ue.hidden="hidden"===H||"collapsed"===H||u>1&&Ue.date.after(r[0].firstDate)&&Ue.date.before(r[u-1].lastDate))})})})}_updateState(e){const r=Object.assign({},this._state,e);let u=r.firstDate;if(("minDate"in e||"maxDate"in e)&&(function dC(n,t){if(t&&n&&t.before(n))throw new Error(`'maxDate' ${t} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=Ov(r.focusDate,r.minDate,r.maxDate),r.firstDate=Ov(r.firstDate,r.minDate,r.maxDate),u=r.focusDate),"disabled"in e&&(r.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(u=r.selectedDate),"focusVisible"in e||"focusDate"in e&&(r.focusDate=Ov(r.focusDate,r.minDate,r.maxDate),u=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in e&&(r.firstDate=Ov(r.firstDate,r.minDate,r.maxDate),u=r.firstDate),u){const _=function fC(n,t,e,r,u){const{displayMonths:f,months:_}=e,w=_.splice(0,_.length);return Array.from({length:f},(H,ee)=>{const me=Object.assign(n.getNext(t,"m",ee),{day:1});if(_[ee]=null,!u){const Ue=w.findIndex(ft=>ft.firstDate.equals(me));-1!==Ue&&(_[ee]=w.splice(Ue,1)[0])}return me}).forEach((H,ee)=>{null===_[ee]&&(_[ee]=function n1(n,t,e,r,u={}){const{dayTemplateData:f,minDate:_,maxDate:w,firstDayOfWeek:x,markDisabled:H,outsideDays:ee,weekdayWidth:me,weekdaysVisible:Ue}=e,ft=n.getToday();u.firstDate=null,u.lastDate=null,u.number=t.month,u.year=t.year,u.weeks=u.weeks||[],u.weekdays=u.weekdays||[],t=function r1(n,t,e){const r=n.getDaysPerWeek(),u=new Uo(t.year,t.month,1),f=n.getWeekday(u)%r;return n.getPrev(u,"d",(r+f-e)%r)}(n,t,x),Ue||(u.weekdays.length=0);for(let At=0;At<n.getWeeksPerMonth();At++){let Vt=u.weeks[At];Vt||(Vt=u.weeks[At]={number:0,days:[],collapsed:!0});const gn=Vt.days;for(let kn=0;kn<n.getDaysPerWeek();kn++){0===At&&Ue&&(u.weekdays[kn]=r.getWeekdayLabel(n.getWeekday(t),me));const Jn=new Uo(t.year,t.month,t.day),$i=n.getNext(Jn),Ni=r.getDayAriaLabel(Jn);let Hr=!!(_&&Jn.before(_)||w&&Jn.after(w));!Hr&&H&&(Hr=H(Jn,{month:u.number,year:u.year}));let Cr=Jn.equals(ft),hr=f?f(Jn,{month:u.number,year:u.year}):void 0;null===u.firstDate&&Jn.month===u.number&&(u.firstDate=Jn),Jn.month===u.number&&$i.month!==u.number&&(u.lastDate=Jn);let Fr=gn[kn];Fr||(Fr=gn[kn]={}),Fr.date=Jn,Fr.context=Object.assign(Fr.context||{},{$implicit:Jn,date:Jn,data:hr,currentMonth:u.number,currentYear:u.year,disabled:Hr,focused:!1,selected:!1,today:Cr}),Fr.tabindex=-1,Fr.ariaLabel=Ni,Fr.hidden=!1,t=$i}Vt.number=n.getWeekNumber(gn.map(kn=>kn.date),x),Vt.collapsed="collapsed"===ee&&gn[0].date.month!==u.number&&gn[gn.length-1].date.month!==u.number}return u}(n,H,e,r,w.shift()||{}))}),_}(this._calendar,u,r,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e||"weekdaysVisible"in e);r.months=_,r.firstDate=_[0].firstDate,r.lastDate=_[_.length-1].lastDate,"selectedDate"in e&&!Nv(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in e&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=u);const w=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,x=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in e||"maxDate"in e||0===r.selectBoxes.years.length||w)&&(r.selectBoxes.years=function X0(n,t,e){if(!n)return[];const r=t?Math.max(t.year,n.year-500):n.year-10,f=(e?Math.min(e.year,n.year+500):n.year+10)-r+1,_=Array(f);for(let w=0;w<f;w++)_[w]=r+w;return _}(r.firstDate,r.minDate,r.maxDate)),("minDate"in e||"maxDate"in e||0===r.selectBoxes.months.length||w)&&(r.selectBoxes.months=function e1(n,t,e,r){if(!t)return[];let u=n.getMonths(t.year);if(e&&t.year===e.year){const f=u.findIndex(_=>_===e.month);u=u.slice(f)}if(r&&t.year===r.year){const f=u.findIndex(_=>_===r.month);u=u.slice(0,f+1)}return u}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(x||w||"minDate"in e||"maxDate"in e||"disabled"in e)&&(r.prevDisabled=r.disabled||function hC(n,t,e){const r=Object.assign(n.getPrev(t,"m"),{day:1});return null!=e&&(r.year===e.year&&r.month<e.month||r.year<e.year&&1===e.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function t1(n,t,e){const r=Object.assign(n.getNext(t,"m"),{day:1});return null!=e&&r.after(e)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rv),s.LFG(tp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var Ug=(()=>{return(n=Ug||(Ug={}))[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT",Ug;var n})();let c1=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=b.Tn.Short}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function u1(){return new gC}()},providedIn:"root"}),n})(),gC=(()=>{class n extends tb{fromModel(e){return e&&Io(e.year)&&Io(e.month)&&Io(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&Io(e.year)&&Io(e.month)&&Io(e.day)?{year:e.year,month:e.month,day:e.day}:null}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),mC=(()=>{class n{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(tp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(e,r){2&e&&s.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:rv,decls:1,vars:1,template:function(e,r){1&e&&s._uU(0),2&e&&s.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),d1=(()=>{class n{constructor(e,r){this.i18n=e,this._renderer=r,this.select=new s.vpe,this._month=-1,this._year=-1}changeMonth(e){this.select.emit(new Uo(this.date.year,Cc(e),1))}changeYear(e){this.select.emit(new Uo(Cc(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(tp),s.Y36(s.Qsj))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(e,r){if(1&e&&(s.Gf(sv,7,s.SBq),s.Gf(Zd,7,s.SBq)),2&e){let u;s.iGM(u=s.CRH())&&(r.monthSelect=u.first),s.iGM(u=s.CRH())&&(r.yearSelect=u.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let t,e,r,u;return t=$localize`:@@ngb.datepicker.select-month:Select month`,e=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,u=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",t,"title",e,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",u,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(e,r){1&e&&(s.TgZ(0,"select",0,1),s.NdJ("change",function(f){return r.changeMonth(f.target.value)}),s.YNc(2,s_,2,3,"option",2),s.qZA(),s.TgZ(3,"select",3,4),s.NdJ("change",function(f){return r.changeYear(f.target.value)}),s.YNc(5,ov,2,2,"option",2),s.qZA()),2&e&&(s.Q6J("disabled",r.disabled),s.xp6(2),s.Q6J("ngForOf",r.months),s.xp6(1),s.Q6J("disabled",r.disabled),s.xp6(2),s.Q6J("ngForOf",r.years))},directives:[b.sg,Pn.YN,Pn.Kr],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),nb=(()=>{class n{constructor(e){this.i18n=e,this.navigation=Ug,this.months=[],this.navigate=new s.vpe,this.select=new s.vpe}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(tp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let t,e,r,u;return t=$localize`:@@ngb.datepicker.previous-month:Previous month`,e=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,u=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",t,"title",e,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",u,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(e,r){1&e&&(s.TgZ(0,"div",0)(1,"button",1),s.NdJ("click",function(f){return r.onClickPrev(f)}),s._UZ(2,"span",2),s.qZA()(),s.YNc(3,yo,1,4,"ngb-datepicker-navigation-select",3),s.YNc(4,Kf,1,1,null,4),s.TgZ(5,"div",5)(6,"button",6),s.NdJ("click",function(f){return r.onClickNext(f)}),s._UZ(7,"span",2),s.qZA()()),2&e&&(s.xp6(1),s.Q6J("disabled",r.prevDisabled),s.xp6(2),s.Q6J("ngIf",r.showSelect),s.xp6(1),s.Q6J("ngIf",!r.showSelect),s.xp6(2),s.Q6J("disabled",r.nextDisabled))},directives:[d1,b.O5,b.sg],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var fs=(()=>{return(n=fs||(fs={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",fs;var n})();let h1=(()=>{class n{processKey(e,r){const{state:u,calendar:f}=r;switch(e.which){case fs.PageUp:r.focusDate(f.getPrev(u.focusedDate,e.shiftKey?"y":"m",1));break;case fs.PageDown:r.focusDate(f.getNext(u.focusedDate,e.shiftKey?"y":"m",1));break;case fs.End:r.focusDate(e.shiftKey?u.maxDate:u.lastDate);break;case fs.Home:r.focusDate(e.shiftKey?u.minDate:u.firstDate);break;case fs.ArrowLeft:r.focusDate(f.getPrev(u.focusedDate,"d",1));break;case fs.ArrowUp:r.focusDate(f.getPrev(u.focusedDate,"d",f.getDaysPerWeek()));break;case fs.ArrowRight:r.focusDate(f.getNext(u.focusedDate,"d",1));break;case fs.ArrowDown:r.focusDate(f.getNext(u.focusedDate,"d",f.getDaysPerWeek()));break;case fs.Enter:case fs.Space:r.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f1=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]]}),n})(),Pv=(()=>{class n{constructor(e,r,u,f,_,w,x,H){this._service=e,this._calendar=r,this.i18n=u,this._elementRef=w,this._ngbDateAdapter=x,this._ngZone=H,this._controlValue=null,this._destroyed$=new vs.x,this._publicState={},this.navigate=new s.vpe,this.dateSelect=new s.vpe,this.onChange=ee=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(ee=>this[ee]=f[ee]),e.dateSelect$.pipe(co(this._destroyed$)).subscribe(ee=>{this.dateSelect.emit(ee)}),e.model$.pipe(co(this._destroyed$)).subscribe(ee=>{const me=ee.firstDate,Ue=this.model?this.model.firstDate:null;this._publicState={maxDate:ee.maxDate,minDate:ee.minDate,firstDate:ee.firstDate,lastDate:ee.lastDate,focusedDate:ee.focusDate,months:ee.months.map(kn=>kn.firstDate)};let ft=!1;if(!me.equals(Ue)&&(this.navigate.emit({current:Ue?{year:Ue.year,month:Ue.month}:null,next:{year:me.year,month:me.month},preventDefault:()=>ft=!0}),ft&&null!==Ue))return void this._service.open(Ue);const At=ee.selectedDate,Vt=ee.focusDate,gn=this.model?this.model.focusDate:null;this.model=ee,Lg(At,this._controlValue)&&(this._controlValue=At,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(At))),Lg(Vt,gn)&&gn&&ee.focusVisible&&this.focus(),_.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(e){this._service.focus(Uo.from(e))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,tl.q)(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(Uo.from(e?e.day?e:Object.assign(Object.assign({},e),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=Bo(this._contentEl.nativeElement,"focusin"),r=Bo(this._contentEl.nativeElement,"focusout"),{nativeElement:u}=this._elementRef;(0,ro.T)(e,r).pipe((0,En.h)(({target:f,relatedTarget:_})=>!(Xf(f,"ngb-dp-day")&&Xf(_,"ngb-dp-day")&&u.contains(f)&&u.contains(_))),co(this._destroyed$)).subscribe(({type:f})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===f})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>e[r]=this[r]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(e){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(u=>u in e).forEach(u=>r[u]=this[u]),this._service.set(r),"startDate"in e){const{currentValue:u,previousValue:f}=e.startDate;Q0(f,u)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case Ug.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Ug.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=Uo.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(eb),s.Y36(Rv),s.Y36(tp),s.Y36(c1),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(tb),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(e,r,u){if(1&e&&s.Suo(u,f1,7),2&e){let f;s.iGM(f=s.CRH())&&(r.contentTemplate=f.first)}},viewQuery:function(e,r){if(1&e&&(s.Gf(av,7),s.Gf(jh,7)),2&e){let u;s.iGM(u=s.CRH())&&(r._defaultDayTemplate=u.first),s.iGM(u=s.CRH())&&(r._contentEl=u.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[s._Bn([{provide:Pn.JU,useExisting:(0,s.Gpc)(()=>n),multi:!0},eb]),s.TTD],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(e,r){if(1&e&&(s.YNc(0,lv,1,5,"ng-template",null,0,s.W1O),s.YNc(2,Au,1,1,"ng-template",null,1,s.W1O),s.TgZ(4,"div",2),s.YNc(5,Gh,1,7,"ngb-datepicker-navigation",3),s.qZA(),s.TgZ(6,"div",4,5),s.YNc(8,fd,0,0,"ng-template",6),s.qZA(),s.YNc(9,cv,0,0,"ng-template",6)),2&e){const u=s.MAs(3);s.xp6(5),s.Q6J("ngIf","none"!==r.navigation),s.xp6(1),s.ekj("ngb-dp-months",!r.contentTemplate),s.xp6(2),s.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||u),s.xp6(1),s.Q6J("ngTemplateOutlet",r.footerTemplate)}},directives:function(){return[mC,ib,nb,b.sg,b.O5,b.tP]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})(),ib=(()=>{class n{constructor(e,r,u,f){this.i18n=e,this.datepicker=r,this._keyboardService=u,this._service=f}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){!e.context.disabled&&!e.hidden&&this.datepicker.onDateSelect(e.date)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(tp),s.Y36(Pv),s.Y36(h1),s.Y36(eb))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(e,r){1&e&&s.NdJ("keydown",function(f){return r.onKeyDown(f)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){1&e&&(s.YNc(0,Kd,3,2,"div",0),s.YNc(1,Zl,1,1,"ng-template",1)),2&e&&(s.Q6J("ngIf",r.viewModel.weekdays.length>0),s.xp6(1),s.Q6J("ngForOf",r.viewModel.weeks))},directives:[b.O5,b.sg,b.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#0dcaf0;color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const _C=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function sb(n){const t=Array.from(n.querySelectorAll(_C)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Vv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[b.ez,Pn.u5]]}),n})(),mb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),$v=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class sp{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}let P1=(()=>{class n{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,tl.q)(1)).subscribe(()=>{Ia(this._zone,this._el.nativeElement,(e,r)=>{r&&bs(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ia(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,r){2&e&&(s.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),s.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})();class PC{close(t){}dismiss(t){}}class kC{constructor(t,e,r,u){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=u,this._closed=new vs.x,this._dismissed=new vs.x,this._hidden=new vs.x,t.instance.dismissEvent.subscribe(f=>{this.dismiss(f)}),this.result=new Promise((f,_)=>{this._resolve=f,this._reject=_}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(co(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(co(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Xd(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(r=>{!1!==r&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,St.of)(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Oh(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var op=(()=>{return(n=op||(op={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",op;var n})();let FC=(()=>{class n{constructor(e,r,u){this._document=e,this._elRef=r,this._zone=u,this._closed$=new vs.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new vs.x,this.hidden=new vs.x}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,tl.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},_=Oh(Ia(this._zone,e,()=>e.classList.remove("show"),r),Ia(this._zone,this._dialogEl.nativeElement,()=>{},r));return _.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),_}_show(){const e={animation:this.animation,runningTransition:"continue"};Oh(Ia(this._zone,this._elRef.nativeElement,(f,_)=>{_&&bs(f),f.classList.add("show")},e),Ia(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Bo(e,"keydown").pipe(co(this._closed$),(0,En.h)(u=>u.which===fs.Escape)).subscribe(u=>{this.keyboard?requestAnimationFrame(()=>{u.defaultPrevented||this._zone.run(()=>this.dismiss(op.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Bo(this._dialogEl.nativeElement,"mousedown").pipe(co(this._closed$),(0,kf.b)(()=>r=!1),(0,Br.w)(()=>Bo(e,"mouseup").pipe(co(this._closed$),(0,tl.q)(1))),(0,En.h)(({target:u})=>e===u)).subscribe(()=>{r=!0}),Bo(e,"click").pipe(co(this._closed$)).subscribe(({target:u})=>{e===u&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(op.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),u=sb(e)[0];(r||u||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let u;u=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>u.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ia(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(b.K0),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&s.Gf(dv,7),2&e){let u;s.iGM(u=s.CRH())&&(r._dialogEl=u.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(s.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),s.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),s.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:r_,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2),s.Hsn(3),s.qZA()()),2&e&&s.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),LC=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,u=r.style,{overflow:f,paddingRight:_}=u;if(e>0){const w=parseFloat(window.getComputedStyle(r).paddingRight);u.paddingRight=`${w+e}px`}return u.overflow="hidden",()=>{e>0&&(u.paddingRight=_),u.overflow=f}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(b.K0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BC=(()=>{class n{constructor(e,r,u,f,_,w){this._applicationRef=e,this._injector=r,this._document=u,this._scrollBar=f,this._rendererFactory=_,this._ngZone=w,this._activeWindowCmptHasChanged=new vs.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const x=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const u=Bo(t,"focusin").pipe(co(e),(0,sn.U)(f=>f.target));Bo(t,"keydown").pipe(co(e),(0,En.h)(f=>f.which===fs.Tab),qr(u)).subscribe(([f,_])=>{const[w,x]=sb(t);(_===w||_===t)&&f.shiftKey&&(x.focus(),f.preventDefault()),_===x&&!f.shiftKey&&(w.focus(),f.preventDefault())}),r&&Bo(t,"click").pipe(co(e),qr(u),(0,sn.U)(f=>f[1])).subscribe(f=>f.focus())})})(0,x.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(x.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,r,u,f){const _=f.container instanceof HTMLElement?f.container:Mu(f.container)?this._document.querySelector(f.container):this._document.body,w=this._rendererFactory.createRenderer(null,null),x=()=>{this._modalRefs.length||(w.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())};if(!_)throw new Error(`The specified modal container "${f.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const H=new PC,ee=this._getContentRef(e,f.injector||r,u,H,f);let me=!1!==f.backdrop?this._attachBackdrop(e,_):void 0,Ue=this._attachWindowComponent(e,_,ee),ft=new kC(Ue,ee,me,f.beforeDismiss);return this._registerModalRef(ft),this._registerWindowCmpt(Ue),ft.result.then(x,x),H.close=At=>{ft.close(At)},H.dismiss=At=>{ft.dismiss(At)},this._applyWindowOptions(Ue.instance,f),1===this._modalRefs.length&&w.addClass(this._document.body,"modal-open"),me&&me.instance&&(this._applyBackdropOptions(me.instance,f),me.changeDetectorRef.detectChanges()),Ue.changeDetectorRef.detectChanges(),ft}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,r){let f=e.resolveComponentFactory(P1).create(this._injector);return this._applicationRef.attachView(f.hostView),r.appendChild(f.location.nativeElement),f}_attachWindowComponent(e,r,u){let _=e.resolveComponentFactory(FC).create(this._injector,u.nodes);return this._applicationRef.attachView(_.hostView),r.appendChild(_.location.nativeElement),_}_applyWindowOptions(e,r){this._windowAttributes.forEach(u=>{Mu(r[u])&&(e[u]=r[u])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(u=>{Mu(r[u])&&(e[u]=r[u])})}_getContentRef(e,r,u,f,_){return u?u instanceof s.Rgc?this._createFromTemplateRef(u,f):function b_(n){return"string"==typeof n}(u)?this._createFromString(u):this._createFromComponent(e,r,u,f,_):new sp([])}_createFromTemplateRef(e,r){const f=e.createEmbeddedView({$implicit:r,close(_){r.close(_)},dismiss(_){r.dismiss(_)}});return this._applicationRef.attachView(f),new sp([f.rootNodes],f)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new sp([[r]])}_createFromComponent(e,r,u,f,_){const w=e.resolveComponentFactory(u),x=s.zs3.create({providers:[{provide:PC,useValue:f}],parent:r}),H=w.create(x),ee=H.location.nativeElement;return _.scrollable&&ee.classList.add("component-host-scrollable"),this._applicationRef.attachView(H.hostView),new sp([[ee]],H.hostView,H)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(u=>{u!==e&&"SCRIPT"!==u.nodeName&&(this._ariaHiddenValues.set(u,u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const u=this._modalRefs.indexOf(e);u>-1&&(this._modalRefs.splice(u,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(b.K0),s.LFG(LC),s.LFG(s.FYo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UC=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xu))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k1=(()=>{class n{constructor(e,r,u,f){this._moduleCFR=e,this._injector=r,this._modalStack=u,this._config=f}open(e,r={}){const u=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,e,u)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(BC),s.LFG(UC))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[k1]}),n})(),zC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[b.ez]]}),n})(),YC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[b.ez]]}),n})(),Tb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[b.ez]]}),n})(),QC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[b.ez]]}),n})(),wb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[b.ez]]}),n})(),Z1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[b.ez]]}),n})(),Y1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[b.ez]]}),n})(),X1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();new s.OlP("live announcer delay",{providedIn:"root",factory:function zw(){return 100}});let rT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[b.ez]]}),n})();const Zw=[i,y,kt,cC,uC,Vv,$v,yb,zC,YC,Tb,QC,wb,Z1,Y1,X1,rT];let Yw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Zw,i,y,kt,cC,uC,Vv,$v,yb,zC,YC,Tb,QC,wb,Z1,Y1,X1,rT]}),n})();var In=L(655),Ib=(L(1815),L(6447),L(3139),L(6254)),F_=(L(3756),L(4318)),nE=(L(7726),L(599)),rE=(L(3509),L(2361));const aE=Ib.i,cE=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n);class It{constructor(t={}){this.data=t}get(t){return this.data[t]}}let Zt=(()=>{class n{constructor(e,r){this.zone=e,this.appRef=r}create(e,r,u){return new yn(e,r,u,this.appRef,this.zone)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class yn{constructor(t,e,r,u,f){this.resolver=t,this.injector=e,this.location=r,this.appRef=u,this.zone=f,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,e,r,u){return this.zone.run(()=>new Promise(f=>{f(Mn(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,t,e,r,u))}))}removeViewFromDom(t,e){return this.zone.run(()=>new Promise(r=>{const u=this.elRefMap.get(e);if(u){u.destroy(),this.elRefMap.delete(e);const f=this.elEventsMap.get(e);f&&(f(),this.elEventsMap.delete(e))}r()}))}}const Mn=(n,t,e,r,u,f,_,w,x,H,ee)=>{const me=t.resolveComponentFactory(x),Ue=s.zs3.create({providers:$r(H),parent:e}),ft=r?r.createComponent(me,r.length,Ue):me.create(Ue),At=ft.instance,Vt=ft.location.nativeElement;if(H&&Object.assign(At,H),ee)for(const kn of ee)Vt.classList.add(kn);const gn=tn(n,At,Vt);return w.appendChild(Vt),r||u.attachView(ft.hostView),ft.changeDetectorRef.reattach(),f.set(Vt,ft),_.set(Vt,gn),Vt},si=[F_.L,F_.a,F_.b,F_.c,F_.d],tn=(n,t,e)=>n.run(()=>{const r=si.filter(u=>"function"==typeof t[u]).map(u=>{const f=_=>t[u](_.detail);return e.addEventListener(u,f),()=>e.removeEventListener(u,f)});return()=>r.forEach(u=>u())}),Ei=new s.OlP("NavParamsToken"),$r=n=>[{provide:Ei,useValue:n},{provide:It,useFactory:ps,deps:[Ei]}],ps=n=>new It(n),ID=new s.OlP("USERCONFIG");let mA=(()=>{class n{constructor(e,r){this.doc=e,this.backButton=new vs.x,this.keyboardDidShow=new vs.x,this.keyboardDidHide=new vs.x,this.pause=new vs.x,this.resume=new vs.x,this.resize=new vs.x,r.run(()=>{var u;let f;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(_,w){return this.subscribe(x=>x.register(_,H=>r.run(()=>w(H))))},Kv(this.pause,e,"pause"),Kv(this.resume,e,"resume"),Kv(this.backButton,e,"ionBackButton"),Kv(this.resize,this.win,"resize"),Kv(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Kv(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(_=>{f=_}),(null===(u=this.win)||void 0===u?void 0:u.cordova)?e.addEventListener("deviceready",()=>{f("cordova")},{once:!0}):f("dom")})}is(e){return(0,Ib.a)(this.win,e)}platforms(){return(0,Ib.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return _A(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){var e,r;return null===(r=(e=this.win).matchMedia)||void 0===r?void 0:r.call(e,"(orientation: portrait)").matches}testUserAgent(e){const r=this.win.navigator;return!!((null==r?void 0:r.userAgent)&&r.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(b.K0),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _A=(n,t)=>{t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Kv=(n,t,e)=>{t&&t.addEventListener(e,r=>{n.next(null!=r?r.detail:void 0)})};let Hb=(()=>{class n{constructor(e,r,u,f){this.location=r,this.serializer=u,this.router=f,this.direction=AD,this.animated=SD,this.guessDirection="forward",this.lastNavId=-1,f&&f.events.subscribe(_=>{if(_ instanceof ye.OD){const w=_.restoredState?_.restoredState.navigationId:_.id;this.guessDirection=w<this.lastNavId?"back":"forward",this.guessAnimation=_.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?_.id:w}}),e.backButton.subscribeWithPriority(0,_=>{this.pop(),_()})}navigateForward(e,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateBack(e,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateRoot(e,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){return(0,In.mG)(this,void 0,void 0,function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet})}setDirection(e,r,u,f){this.direction=e,this.animated=yA(e,r,u),this.animationBuilder=f}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let r,e="root";const u=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,r=this.guessAnimation):(r=this.animated,e=this.direction),this.direction=AD,this.animated=SD,this.animationBuilder=void 0,{direction:e,animation:r,animationBuilder:u}}navigate(e,r){if(Array.isArray(e))return this.router.navigate(e,r);{const u=this.serializer.parse(e.toString());return void 0!==r.queryParams&&(u.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(u.fragment=r.fragment),this.router.navigateByUrl(u,r)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(mA),s.LFG(b.Ye),s.LFG(ye.Hx),s.LFG(ye.F0,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yA=(n,t,e)=>{if(!1!==t){if(void 0!==e)return e;if("forward"===n||"back"===n)return n;if("root"===n&&!0===t)return"forward"}},AD="auto",SD=void 0;let Jv=(()=>{class n{constructor(e,r,u,f,_){this.locationStrategy=e,this.navCtrl=r,this.elementRef=u,this.router=f,this.routerLink=_,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var e;if(null===(e=this.routerLink)||void 0===e?void 0:e.urlTree){const r=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=r}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(b.S$),s.Y36(Hb),s.Y36(s.SBq),s.Y36(ye.F0),s.Y36(ye.rH,8))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(e,r){1&e&&s.NdJ("click",function(){return r.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[s.TTD]}),n})();class ND{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,e,r){return this.ctrl.dismiss(t,e,r)}getTop(){return this.ctrl.getTop()}}let SA=(()=>{class n extends ND{constructor(e,r,u){super(nE.m),this.angularDelegate=e,this.resolver=r,this.injector=u}create(e){return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Zt),s.LFG(s._Vd),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),MA=(()=>{class n extends ND{constructor(e,r,u){super(nE.c),this.angularDelegate=e,this.resolver=r,this.injector=u}create(e){return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Zt),s.LFG(s._Vd),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const xA=(n,t,e)=>()=>{if(t.defaultView&&"undefined"!=typeof window){(n=>{const t=window,e=t.Ionic;e&&e.config&&"Object"!==e.config.constructor.name||(t.Ionic=t.Ionic||{},t.Ionic.config=Object.assign(Object.assign({},t.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:f=>e.run(f)}));const u="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function oE(){var n=[];if("undefined"!=typeof window){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&n.push(L.e(6748).then(L.t.bind(L,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch(u){return!1}}()||"undefined"==typeof WeakMap)&&n.push(L.e(2214).then(L.t.bind(L,4144,23)))}return Promise.all(n)}().then(()=>((n,t)=>"undefined"==typeof window?Promise.resolve():(0,rE.p)().then(()=>(aE(),(0,rE.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),t))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:cE,jmp:f=>e.runOutsideAngular(f),ael(f,_,w,x){f[u](_,w,x)},rel(f,_,w,x){f.removeEventListener(_,w,x)}}))}};let OA=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:ID,useValue:e},{provide:s.ip1,useFactory:xA,multi:!0,deps:[ID,b.K0,s.R0b]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Zt,SA,MA],imports:[[b.ez]]}),n})(),NA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-page-header"]],decls:24,vars:0,consts:[["id","header"],[1,"navbar","navbar-expand-md","navbar-dark","py-0"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[1,"navbar-brand"],["title","Home page","routerLink",""],["src","./assets/images/logo_header_white.png","height","70px","alt","Restaurante La Cuarta logo."],["id","navbarCollapse",1,"collapse","navbar-collapse","justify-content-center"],[1,"navbar-nav"],[1,"nav-item"],["title","Sobre Nosotros","routerLink","sobre-nosotros",1,"nav-link","py-0"],["title","Carta","routerLink","carta",1,"nav-link","py-0"],["title","Reservas","routerLink","reservas",1,"nav-link","py-0"],["title","Pedidos","routerLink","pedidos",1,"nav-link","py-0"],["title","Contacto","routerLink","contacto",1,"nav-link","py-0"]],template:function(e,r){1&e&&(s.TgZ(0,"header",0)(1,"nav",1)(2,"button",2),s._UZ(3,"span",3),s.qZA(),s.TgZ(4,"div",4)(5,"a",5),s._UZ(6,"img",6),s.qZA()(),s.TgZ(7,"div",7)(8,"ul",8)(9,"li",9)(10,"a",10),s._uU(11,"Sobre Nosotros"),s.qZA()(),s.TgZ(12,"li",9)(13,"a",11),s._uU(14,"Carta"),s.qZA()(),s.TgZ(15,"li",9)(16,"a",12),s._uU(17,"Reservas"),s.qZA()(),s.TgZ(18,"li",9)(19,"a",13),s._uU(20,"Pedidos"),s.qZA()(),s.TgZ(21,"li",9)(22,"a",14),s._uU(23,"Contacto"),s.qZA()()()()()())},directives:[mb,ye.yS,Jv],styles:["#header[_ngcontent-%COMP%]{background:rgba(121,91,57,.5)}#header[_ngcontent-%COMP%]   .navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff}#header[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-left:.5rem}#header[_ngcontent-%COMP%]   .navbar-dark[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{padding:0;margin-left:1rem}#header[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:none}#header[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{font-size:2vw}#header[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{padding-left:20%;padding-bottom:0}#header[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:25vw;height:auto}@media (max-width: 768px){#header[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;padding-right:1rem}#header[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{margin-right:0}}@media (max-width: 1100px){#header[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{padding-left:1rem}}.navbar.scrolled[_ngcontent-%COMP%]{background-color:#67523a!important;transition:background-color .2s linear}"]}),n})(),RA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-page-footer"]],decls:37,vars:0,consts:[["id","footer"],[1,"container","p-0","p-md-4","text-center","text-lg-start"],[1,"row"],[1,"col-lg-4","col-md-12","mb-md-0","order-2","order-md-0","py-1"],[1,"logo","p-0"],["title","Home page","routerLink",""],["alt","Restaurante La Cuarta logo.","src","./assets/images/logo_footer_white.png"],[1,"col-lg-4","col-md-6","mb-0","mb-md-0","pt-4","order-0","order-md-1"],[1,"d-flex","justify-content-center","d-md-block"],["routerLink","politica-de-privacidad",1,"px-2"],["routerLink","politica-de-cookies",1,"px-2","d-none","d-md-inline"],["routerLink","aviso-legal",1,"px-2"],[1,"col-lg-4","col-md-6","mb-4","mb-md-0","order-md-2"],[1,"d-none","d-md-block"],[1,"mb-0"],[1,"socialMedia","order-1"],["href","",1,"me-2"],["alt","Instagram.","src","./assets/images/instagram.png"],["href","https://www.facebook.com/La-Cuarta-G%C3%A1ldar-919397254765070/",1,"me-2"],["alt","Facebook.","src","./assets/images/facebook.png"],["href","https://www.tripadvisor.es/Restaurant_Review-g1064347-d10120688-Reviews-Tasca_Restaurante_La_Cuarta-Galdar_Gran_Canaria_Canary_Islands.html",1,"d-none","d-md-inline"],["alt","TripAdvisor.","src","./assets/images/tripadvisor.png"],["href","https://www.tripadvisor.es/Restaurant_Review-g1064347-d10120688-Reviews-Tasca_Restaurante_La_Cuarta-Galdar_Gran_Canaria_Canary_Islands.html",1,"d-md-none"],["alt","TripAdvisor.","src","./assets/images/tripadvisor_white.png"],[1,"text-center","p-3"]],template:function(e,r){1&e&&(s.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"figure",4)(5,"a",5),s._UZ(6,"img",6),s.qZA()()(),s.TgZ(7,"div",7)(8,"nav",8)(9,"a",9),s._uU(10,"Pol\xedtica de privacidad"),s.qZA(),s._UZ(11,"br"),s.TgZ(12,"a",10),s._uU(13,"Pol\xedtica de cookies"),s.qZA(),s._UZ(14,"br"),s.TgZ(15,"a",11),s._uU(16,"Aviso Legal"),s.qZA()()(),s.TgZ(17,"div",12)(18,"div",13)(19,"h4",14),s._uU(20," Restaurante La Cuarta "),s.qZA(),s.TgZ(21,"p"),s._uU(22,"Pl. de Santiago, 9, G\xe1ldar, Las Palmas"),s.qZA(),s.TgZ(23,"p"),s._uU(24,"630 13 23 25"),s.qZA()(),s.TgZ(25,"div",15)(26,"a",16),s._UZ(27,"img",17),s.qZA(),s.TgZ(28,"a",18),s._UZ(29,"img",19),s.qZA(),s.TgZ(30,"a",20),s._UZ(31,"img",21),s.qZA(),s.TgZ(32,"a",22),s._UZ(33,"img",23),s.qZA()()()(),s.TgZ(34,"div",24)(35,"small"),s._uU(36,"\xa9 Restaurante La Cuarta. Todos los derechos reservados."),s.qZA()()()())},directives:[ye.yS,Jv],styles:["#footer[_ngcontent-%COMP%]{background:rgba(121,91,57,.5);font-size:calc(11px + .5vw)}@media (max-width: 768px){#footer[_ngcontent-%COMP%]{background:#67523A}}#footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-text-decoration:None;text-decoration:None;color:#fff}#footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}#footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:35vw;height:auto}"]}),n})(),PA=(()=>{class n{constructor(e){this.store=e,this.title="LaCuartaAngular",e.firestore.settings({ignoreUndefinedProperties:!0,merge:!0})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ao.ST))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[["id","content"]],template:function(e,r){1&e&&(s._UZ(0,"app-page-header"),s.TgZ(1,"div",0),s._UZ(2,"router-outlet"),s.qZA(),s._UZ(3,"app-page-footer"))},directives:[NA,ye.lC,RA],styles:[""]}),n})();function kA(n,t){if(1&n&&(s.TgZ(0,"div",9),s._UZ(1,"img",10),s.qZA()),2&n){const e=s.oxw().index,r=s.oxw(2);s.xp6(1),s.Q6J("src",r.carousel_images[e],s.LSH)}}function FA(n,t){1&n&&s.YNc(0,kA,2,1,"ng-template",8)}function LA(n,t){if(1&n&&(s.TgZ(0,"ngb-carousel"),s.YNc(1,FA,1,0,null,7),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.carousel_images)}}let BA=(()=>{class n{constructor(){this.carousel_images=["./assets/images/terraza.jpg","./assets/images/background.jpg","./assets/images/terraza-noche.png"]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-about-us"]],decls:8,vars:1,consts:[[1,"sobreNosotros","container-fluid","px-0","h-100"],[4,"ngIf"],[1,"aboutUs"],[1,"row","py-md-5","px-5","p-2"],[1,"text","col-lg-8","py-md-5"],[1,"col-lg-4","d-block","m-auto","text-center","px-md-5","py-2"],["src","./assets/images/cheers.png","alt","Restaurante La Cuarta nosotros."],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"picsum-img-wrapper"],["alt","TODO alt caption.",1,"d-block","w-100",3,"src"]],template:function(e,r){1&e&&(s.TgZ(0,"article",0),s.YNc(1,LA,2,1,"ngb-carousel",1),s.TgZ(2,"section",2)(3,"div",3)(4,"div",4),s._uU(5," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vulputate massa posuere, ornare ipsum ut, cursus nulla. Proin egestas, nisl vel lacinia iaculis, ligula libero commodo lacus, vitae vehicula nunc felis in quam. Mauris purus lorem, scelerisque ut lorem nec, tristique ornare est. Duis lacinia laoreet odio at faucibus. Nulla facilisi. Nunc tempor diam augue, ac consectetur nunc ullamcorper sit amet. Nulla facilisi. Phasellus pretium ultrices urna id consequat. Etiam ac velit quis massa faucibus fringilla ac quis turpis. Proin in tristique enim, in vestibulum neque. Maecenas enim mauris, interdum quis lectus in, molestie molestie massa. Pellentesque vestibulum magna in dui ullamcorper euismod. Pellentesque et nisi ac lorem aliquam condimentum. Aliquam erat volutpat. Duis erat urna, pharetra ullamcorper urna ut, gravida maximus dolor. "),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"img",6),s.qZA()()()()),2&e&&(s.xp6(1),s.Q6J("ngIf",r.carousel_images))},directives:[b.O5,Ws,b.sg,Cs],styles:[".sobreNosotros[_ngcontent-%COMP%]{min-height:100%;height:100%}ngb-carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:25vw}.carousel-inner[_ngcontent-%COMP%]{margin:auto}@media (min-width: 768px){.sobreNosotros[_ngcontent-%COMP%]   .aboutUs[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-right:10%;padding-left:10%}}@media (max-width: 768px){.sobreNosotros[_ngcontent-%COMP%]   .aboutUs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;height:auto}}.sobreNosotros[_ngcontent-%COMP%]   .aboutUs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50vw;height:auto}"]}),n})(),UA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home-page"]],decls:15,vars:0,consts:[[1,"homePage","container-fluid","d-flex","flex-wrap","align-content-center","justify-content-center","text-center"],[1,"desktopMainPage","d-none","d-md-grid"],[1,""],[1,"mobileHomePage","d-md-none","min-vw-100"],[1,"carousel-caption"],["src","./assets/images/background.jpg","alt","Restaurante La Cuarta.",1,"img-fluid","w-100"],["src","./assets/images/terraza-noche.png","alt","Restaurante La Cuarta terraza por la noche.",1,"img-fluid","w-100"],["src","./assets/images/terraza.jpg","alt","Restaurante La Cuarta terraza.",1,"img-fluid","w-100"]],template:function(e,r){1&e&&(s.TgZ(0,"article",0)(1,"section",1)(2,"h1"),s._uU(3," Bienvenidos "),s.qZA(),s.TgZ(4,"p",2),s._uU(5," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam id tellus luctus lacus dapibus ultrices. In at malesuada mi. Vestibulum et ipsum sit amet urna tempus dapibus. Mauris id sollicitudin dui, eu feugiat ipsum. Morbi suscipit feugiat augue et vestibulum. Nam gravida diam in lacus scelerisque, ut dignissim risus pulvinar... "),s.qZA()(),s.TgZ(6,"section",3)(7,"figure")(8,"h1",4),s._uU(9,"Bienvenidos"),s.qZA(),s._UZ(10,"img",5),s.qZA(),s.TgZ(11,"figure"),s._UZ(12,"img",6),s.qZA(),s.TgZ(13,"figure"),s._UZ(14,"img",7),s.qZA()()())},styles:[".homePage[_ngcontent-%COMP%]{min-height:75vw}.homePage[_ngcontent-%COMP%]   .mobileHomePage[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin:0;padding:0;object-fit:cover}.homePage[_ngcontent-%COMP%]   .mobileHomePage[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{top:30vw}"]}),n})();var RD=L(7435),PD=L(54);let jb=(()=>{class n{constructor(){this.reservation=new RD.f}getReservation(){return this.reservation}setReservation(e){this.reservation=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VA(n,t){1&n&&(s.TgZ(0,"p",21),s._uU(1,"*Seleccione un fecha"),s.qZA())}function $A(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().select_cena()}),s.TgZ(1,"strong"),s._uU(2,"CENA"),s.qZA(),s._UZ(3,"br"),s.TgZ(4,"p"),s._uU(5,"20:15 - 24:00"),s.qZA()()}}let HA=(()=>{class n{constructor(e,r,u,f){var _,w;this.fb=e,this.router=r,this.repository=u,this.rs=f,this.reservas1=this.fb.group({num_adults:2,num_children:0,datepicker:[Date,[Pn.kI.required]]}),this.people=(null===(_=this.reservas1.get("num_adults"))||void 0===_?void 0:_.value)+(null===(w=this.reservas1.get("num_children"))||void 0===w?void 0:w.value),this.horario="Almuerzo",this.reservation=new RD.f;var x=new Date;this.currentDay={day:x.getUTCDate(),month:x.getUTCMonth()+1,year:x.getUTCFullYear()},this.lastDay={day:x.getUTCDate(),month:x.getUTCMonth()+3,year:x.getUTCFullYear()}}ngOnInit(){}isDisabled(e){return 1===new Date(e.year,e.month-1,e.day).getDay()}onSubmitReservas1(){var e,r,u,f,_;this.reservation={user:this.reservation.user,comment:"",place:"",reservationEmail:"",reservationName:"",reservationPhone:"",reservationTime:this.reservation.reservationTime,numAdults:null===(e=this.reservas1.get("num_adults"))||void 0===e?void 0:e.value,numChilds:null===(r=this.reservas1.get("num_children"))||void 0===r?void 0:r.value,period:this.horario,reservationDate:new Date(null===(u=this.reservas1.get("datepicker"))||void 0===u?void 0:u.value.year,(null===(f=this.reservas1.get("datepicker"))||void 0===f?void 0:f.value.month)-1,null===(_=this.reservas1.get("datepicker"))||void 0===_?void 0:_.value.day)},this.rs.setReservation(this.reservation),this.router.navigate(["/reservas2"])}dec_num_adultos(){var e,r,u,f;(null===(e=this.reservas1.get("num_adults"))||void 0===e?void 0:e.value)>1&&(this.reservas1.setValue({num_adults:(null===(r=this.reservas1.get("num_adults"))||void 0===r?void 0:r.value)-1,num_children:null===(u=this.reservas1.get("num_children"))||void 0===u?void 0:u.value,datepicker:null===(f=this.reservas1.get("datepicker"))||void 0===f?void 0:f.value}),this.update_people())}inc_num_adultos(){var e,r,u;this.people<12&&(this.reservas1.setValue({num_adults:(null===(e=this.reservas1.get("num_adults"))||void 0===e?void 0:e.value)+1,num_children:null===(r=this.reservas1.get("num_children"))||void 0===r?void 0:r.value,datepicker:null===(u=this.reservas1.get("datepicker"))||void 0===u?void 0:u.value}),this.update_people())}dec_num_children(){var e,r,u,f;(null===(e=this.reservas1.get("num_children"))||void 0===e?void 0:e.value)>0&&(this.reservas1.setValue({num_adults:null===(r=this.reservas1.get("num_adults"))||void 0===r?void 0:r.value,num_children:(null===(u=this.reservas1.get("num_children"))||void 0===u?void 0:u.value)-1,datepicker:null===(f=this.reservas1.get("datepicker"))||void 0===f?void 0:f.value}),this.update_people())}inc_num_children(){var e,r,u;this.people<12&&(this.reservas1.setValue({num_adults:null===(e=this.reservas1.get("num_adults"))||void 0===e?void 0:e.value,num_children:(null===(r=this.reservas1.get("num_children"))||void 0===r?void 0:r.value)+1,datepicker:null===(u=this.reservas1.get("datepicker"))||void 0===u?void 0:u.value}),this.update_people())}update_people(){var e,r;this.people=(null===(e=this.reservas1.get("num_adults"))||void 0===e?void 0:e.value)+(null===(r=this.reservas1.get("num_children"))||void 0===r?void 0:r.value)}select_almuerzo(){var e,r;this.horario="Almuerzo",null===(e=document.getElementById("almuerzo"))||void 0===e||e.classList.add("selectedField"),null===(r=document.getElementById("cena"))||void 0===r||r.classList.remove("selectedField")}select_cena(){var e,r;this.horario="Cena",null===(e=document.getElementById("almuerzo"))||void 0===e||e.classList.remove("selectedField"),null===(r=document.getElementById("cena"))||void 0===r||r.classList.add("selectedField")}isWeekend(){var e,r,u;const f=new Date(null===(e=this.reservas1.get("datepicker"))||void 0===e?void 0:e.value.year,(null===(r=this.reservas1.get("datepicker"))||void 0===r?void 0:r.value.month)-1,null===(u=this.reservas1.get("datepicker"))||void 0===u?void 0:u.value.day);return 5==f.getDay()||6==f.getDay()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Pn.qu),s.Y36(ye.F0),s.Y36(PD.t),s.Y36(jb))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-reservations"]],decls:38,vars:8,consts:[[1,"reservas","container-fluid","d-flex","justify-content-center","py-5"],[1,"text-center",3,"formGroup","ngSubmit"],[1,"formTable"],[1,"row","pt-5","py-md-4"],[1,"col-md-6"],[1,"counter"],["type","button","value","-",1,"buttonMinus",3,"click"],["type","number","value","2","min","1","formControlName","num_adults","readonly","",1,"text-center","border-0","counterValue"],["type","button","value","+",1,"buttonPlus",3,"click"],[1,"py-3","p-md-0"],["type","number","value","0","formControlName","num_children","readonly","",1,"text-center","border-0","counterValue"],[1,"row","d-inline-block","py-4"],[1,""],[1,"pb-2"],["navigation","arrows","outsideDays","hidden","formControlName","datepicker",3,"weekdays","minDate","maxDate","markDisabled"],["class","pt-1 selectFecha",4,"ngIf"],[1,"row","text-align:center","pb-3"],["id","almuerzo","value","almuerzo",1,"timeField","selectedField","text-center","p-1","d-inline-block",3,"click"],["id","cena","value","cena","class","timeField text-center p-1 d-inline-block ms-md-3",3,"click",4,"ngIf"],[1,"pb-4"],["id","button_next","type","submit","value","Continuar",1,"button","mt-5",3,"disabled"],[1,"pt-1","selectFecha"],["id","cena","value","cena",1,"timeField","text-center","p-1","d-inline-block","ms-md-3",3,"click"]],template:function(e,r){1&e&&(s.TgZ(0,"article",0)(1,"form",1),s.NdJ("ngSubmit",function(){return r.onSubmitReservas1()}),s.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"fieldset")(6,"legend"),s._uU(7,"Adultos"),s.qZA(),s.TgZ(8,"div",5)(9,"input",6),s.NdJ("click",function(){return r.dec_num_adultos()}),s.qZA(),s._UZ(10,"input",7),s.TgZ(11,"input",8),s.NdJ("click",function(){return r.inc_num_adultos()}),s.qZA()()()(),s.TgZ(12,"div",4)(13,"fieldset",9)(14,"legend"),s._uU(15,"Ni\xf1os"),s.qZA(),s.TgZ(16,"div",5)(17,"input",6),s.NdJ("click",function(){return r.dec_num_children()}),s.qZA(),s._UZ(18,"input",10),s.TgZ(19,"input",8),s.NdJ("click",function(){return r.inc_num_children()}),s.qZA()()()()(),s.TgZ(20,"div",11)(21,"fieldset",12)(22,"legend",13),s._uU(23,"Fecha"),s.qZA(),s._UZ(24,"ngb-datepicker",14),s.YNc(25,VA,2,0,"p",15),s.qZA()(),s.TgZ(26,"div",16)(27,"fieldset",12)(28,"legend",13),s._uU(29,"Horario"),s.qZA(),s.TgZ(30,"div",17),s.NdJ("click",function(){return r.select_almuerzo()}),s.TgZ(31,"strong"),s._uU(32,"ALMUERZO"),s.qZA(),s._UZ(33,"br"),s._uU(34," 13:00 - 16:30 "),s.qZA(),s.YNc(35,$A,6,0,"div",18),s.qZA()(),s.TgZ(36,"div",19),s._UZ(37,"input",20),s.qZA()()()()),2&e&&(s.xp6(1),s.Q6J("formGroup",r.reservas1),s.xp6(23),s.Q6J("weekdays",!1)("minDate",r.currentDay)("maxDate",r.lastDay)("markDisabled",r.isDisabled),s.xp6(1),s.Q6J("ngIf",!r.reservas1.get("datepicker").touched),s.xp6(10),s.Q6J("ngIf",r.isWeekend()),s.xp6(2),s.Q6J("disabled",!r.reservas1.get("datepicker").touched))},directives:[Pn._Y,Pn.JL,Pn.sg,Pn.qQ,Pn.wV,Pn.Fj,Pn.JJ,Pn.u,Pv,b.O5],styles:[".selectFecha[_ngcontent-%COMP%]{color:#737373;font-size:calc(12px + .3vw);width:auto}"]}),n})();var jA=L(8975);let kD=(()=>{class n{constructor(e){this.dataSource=e,this.data={},this.dataSource.restaurantJSON().subscribe(r=>{this.data=r;for(let u in this.data)this.data[this.data[u].key]=this.data[u].data})}get restaurantInfo(){return this.data}get restaurantAddress(){return this.data["restaurant-address"]}get restaurantPhone(){return this.data["restaurant-phone"]}get restaurantHours(){return this.data["restaurant-time-info"]}get reservationTimes(){return this.data["reservation-times"]}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jA.y))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GA(n,t){1&n&&s.GkF(0)}function zA(n,t){if(1&n&&(s.TgZ(0,"div")(1,"p"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.AsE(" ",e.open.split(":").slice(0,-1).join(":")," - ",e.close.split(":").slice(0,-1).join(":")," ")}}function WA(n,t){if(1&n&&s.YNc(0,zA,3,2,"div",28),2&n){const e=s.oxw().$implicit,r=s.oxw();s.Q6J("ngForOf",r.opening_hours[e[0]])}}function qA(n,t){1&n&&(s.TgZ(0,"p"),s._uU(1,"cerrado"),s.qZA())}function ZA(n,t){if(1&n&&(s.TgZ(0,"div",23)(1,"div",24)(2,"p"),s._uU(3),s.qZA()(),s.TgZ(4,"div",24),s.YNc(5,GA,1,0,"ng-container",25),s.qZA(),s.YNc(6,WA,1,1,"ng-template",null,26,s.W1O),s.YNc(8,qA,2,0,"ng-template",null,27,s.W1O),s.qZA()),2&n){const e=t.$implicit,r=s.MAs(7),u=s.MAs(9),f=s.oxw();s.xp6(3),s.Oqu(e[1]),s.xp6(2),s.Q6J("ngIf",!!f.opening_hours&&f.opening_hours[e[0]].length>0)("ngIfThen",r)("ngIfElse",u)}}let YA=(()=>{class n{constructor(e){this.repository=e,this.week=[["monday","Lunes"],["tuesday","Martes"],["wednesday","Mi\xe9rcoles"],["thursday","Jueves"],["friday","Viernes"],["saturday","S\xe1bado"],["sunday","Domingo"]],this.weekMap={monday:"Lunes",tuesday:"Martes",wednesday:"Mi\xe9rcoles",thursday:"Jueves",friday:"Viernes"}}get address(){return this.repository.restaurantAddress}get phone(){return this.repository.restaurantPhone}get opening_hours(){return this.repository.restaurantHours}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kD))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-contact"]],decls:27,vars:3,consts:[["id","content-fluid"],[1,"row","margin_body_top"],[1,"d-lg-none","d-md-none","container_contact_txt"],["src","./assets/images/terraza-noche.png","alt","Restaurante Google maps.",1,"size_terra-n"],[1,"text_contact"],[1,"col-lg-6","col-12","text-center","text_hor"],[1,"row-sm-12"],[1,"text_title_hor"],["class","row text_body_hor",4,"ngFor","ngForOf"],[1,"col-lg-6","col-12","margin_img_ubi"],[1,"text-center"],["src","https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d14072.15266581942!2d-15.6552856!3d28.1453263!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x3f8ebc45783dfa2d!2sBar%20La%20Cuarta!5e0!3m2!1scs!2ses!4v1649070972795!5m2!1scs!2ses","width","600","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"],[1,"row","margin_body_bottom","margin_text_top","text_info"],[1,"col-lg-6","col-sm-12","order-2","order-lg-1"],[1,"row","text-center","align-center-telephone"],[1,"col-2","margin_telephone"],["src","./assets/images/telephone.png","alt","Telephone pic.",1,"size_img_logo_telephone"],[1,"col","margin_number"],[1,"col-lg-6","col-sm-12","order-1","order-lg-2"],[1,"row","text-center","align-center-ubi"],[1,"col-2","margin_ubi"],["src","./assets/images/location.png","alt","Location pic.",1,"size_img_logo_ubi"],[1,"col","margin_dir"],[1,"row","text_body_hor"],[1,"col"],[4,"ngIf","ngIfThen","ngIfElse"],["openTemplate",""],["closeTemplate",""],[4,"ngFor","ngForOf"]],template:function(e,r){1&e&&(s.TgZ(0,"main",0)(1,"div",1)(2,"div",2),s._UZ(3,"img",3),s.TgZ(4,"div",4),s._uU(5,"Contacto"),s.qZA()(),s.TgZ(6,"div",5)(7,"div",6)(8,"h1",7),s._uU(9,"Horario"),s.qZA()(),s.YNc(10,ZA,10,4,"div",8),s.qZA(),s.TgZ(11,"div",9)(12,"div",10),s._UZ(13,"iframe",11),s.qZA()()(),s.TgZ(14,"div",12)(15,"div",13)(16,"div",14)(17,"figure",15),s._UZ(18,"img",16),s.qZA(),s.TgZ(19,"p",17),s._uU(20),s.qZA()()(),s.TgZ(21,"div",18)(22,"div",19)(23,"figure",20),s._UZ(24,"img",21),s.qZA(),s.TgZ(25,"p",22),s._uU(26),s.qZA()()()()()),2&e&&(s.xp6(10),s.Q6J("ngForOf",r.week),s.xp6(10),s.Oqu(r.phone),s.xp6(6),s.Oqu(r.address))},directives:[b.sg,b.O5],styles:[".margin_body_top[_ngcontent-%COMP%]{margin-top:4%}.margin_body_bottom[_ngcontent-%COMP%]{margin-bottom:5%}.container_contact_txt[_ngcontent-%COMP%]{position:relative}.text_contact[_ngcontent-%COMP%]{color:#fff;font-size:calc(10px + 5vw);font-family:Roboto;font-style:normal;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.size_terra-n[_ngcontent-%COMP%]{margin-top:-4%;width:100%;height:auto}@media (max-width: 767px){.center_ubi[_ngcontent-%COMP%]{margin-left:25%}.text_body_hor[_ngcontent-%COMP%]{font-size:calc(6px + 1.3vw)}.size_img_ubi[_ngcontent-%COMP%]{height:auto;max-width:70%}.margin_img_ubi[_ngcontent-%COMP%]{margin-top:5%}.text_title_hor[_ngcontent-%COMP%]{padding-top:4%;font-size:calc(15px + 2vw)}.text_hor[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-style:normal;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25))}.margin_text_top[_ngcontent-%COMP%]{margin-top:5%}.margin_body_top[_ngcontent-%COMP%]{margin-top:4%}.center_txt_hor[_ngcontent-%COMP%]{margin-left:87%}.align-center-telephone[_ngcontent-%COMP%]{margin-left:30%}.align-center-ubi[_ngcontent-%COMP%]{margin-left:11%}.margin_number[_ngcontent-%COMP%]{margin-left:-39%}.margin_ubi[_ngcontent-%COMP%]{margin-left:10%}.margin_dir[_ngcontent-%COMP%]{margin-left:-31%}.margin_img_ubi[_ngcontent-%COMP%]{margin-top:2%}.center_txt_hours[_ngcontent-%COMP%]{margin-left:30%}.size_img_logo_ubi[_ngcontent-%COMP%]{max-width:30%;height:auto}.size_img_logo_telephone[_ngcontent-%COMP%]{max-width:50%;height:auto}.text_info[_ngcontent-%COMP%]{font-size:calc(6px + 1.7vw)}}@media (min-width: 768px) and (max-width: 991px){.margin_text_top[_ngcontent-%COMP%]{margin-top:5%}.text_title_hor[_ngcontent-%COMP%]{font-size:calc(15px + 2vw)}.size_img_ubi[_ngcontent-%COMP%]{height:auto;max-width:70%}.margin_text_hor_bottom[_ngcontent-%COMP%]{margin-bottom:5%}.text_hor[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-style:normal;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25))}.size_img_logo_ubi[_ngcontent-%COMP%], .size_img_logo_telephone[_ngcontent-%COMP%]{max-width:30%;height:auto}.margin_telephone[_ngcontent-%COMP%]{margin-left:30%}.align-center-telephone[_ngcontent-%COMP%]{margin-left:2%}.align-center-ubi[_ngcontent-%COMP%]{margin-left:9%}.margin_number[_ngcontent-%COMP%]{margin-left:-45%}.margin_ubi[_ngcontent-%COMP%]{margin-left:18%}.margin_dir[_ngcontent-%COMP%]{margin-left:-36%}.margin_img_ubi[_ngcontent-%COMP%]{margin-top:2%}.text_body_hor[_ngcontent-%COMP%]{font-size:calc(5px + 1.3vw)}.text_info[_ngcontent-%COMP%]{font-size:calc(10px + 1vw)}}@media (min-width: 992px){.margin_text_top[_ngcontent-%COMP%]{margin-top:2%}.size_img_ubi[_ngcontent-%COMP%]{height:auto;max-width:85%}.text_hor[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-style:normal;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25))}.text_body_hor[_ngcontent-%COMP%]{font-size:calc(5px + 1vw)}.text_title_hor[_ngcontent-%COMP%]{font-size:calc(25px + 2vw)}.margin_telephone[_ngcontent-%COMP%]{margin-top:.5%;margin-left:15%}.margin_number[_ngcontent-%COMP%]{margin-top:4%;margin-left:-35%}.margin_dir[_ngcontent-%COMP%]{margin-top:3%;margin-left:-24%}.margin_ubi[_ngcontent-%COMP%]{margin-left:6%}.margin_img_ubi[_ngcontent-%COMP%]{margin-top:2%}.text_info[_ngcontent-%COMP%]{font-size:calc(9px + 1vw)}.size_img_logo_ubi[_ngcontent-%COMP%]{max-width:75%;height:auto}.size_img_logo_telephone[_ngcontent-%COMP%]{max-width:85%;height:auto}}"]}),n})();var DE=L(9021);let FT=(()=>{class n{constructor(){this.selectedCategory="Entrantes",this.comeInChild=!1}getComeInChild(){return this.comeInChild}getCategory(){return this.selectedCategory}setCategory(e){this.selectedCategory=e,console.log(this.selectedCategory)}setComeInChild(e){this.comeInChild=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KA(n,t){if(1&n&&(s.TgZ(0,"article",14)(1,"div",15)(2,"b"),s._uU(3),s.qZA()(),s.TgZ(4,"div",16)(5,"div",17),s._uU(6),s.qZA(),s.TgZ(7,"div",18),s._uU(8),s.qZA(),s.TgZ(9,"div",19),s._uU(10),s.qZA()(),s.TgZ(11,"div",20)(12,"figure"),s._UZ(13,"img",21),s.TgZ(14,"p",22),s._uU(15),s.ALo(16,"currency"),s.qZA()()(),s.TgZ(17,"div",23)(18,"p",24),s._uU(19),s.ALo(20,"currency"),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(3),s.Oqu(e.name),s.xp6(3),s.hij(" ",e.name," "),s.xp6(2),s.hij(" ",e.description," "),s.xp6(2),s.hij(" ",e.allergens," "),s.xp6(3),s.Q6J("src",e.url,s.LSH),s.xp6(2),s.hij(" ",s.gM2(16,7,e.price,"EUR","symbol","0.2-2")," "),s.xp6(4),s.hij(" ",s.gM2(20,12,e.price,"EUR","symbol","0.2-2")," ")}}let FD=(()=>{class n{constructor(e,r,u){this.repository=e,this.router=r,this.selectedservice=u,this.listOfCategories=["Entrantes","Principales","Sugerencias","Postres"],!0===this.selectedservice.getComeInChild()?(this.selectedCategory=this.selectedservice.getCategory(),this.updateComeInChild()):this.selectedCategory=this.listOfCategories[0]}get products(){return this.repository.getProducts(this.selectedCategory,"comida")}get categories(){return this.repository.getCategories("comida")}updateComeInChild(){this.selectedservice.setComeInChild(!1)}changeCategory(e){this.selectedservice.setCategory(e),this.selectedCategory=this.selectedservice.getCategory()}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(DE.j),s.Y36(ye.F0),s.Y36(FT))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-food-menu"]],decls:36,vars:2,consts:[[1,"carta"],[1,"subheader_carta"],[1,"subheader_title_carta"],[1,"container_subheader_carta","row"],[1,"subheader_text_carta","col-4"],[1,"row"],["routerLink","/carta",1,"nav-link","color_txt_subheader_carta","link-carta","py-0",3,"click"],["routerLink","/bebidas",1,"nav-link","color_txt_subheader_carta","link-carta","py-0"],["routerLink","/vinos",1,"nav-link","color_txt_subheader_carta","link-carta","py-0"],[1,"subheader_photo_carta","col-4"],["src","./assets/images/logo_carta.png","alt","logo carta.",1,"size_photo_header"],[1,"body_plato_carta"],[1,"align_opcion_plato_carta","text_opcion_plato_carta"],["class","background_plato_carta row",4,"ngFor","ngForOf"],[1,"background_plato_carta","row"],[1,"col-12","text-center","text_title_plato_carta","d-lg-none"],[1,"text_plato_carta","col-6"],[1,"text_title_plato_carta","row","d-lg-block","d-none"],[1,"descripcion_plato_carta","row"],[1,"alergenos_plato_carta","row"],[1,"col-lg-2","col-5","text-center","align_money_plato_carta"],["alt","Plato Comida.",1,"size_photo_comida",3,"src"],[1,"text_money_plato_carta","background_money","d-lg-block","d-none"],[1,"col-12","d-lg-none","d-block","text-center"],[1,"background_money","text_money_plato_carta"]],template:function(e,r){1&e&&(s.TgZ(0,"main",0)(1,"section",1)(2,"h1",2),s._uU(3,"Carta"),s.qZA(),s.TgZ(4,"article",3)(5,"div",4)(6,"div",5)(7,"a",6),s.NdJ("click",function(){return r.changeCategory(r.listOfCategories[0])}),s.TgZ(8,"b"),s._uU(9,"Entrantes"),s.qZA()()(),s.TgZ(10,"div",5)(11,"a",6),s.NdJ("click",function(){return r.changeCategory(r.listOfCategories[1])}),s.TgZ(12,"b"),s._uU(13,"Principales"),s.qZA()()(),s.TgZ(14,"div",5)(15,"a",6),s.NdJ("click",function(){return r.changeCategory(r.listOfCategories[2])}),s.TgZ(16,"b"),s._uU(17,"Sugerencias"),s.qZA()()(),s.TgZ(18,"div",5)(19,"a",6),s.NdJ("click",function(){return r.changeCategory(r.listOfCategories[3])}),s.TgZ(20,"b"),s._uU(21,"Postres"),s.qZA()()(),s.TgZ(22,"div",5)(23,"a",7)(24,"b"),s._uU(25,"Bebidas"),s.qZA()()(),s.TgZ(26,"div",5)(27,"a",8)(28,"b"),s._uU(29,"Carta de Vinos"),s.qZA()()()(),s.TgZ(30,"figure",9),s._UZ(31,"img",10),s.qZA()()(),s.TgZ(32,"section",11)(33,"h1",12),s._uU(34),s.qZA(),s.YNc(35,KA,21,17,"article",13),s.qZA()()),2&e&&(s.xp6(34),s.Oqu(r.selectedCategory),s.xp6(1),s.Q6J("ngForOf",r.products))},directives:[ye.yS,Jv,b.sg],pipes:[b.H9],styles:[".carta[_ngcontent-%COMP%]{font-family:Roboto;color:#000}.button_carta[_ngcontent-%COMP%]{outline:none;border:none;background:#E7E7E7;text-align:left}.subheader_carta[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25))}.subheader_title_carta[_ngcontent-%COMP%]{padding-top:1%;text-align:center;font-size:calc(10px + 2vw);font-weight:700}.subheader_text_carta[_ngcontent-%COMP%]{font-size:calc(3px + 2vw);margin-left:7%;margin-bottom:2%;text-decoration:none}.color_txt_subheader_carta[_ngcontent-%COMP%], .color_txt_subheader_carta[_ngcontent-%COMP%]:hover, .color_txt_subheader_carta[_ngcontent-%COMP%]:visited{color:#000}.subheader_photo_carta[_ngcontent-%COMP%]{text-align:right;margin-right:7%}.container_subheader_carta[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align_opcion_plato_carta[_ngcontent-%COMP%]{text-align:center;padding-top:2%}.text_plato_carta[_ngcontent-%COMP%]{margin-left:5%;margin-bottom:2%}.align_photo_plato_carta[_ngcontent-%COMP%]{margin-top:3%;margin-right:-30%}.body_bebidas[_ngcontent-%COMP%]{padding-bottom:8%}.align_opcion_plato_bebidas[_ngcontent-%COMP%]{text-align:center;padding-top:2%}@media (max-width: 767px){.background_plato_carta[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));display:flex;justify-content:space-between;margin-right:20%;margin-left:20%;margin-bottom:5%}.background_text_bebidas[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));padding-top:1%;margin-right:20%;margin-left:20%;padding-bottom:2%;margin-bottom:2%}.body_plato_carta[_ngcontent-%COMP%]{padding-bottom:5%}.size_photo_header[_ngcontent-%COMP%]{max-width:60%;height:auto}.text_opcion_plato_carta[_ngcontent-%COMP%]{color:#fff;font-size:calc(9px + 2.2vw);font-weight:700;padding-bottom:2%}.text_title_plato_carta[_ngcontent-%COMP%]{margin-bottom:2%;font-size:calc(4px + 1.5vw);font-weight:700}.descripcion_plato_carta[_ngcontent-%COMP%]{margin-top:5%;font-size:calc(2px + 1.3vw)}.alergenos_plato_carta[_ngcontent-%COMP%]{margin-top:10%;font-size:calc(2px + 1.3vw)}.size_photo_comida[_ngcontent-%COMP%]{max-width:50%;height:auto}.size_col[_ngcontent-%COMP%]{width:140px}.background_money[_ngcontent-%COMP%]{color:#fff;background:#67523A;border-radius:50px;max-width:10%;margin:0 auto 3%;text-align:center}.text_money_plato_carta[_ngcontent-%COMP%]{font-size:calc(2px + 1vw)}.align_money_plato_carta[_ngcontent-%COMP%]{margin-right:-5%}.text_title_bebidas[_ngcontent-%COMP%]{font-size:calc(4px + 1.5vw);font-weight:700}.margin_nombre_bebidas[_ngcontent-%COMP%], .margin_title_bebidas[_ngcontent-%COMP%]{margin-left:6%}.text_nombre_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1.3vw)}.margin_money_bebidas[_ngcontent-%COMP%]{margin-right:7%}.margin_text_bebidas[_ngcontent-%COMP%]{margin-left:.1%}.text_money_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1.3vw)}.margin_origen_bebidas[_ngcontent-%COMP%]{margin-left:6%;padding-top:1%}.text_origen_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1.1vw)}.margin_top_bebidas[_ngcontent-%COMP%]{margin-top:1%}}@media (min-width: 768px) and (max-width: 991px){.background_plato_carta[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));display:flex;justify-content:space-between;margin-right:20%;margin-left:20%;margin-bottom:5%}.text_title_plato_carta[_ngcontent-%COMP%]{margin-bottom:2%;font-size:calc(5px + 1.5vw);font-weight:700}.text_opcion_plato_carta[_ngcontent-%COMP%]{color:#fff;font-size:calc(9px + 2.2vw);font-weight:700;padding-bottom:2%}.size_photo_header[_ngcontent-%COMP%]{max-width:60%;height:auto}.body_plato_carta[_ngcontent-%COMP%]{padding-bottom:5%}.descripcion_plato_carta[_ngcontent-%COMP%]{margin-top:5%;font-size:calc(2px + 1vw)}.alergenos_plato_carta[_ngcontent-%COMP%]{margin-top:10%;font-size:calc(3px + 1vw)}.size_photo_comida[_ngcontent-%COMP%]{max-width:50%;height:auto}.background_money[_ngcontent-%COMP%]{color:#fff;background:#67523A;border-radius:50px;max-width:10%;margin:0 auto 3%;text-align:center}.text_money_plato_carta[_ngcontent-%COMP%]{font-size:calc(2px + 1vw)}.align_money_plato_carta[_ngcontent-%COMP%]{margin-right:-5%}.background_text_bebidas[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));padding-top:1%;margin-right:20%;margin-left:20%;padding-bottom:2%;margin-bottom:2%}.text_title_bebidas[_ngcontent-%COMP%]{font-size:calc(5px + 1.5vw);font-weight:700}.margin_nombre_bebidas[_ngcontent-%COMP%]{margin-left:8%}.margin_title_bebidas[_ngcontent-%COMP%]{margin-left:6%}.text_nombre_bebidas[_ngcontent-%COMP%], .text_money_bebidas[_ngcontent-%COMP%]{font-size:calc(3px + 1vw)}.margin_origen_bebidas[_ngcontent-%COMP%]{margin-left:8%;padding-top:1%}.text_origen_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1vw)}.margin_top_bebidas[_ngcontent-%COMP%]{margin-top:1%}}@media (min-width: 992px){.background_plato_carta[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));display:flex;justify-content:space-between;margin-right:20%;margin-left:20%;margin-bottom:5%}.text_title_plato_carta[_ngcontent-%COMP%]{margin-right:30%;padding-top:2%;font-size:calc(4px + 1.3vw);font-weight:700}.descripcion_plato_carta[_ngcontent-%COMP%]{margin-top:5%;font-size:calc(2px + 1vw)}.body_plato_carta[_ngcontent-%COMP%]{padding-bottom:5%}.text_opcion_plato_carta[_ngcontent-%COMP%]{color:#fff;font-size:calc(11px + 2vw);font-weight:700;padding-bottom:2%}.alergenos_plato_carta[_ngcontent-%COMP%]{margin-top:10%;font-size:calc(2px + 1vw)}.size_photo_header[_ngcontent-%COMP%]{max-width:70%;height:auto}.size_photo_comida[_ngcontent-%COMP%]{max-width:100%;height:auto}.background_money[_ngcontent-%COMP%]{color:#fff;background:#67523A;border-radius:80px;max-width:50%;margin:2% auto 3%;text-align:center}.text_money_plato_carta[_ngcontent-%COMP%]{font-size:calc(2px + 1vw);margin-top:5%}.align_money_plato_carta[_ngcontent-%COMP%]{margin-top:2%;margin-left:25%;margin-right:3%}.background_text_bebidas[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));padding-top:1%;margin-right:20%;margin-left:20%;padding-bottom:2%;margin-bottom:2%}.text_title_bebidas[_ngcontent-%COMP%]{font-size:calc(5px + 1.3vw);font-weight:700}.margin_nombre_bebidas[_ngcontent-%COMP%]{margin-left:7.5%}.margin_title_bebidas[_ngcontent-%COMP%]{margin-left:6%}.text_nombre_bebidas[_ngcontent-%COMP%], .text_money_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1vw)}.margin_origen_bebidas[_ngcontent-%COMP%]{margin-left:7.5%;padding-top:1%}.text_origen_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + .8vw)}.margin_top_bebidas[_ngcontent-%COMP%]{margin-top:1%}}"]}),n})();var LD=L(19);function JA(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li")(1,"a",18),s.NdJ("click",function(){const f=s.CHM(e).$implicit;return s.oxw().changeCategory(f)}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function QA(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19)(1,"div",20),s._UZ(2,"img",21),s.qZA(),s.TgZ(3,"div",22)(4,"label",23),s._uU(5),s.qZA(),s.TgZ(6,"label",24),s._UZ(7,"img",25)(8,"img",25)(9,"img",25)(10,"img",25)(11,"img",25),s.qZA(),s.TgZ(12,"a",18),s.NdJ("click",function(){const f=s.CHM(e).$implicit,_=s.MAs(18),w=s.oxw();return w.addProductToCart(f,w.parseInt(_.value))}),s.TgZ(13,"label",26),s._uU(14),s.ALo(15,"currency"),s.qZA()()(),s.TgZ(16,"div",27),s._UZ(17,"input",28,29),s.qZA(),s.TgZ(19,"div",30)(20,"button",31),s.NdJ("click",function(){const f=s.CHM(e).$implicit,_=s.MAs(18),w=s.oxw();return w.addProductToCart(f,w.parseInt(_.value))}),s._UZ(21,"img",32),s._uU(22," Compra"),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Q6J("src",e.url,s.LSH),s.xp6(3),s.Oqu(e.name),s.xp6(9),s.hij(" ",s.gM2(15,3,e.price,"EUR","symbol","0.2-2")," ")}}let XA=(()=>{class n{constructor(e,r,u){this.repository=e,this.cart=r,this.router=u,this.selectedCategory=this.categories[0]}get products(){return this.repository.getProducts(this.selectedCategory,"comida")}get categories(){return this.repository.getCategories("comida")}changeCategory(e){this.selectedCategory=e}addProductToCart(e,r=1){this.cart.addLine(e,r),this.router.navigateByUrl("/carrito")}parseInt(e){return parseInt(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(DE.j),s.Y36(LD.A),s.Y36(ye.F0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-food-orders"]],decls:28,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-3"],[1,"nav-menu-left"],["type","hidden"],["selection",""],[1,"col-12"],[1,"menu-left"],[1,"menu-list"],["routerLink","/carrito",1,"btn","d-lg-none","d-xl-block","d-xl-none","cart-resp"],["src","./assets/images/icone-cart.png","width","40","height","40"],[4,"ngFor","ngForOf"],[1,"menu-btn","d-none","d-lg-block"],["routerLink","/carrito"],[1,"col-lg-9"],[1,"container"],[1,"header-pedido"],["class","col-3 pedido",4,"ngFor","ngForOf"],[3,"click"],[1,"col-3","pedido"],[1,"d-none","d-lg-block"],[1,"pedido_image",3,"src"],[1,"pedido-info"],[1,"spi-1"],[1,"spi-2"],["src","./assets/images/icone-star.png","width","14","height","14"],[1,"spi-3"],[1,"pedido-quant"],["type","number","name","pedido_quantity","min","1","value","1"],["pedido_quantity",""],[1,"btn-pedido","d-none","d-lg-block"],[1,"btn",3,"click"],["src","/assets/images/icone-cart.png","width","15","height","15"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3),s._UZ(4,"input",4,5),s.TgZ(6,"div",1)(7,"div",6)(8,"div",7)(9,"ul",8)(10,"li")(11,"a",9),s._UZ(12,"img",10),s.qZA()(),s.YNc(13,JA,3,1,"li",11),s.qZA()()(),s.TgZ(14,"div",6)(15,"div",12)(16,"a",13)(17,"button"),s._uU(18,"Tu pedido"),s.qZA()()()()()()(),s.TgZ(19,"div",14)(20,"div",15)(21,"div",1)(22,"div",1)(23,"div",6)(24,"div",16)(25,"h1"),s._uU(26),s.qZA()()(),s.YNc(27,QA,23,8,"div",17),s.qZA()()()()()()),2&e&&(s.xp6(13),s.Q6J("ngForOf",r.categories),s.xp6(13),s.Oqu(r.selectedCategory),s.xp6(1),s.Q6J("ngForOf",r.products))},directives:[ye.yS,b.sg],pipes:[b.H9],styles:[".c_main[_ngcontent-%COMP%]{width:75%;float:right;padding-top:40px;padding-left:0}.btn-pedido[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#784b17}.header-pedido[_ngcontent-%COMP%]{width:100%;margin-top:40px;padding-bottom:25px}.header-pedido[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24pt;font-weight:bolder;color:#000}.menu-left[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]{list-style-type:none}.menu-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;font-size:14pt;font-weight:700}.menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;cursor:pointer}.menu-btn[_ngcontent-%COMP%]{text-align:center;padding:20px 5px 5px}.menu-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#67523a;padding:13px;border:none;color:#fff;text-decoration:none;font-size:16px;font-weight:700;cursor:pointer;border-radius:5px;font-family:roboto}.c_main[_ngcontent-%COMP%]{width:76%;float:right;padding-top:40px;padding-left:6px}.nav-menu-left[_ngcontent-%COMP%]{margin-top:40px;margin-left:20px}.menu-left[_ngcontent-%COMP%]{background:rgba(255,255,255,.6);box-shadow:0 4px 4px #00000040;padding:20px 0 5px;font-size:16pt}.pedido[_ngcontent-%COMP%]{width:20%;margin:20px;padding:10px 10px 20px;background-color:#fff;color:#000;text-align:center;border:1px solid #DDD;border-radius:3px;box-shadow:0 4px 8px #0003,0 6px 20px #00000030}.pedido-info[_ngcontent-%COMP%]{position:relative}.spi-1[_ngcontent-%COMP%]{font-size:9.8pt;font-weight:700;width:100%;height:25px;text-align:center}.spi-2[_ngcontent-%COMP%]{width:100%;height:25px;text-align:center}.spi-3[_ngcontent-%COMP%]{text-align:center;font-size:11pt;font-weight:700}.pedido-quant[_ngcontent-%COMP%]{padding:10px}.pedido-quant[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center;border:1px solid #CCC;padding:2px;margin-left:8px;margin-right:8px;font-size:10pt;width:50px}.btn-pedido[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#e59c47;border:none;color:#fff;padding:6px 22px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;margin:10px;border-radius:5px}.pedido_image[_ngcontent-%COMP%]{max-width:100%;width:190px;height:150px;text-align:center;border-radius:3px;margin-top:6px;padding-bottom:8px}@media (max-width:991px){.nav-menu-left[_ngcontent-%COMP%]{margin-top:0;margin-left:0;background:#FFFFFF;mix-blend-mode:normal;opacity:.7;box-shadow:0 4px 4px #00000040}.pedido[_ngcontent-%COMP%]{position:relative;width:620px;height:150px;background:#F9F5F1;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));padding-top:25px;padding-left:35px;margin-bottom:20px}.pedido-quant[_ngcontent-%COMP%]{padding:6px;text-align:center;border:1px solid #CCC;width:120px;margin-top:15px;margin-left:40px}.pedido-quant[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center;border:none;padding:3px;width:50px}.pedido-info[_ngcontent-%COMP%]{height:30px;margin-left:40px;text-align:left}.pedido-info[_ngcontent-%COMP%]   .spi-1[_ngcontent-%COMP%]{height:13px;font-family:Roboto;font-style:normal;font-weight:700;font-size:16pt;color:#000;padding-bottom:42px}.pedido-info[_ngcontent-%COMP%]   .spi-3[_ngcontent-%COMP%]{background:red;width:70px;height:70px;padding-top:19px;position:relative;float:right;top:-38px;right:50px;background:#67523A;color:#fff;font-size:14pt;text-align:center;border-radius:50%!important}.row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;padding-right:var(--bs-gutter-y);padding-left:var(--bs-gutter-y);margin-right:auto;margin-left:auto}.header-pedido[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:26pt;font-family:Times New Roman}}@media (min-width:768px) and (max-width:991px){.header-pedido[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:36pt;padding-bottom:15px}}.cart-resp[_ngcontent-%COMP%]{background-color:#67523a;border-radius:6px;width:75px;height:63px;float:right;margin-right:105px;margin-top:45px;padding:10px 5px 5px}"]}),n})(),LT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-todo-pdf"]],decls:1,vars:0,consts:[["data",s.$Z9`https://firebasestorage.googleapis.com/v0/b/lacuartaweb-bce85.appspot.com/o/uploads%2Ftodo.pdf?alt=media&token=cc05164a-d6e0-4e07-8aa5-0b48b2b82b6a`,"type","application/pdf",2,"min-height","100vh","width","100%"]],template:function(e,r){1&e&&s._UZ(0,"object",0)},styles:[""]}),n})();function eS(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",21)(1,"div",22)(2,"img",23),s.NdJ("click",function(){const f=s.CHM(e).$implicit;return s.oxw().cart.removeLine(f.product.id)}),s.qZA(),s._uU(3),s.qZA(),s.TgZ(4,"div",24)(5,"div",25),s._uU(6),s.ALo(7,"currency"),s.qZA(),s.TgZ(8,"div",26),s._uU(9),s.ALo(10,"currency"),s.qZA()(),s.TgZ(11,"div",27)(12,"div",28),s._UZ(13,"input",29),s.TgZ(14,"input",30),s.NdJ("change",function(u){const _=s.CHM(e).$implicit;return s.oxw().cart.updateQuantity(_.product,u.target.value)}),s.qZA(),s._UZ(15,"input",31),s.qZA()(),s.TgZ(16,"div",32)(17,"button",33),s.NdJ("click",function(){const f=s.CHM(e).$implicit;return s.oxw().cart.removeLine(f.product.id)}),s._UZ(18,"img",34),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(3),s.hij(" ",e.product.name," "),s.xp6(3),s.hij(" ",s.gM2(7,4,e.product.price,"EUR","symbol","2.2-2")," "),s.xp6(3),s.hij(" ",s.gM2(10,9,e.product.price,"EUR","symbol","2.2-2")," "),s.xp6(5),s.Q6J("value",e.quantity)}}let tS=(()=>{class n{constructor(e){this.cart=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(LD.A))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-cart-detail"]],decls:30,vars:8,consts:[[1,"reservas","carrito","container-fluid","d-flex","justify-content-center","py-5"],[1,"text-center"],[1,"formTable"],[1,"title","d-inline-flex"],[1,"d-md-none","me-3"],["alt","Shopping cart.","src","./assets/images/shopping_cart.png"],[1,"text-bolder","pt-2"],[1,"row","pb-2","d-none","d-md-flex"],[1,"col-md-3","ps-md-5","text-md-start"],[1,"text-bolder"],[1,"col-md-3"],[1,"col-md-4","pe-md-5"],[1,"col-md-2","pe-md-5"],["class","row my-3 pb-3 carrito_item",4,"ngFor","ngForOf"],[1,"row","mt-md-5","justify-content-end"],[1,"col-md-4","d-flex","justify-content-center","pe-md-5","align-self-end"],[1,"text-bolder","d-inline","d-md-none","mt-3","me-2"],[1,"carrito_money_circle"],[1,"d-flex","pt-4","px-5","justify-content-between","btt"],["type","button","value","Seguir con el pedido","routerLink","/pedidos",1,"button"],["type","submit","value","Continuar","routerLink","/checkout",1,"button",3,"disabled"],[1,"row","my-3","pb-3","carrito_item"],[1,"col-12","col-md-3","text-start","order-md-0","order-0","pt-3","pt-md-0","ps-md-5",2,"padding","10px","padding-right","20px"],["src","./assets/images/icone-remove.png","width","13","height","13",1,"d-md-none",2,"float","right",3,"click"],[1,"col-6","col-md-3","order-md-1","order-2"],[1,"d-none","d-md-block"],[1,"d-md-none","carrito_money_circle"],[1,"col-6","col-md-4","text-start","text-md-center","order-md-2","order-1","pt-3","pt-md-0","pe-md-5"],[1,"counter"],["type","button","value","-",1,"buttonMinus"],["type","number",1,"text-center","border-0","counterValue",3,"value","change"],["type","button","value","+",1,"buttonPlus"],[1,"col-6","col-md-2","text-start","text-md-center","order-md-2","order-1","pt-3","pt-md-0","pe-md-5","d-none","d-md-block"],[1,"btn","btn-sm",2,"padding","5px",3,"click"],["src","./assets/images/icone-remove.png","width","18","height","18"]],template:function(e,r){1&e&&(s.TgZ(0,"article",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"figure",4),s._UZ(5,"img",5),s.qZA(),s.TgZ(6,"h3",6),s._uU(7,"TU PEDIDO"),s.qZA()(),s.TgZ(8,"div",7)(9,"div",8)(10,"h5",9),s._uU(11,"Producto"),s.qZA()(),s.TgZ(12,"div",10)(13,"h5",9),s._uU(14,"Precio"),s.qZA()(),s.TgZ(15,"div",11)(16,"h5",9),s._uU(17,"Cantidad"),s.qZA()(),s._UZ(18,"div",12),s.qZA(),s.YNc(19,eS,19,14,"div",13),s.TgZ(20,"div",14)(21,"div",15)(22,"h3",16),s._uU(23,"TOTAL:"),s.qZA(),s.TgZ(24,"div",17),s._uU(25),s.ALo(26,"currency"),s.qZA()()(),s.TgZ(27,"div",18),s._UZ(28,"input",19)(29,"input",20),s.qZA()()()()),2&e&&(s.xp6(19),s.Q6J("ngForOf",r.cart.lines),s.xp6(6),s.hij(" ",s.gM2(26,3,r.cart.cartPrice,"EUR","symbol","2.2-2")," "),s.xp6(4),s.Q6J("disabled",0==r.cart.lines.length))},directives:[Pn._Y,Pn.JL,Pn.F,b.sg,ye.rH],pipes:[b.H9],styles:[".reservas[_ngcontent-%COMP%]{color:#000;font-size:calc(14px + .35vw);font-max-size:18px;line-height:20px}.reservas[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .reservas[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]{background:rgba(255,255,255,.8);box-shadow:0 4px 4px #00000040;border-radius:10px;width:50vw;height:auto}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-style:normal;color:#fff;padding:1rem 2rem;font-size:calc(14px + .4vw);background:#67523A;border:none;border-radius:6px}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.4);box-sizing:border-box;border-radius:4px;background-color:#fff;width:180px;height:40px;align-items:center;vertical-align:middle;display:inline-flex}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0;width:90px;height:38px}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{background-color:transparent;border-style:none;font-size:30px}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:hover{background-color:#dcdcdc}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .timeField[_ngcontent-%COMP%]{width:9rem;height:50px;border-radius:4px;color:#000;background-color:#fff;align-content:center;font-size:calc(14px + .4vw)}.reservas2[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .timeField[_ngcontent-%COMP%]{width:6rem;text-align:center;vertical-align:middle;line-height:50px}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .selectedField[_ngcontent-%COMP%]{color:#fff;background-color:#aaa}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .timeField[_ngcontent-%COMP%]:hover{cursor:pointer}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .hourRow1[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-left:15%;padding-right:15%}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .hourRow2[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-left:25%;padding-right:25%}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .hourField[_ngcontent-%COMP%]{padding:1rem;border:1px solid #000000;border-radius:4px;color:#000;background-color:#fff;align-content:center;font-size:calc(14px + .3vw)}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .hourField[_ngcontent-%COMP%]:hover{cursor:pointer}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .hourFieldSelected[_ngcontent-%COMP%]{color:#fff;background-color:#aaa}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   #datepicker[_ngcontent-%COMP%]{color:#000;border-style:dashed}.formTable[_ngcontent-%COMP%]   .summaryTable[_ngcontent-%COMP%]{height:auto;width:50vm;border:1px solid #000000;box-sizing:border-box}.px-6[_ngcontent-%COMP%]{padding-right:5rem!important;padding-left:5rem!important}.px-7[_ngcontent-%COMP%]{padding-right:9rem!important;padding-left:9rem!important}.checkFont[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;color:#737373;font-size:calc(10px + .5vw);font-max-size:14px}.fuentePrueba[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:calc(12px + .2vw);line-height:16px;color:#000}.imgReserva[_ngcontent-%COMP%]{width:calc(30px + .2vw)}.btt[_ngcontent-%COMP%]{padding-bottom:30px}@media (max-width: 768px){.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]{width:100%!important}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background:black;padding:.8rem}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .timeField[_ngcontent-%COMP%]{color:#424242}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .selectedField[_ngcontent-%COMP%]{color:#fff;background-color:#000000a6}.px-6[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .hourRow1[_ngcontent-%COMP%]{padding-left:5%;padding-right:5%}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .hourRow2[_ngcontent-%COMP%]{padding-left:16%;padding-right:16%}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .hourField[_ngcontent-%COMP%], .reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .hourFieldSelected[_ngcontent-%COMP%]{padding:.6rem}}@media (max-width: 992px){.reservas[_ngcontent-%COMP%]{color:#000}.reservas2[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .timeField[_ngcontent-%COMP%]{border:1px solid #000000;box-sizing:border-box}}@media (min-width: 768px) and (max-width: 1200px){.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]{width:70vw}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .hourRow1[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .hourRow2[_ngcontent-%COMP%]{padding-left:20%;padding-right:20%}.reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .hourField[_ngcontent-%COMP%], .reservas[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .hourFieldSelected[_ngcontent-%COMP%]{padding:.8rem}}.carrito[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc(30px + 2vw);height:auto}.carrito_money_circle[_ngcontent-%COMP%]{width:4rem;height:4rem;color:#fff;text-align:center;vertical-align:center;line-height:4rem;border-radius:50%;background:#67523A}.text-bolder[_ngcontent-%COMP%]{font-weight:700}.carrito[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{width:150px;height:32px;align-items:center;vertical-align:middle;display:inline-flex}.carrito[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0;width:90px;height:30px}.carrito[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]{height:auto}@media (max-width: 768px){.carrito[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.carrito[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]{width:100vw;height:auto;background:transparent;border-style:none;box-shadow:none}.carrito_item[_ngcontent-%COMP%]{background:#F9F5F1;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25))}.carrito[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{width:100px;height:32px;align-items:center;vertical-align:middle;display:inline-flex}.carrito[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formTable[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0;width:45px;height:30px}.carrito[_ngcontent-%COMP%]   .carrito_item[_ngcontent-%COMP%]   .carrito_money_circle[_ngcontent-%COMP%]{margin:0 auto 3%;height:3.8rem;width:3.8rem;line-height:3.8rem;padding-left:4px;padding-right:0}}"]}),n})();var nS=L(4535),BD=L(2642),iS=L(1744);function rS(n,t){1&n&&(s.TgZ(0,"div",6)(1,"div",2)(2,"div",7)(3,"h2"),s._uU(4,"Gracias!"),s.qZA(),s.TgZ(5,"p"),s._uU(6,"Gracias por hacer su pedido."),s.qZA(),s.TgZ(7,"p"),s._uU(8,"Enviaremos sus productos lo antes posible."),s.qZA(),s.TgZ(9,"button",8),s._uU(10," Volver a la web de La Cuarta "),s.qZA()()()())}function sS(n,t){1&n&&(s.TgZ(0,"span",50),s._uU(1," Por favor entra con su nombre "),s.qZA())}function oS(n,t){1&n&&(s.TgZ(0,"span",50),s._uU(1," Por favor entra con su coreo eletr\xf3nico"),s._UZ(2,"br"),s.qZA())}function aS(n,t){1&n&&(s.TgZ(0,"span",50),s._uU(1," Coreo eletr\xf3nico no es valido... ex: em123@exemplo.com "),s.qZA())}function lS(n,t){1&n&&(s.TgZ(0,"span",50),s._uU(1," Por favor entra con indicativo y su n\xfamero de tel\xe9fono"),s._UZ(2,"br"),s.qZA())}function cS(n,t){1&n&&(s.TgZ(0,"span",50),s._uU(1," Debe contener solo n\xfameros (m\xednimo 9) "),s.qZA())}function uS(n,t){1&n&&(s.TgZ(0,"span",50),s._uU(1," Por favor entra con su n\xfamero de tarjeta correcto"),s._UZ(2,"br"),s.qZA())}function dS(n,t){1&n&&(s.TgZ(0,"span",50),s._uU(1," Debe contener solo n\xfameros (m\xednimo 16) "),s.qZA())}function hS(n,t){1&n&&(s.TgZ(0,"span",50),s._uU(1," Por favor entra con la fecha expiracion correcto "),s.qZA())}function fS(n,t){1&n&&(s.TgZ(0,"span",50),s._uU(1," Por favor entra con el cvc/cvv "),s.qZA())}function pS(n,t){1&n&&(s.TgZ(0,"span",50),s._UZ(1,"br"),s._uU(2,"Aceptar las Condiciones para continuar "),s.qZA())}function gS(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"form",9,10),s.NdJ("ngSubmit",function(){s.CHM(e);const u=s.MAs(1);return s.oxw().submitOrder(u)}),s.TgZ(2,"div",11)(3,"div",12)(4,"div",13)(5,"input",14,15),s.NdJ("ngModelChange",function(u){return s.CHM(e),s.oxw().order.user.fullName=u}),s.qZA(),s.YNc(7,sS,2,0,"span",16),s.qZA()(),s.TgZ(8,"div",17)(9,"div",13)(10,"input",18,19),s.NdJ("ngModelChange",function(u){return s.CHM(e),s.oxw().order.user.email=u})("change",function(){s.CHM(e);const u=s.MAs(11);return s.oxw().emailCheck(u.value)}),s.qZA(),s.YNc(12,oS,3,0,"span",16),s.YNc(13,aS,2,0,"span",16),s.qZA()(),s.TgZ(14,"div",17)(15,"label",20),s._uU(16,"Indicativo y n\xfamero de tel\xe9fono"),s.qZA(),s.TgZ(17,"div",21)(18,"div",22)(19,"span",23),s._UZ(20,"img",24),s.TgZ(21,"select",25,26),s.NdJ("ngModelChange",function(u){return s.CHM(e),s.oxw().order.user.codTelefono=u}),s.TgZ(23,"option",27),s._uU(24,"+34"),s.qZA(),s.TgZ(25,"option",28),s._uU(26,"+43"),s.qZA(),s.TgZ(27,"option",29),s._uU(28,"+46"),s.qZA()()()(),s.TgZ(29,"input",30,31),s.NdJ("ngModelChange",function(u){return s.CHM(e),s.oxw().order.user.phoneNumber=u}),s.qZA(),s.TgZ(31,"div",17),s.YNc(32,lS,3,0,"span",16),s.YNc(33,cS,2,0,"span",16),s.qZA()()(),s.TgZ(34,"div",17)(35,"div",13)(36,"label",20),s._uU(37,"N\xfamero de tarjeta"),s.qZA(),s.TgZ(38,"input",32,33),s.NdJ("ngModelChange",function(u){return s.CHM(e),s.oxw().order.user.numTarjeta=u}),s.qZA(),s.YNc(40,uS,3,0,"span",16),s.YNc(41,dS,2,0,"span",16),s.qZA()(),s.TgZ(42,"div",34)(43,"div",13)(44,"label",20),s._uU(45,"Fecha de expiraci\xf3n"),s.qZA(),s.TgZ(46,"input",35,36),s.NdJ("ngModelChange",function(u){return s.CHM(e),s.oxw().order.user.fechaExpiracion=u}),s.qZA(),s.YNc(48,hS,2,0,"span",16),s.qZA()(),s.TgZ(49,"div",34)(50,"div",13)(51,"label",20),s._uU(52,"CVC / CVV"),s.qZA(),s.TgZ(53,"input",37,38),s.NdJ("ngModelChange",function(u){return s.CHM(e),s.oxw().order.user.cvv=u}),s.qZA(),s.YNc(55,fS,2,0,"span",16),s.qZA()(),s.TgZ(56,"div",17)(57,"div",13)(58,"input",39,40),s.NdJ("ngModelChange",function(u){return s.CHM(e),s.oxw().order.user.address.country=u}),s.qZA()()(),s.TgZ(60,"div",17)(61,"div",41)(62,"label",20),s._UZ(63,"input",42,43),s._uU(65," Acepto las Condiciones de Uso y la Pol\xedtica de Privacidad "),s.qZA(),s.YNc(66,pS,3,0,"span",16),s.qZA()(),s.TgZ(67,"div",17)(68,"div",41)(69,"label",20)(70,"input",44,45),s.NdJ("ngModelChange",function(u){return s.CHM(e),s.oxw().order.user.rememberMe=u}),s.qZA(),s._uU(72,"\xa0 Recordarme para la pr\xf3xima reserva "),s.qZA()()(),s.TgZ(73,"div",17)(74,"div",46)(75,"button",47),s._uU(76,"Mi Pedido"),s.qZA()(),s.TgZ(77,"div",48)(78,"button",49),s._uU(79,"Procesar Pago"),s.qZA()()()()()}if(2&n){const e=s.MAs(6),r=s.MAs(11),u=s.MAs(30),f=s.MAs(39),_=s.MAs(47),w=s.MAs(54),x=s.MAs(64),H=s.oxw();s.xp6(5),s.Q6J("ngModel",H.order.user.fullName),s.xp6(2),s.Q6J("ngIf",H.submitted&&e.invalid),s.xp6(3),s.Q6J("ngModel",H.order.user.email),s.xp6(2),s.Q6J("ngIf",H.submitted&&r.invalid),s.xp6(1),s.Q6J("ngIf",null==r.errors?null:r.errors.pattern),s.xp6(8),s.Q6J("ngModel",H.order.user.codTelefono),s.xp6(8),s.Q6J("ngModel",H.order.user.phoneNumber),s.xp6(3),s.Q6J("ngIf",H.submitted&&u.invalid),s.xp6(1),s.Q6J("ngIf",(null==u.errors?null:u.errors.minlength)||(null==u.errors?null:u.errors.pattern)),s.xp6(5),s.Q6J("ngModel",H.order.user.numTarjeta),s.xp6(2),s.Q6J("ngIf",H.submitted&&f.invalid),s.xp6(1),s.Q6J("ngIf",(null==f.errors?null:f.errors.minlength)||(null==f.errors?null:f.errors.pattern)),s.xp6(5),s.Q6J("ngModel",H.order.user.fechaExpiracion),s.xp6(2),s.Q6J("ngIf",H.submitted&&_.invalid),s.xp6(5),s.Q6J("ngModel",H.order.user.cvv),s.xp6(2),s.Q6J("ngIf",H.submitted&&w.invalid),s.xp6(3),s.Q6J("ngModel",H.order.user.address.country),s.xp6(5),s.Q6J("ngModel",H.order.user.isAccepted),s.xp6(3),s.Q6J("ngIf",H.submitted&&x.invalid),s.xp6(4),s.Q6J("ngModel",H.order.user.rememberMe)}}let mS=(()=>{class n{constructor(e,r,u){this.repository=e,this.userRepo=r,this.order=u,this.orderSent=!1,this.submitted=!1}submitOrder(e){this.submitted=!0,e.valid&&this.repository.saveOrder(this.order).subscribe(r=>{console.log("Saved order:",r),this.order.clear(),this.orderSent=!0,this.submitted=!1})}emailCheck(e){console.log("Checking if email <",e,"> exists in database.");const r=this.userRepo.getUserByEmail(e);r&&(console.log("Found user:",r),this.order.user=r)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(nS.f),s.Y36(BD.j),s.Y36(iS.K))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-checkout"]],decls:7,vars:2,consts:[["class","container m-2 text-center",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12","d-lg-none"],[1,"text-center",2,"font-size","40pt","margin-top","20px"],["novalidate","","class","m-2",3,"ngSubmit",4,"ngIf"],[1,"container","m-2","text-center"],[1,"col-lg-8","offset-lg-2","respuesta"],["routerLink","/store",1,"btn","btn-primary","btn-lg"],["novalidate","",1,"m-2",3,"ngSubmit"],["form","ngForm"],[1,"row","orders-main","mx-auto"],[1,"col-md-12"],[1,"form-group"],["name","name","required","","placeholder","Nombre",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","text-danger",4,"ngIf"],[1,"col-12"],["name","email","required","","placeholder","Correo electr\xf3nico","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",1,"form-control",3,"ngModel","ngModelChange","change"],["email","ngModel"],[1,"lab"],[1,"input-group","form-group"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],["src","./assets/images/flag_spain.png","width","25","height","25"],["name","codTelefono",1,"form-select-sm",3,"ngModel","ngModelChange"],["codTelefono","ngModel"],["value","+34"],["value","+43"],["value","+46"],["name","phoneNumber","pattern","[0-9]+$","minlength","9","maxlength","9","required","","placeholder","N\xfamero de tel\xe9fono",1,"form-control",3,"ngModel","ngModelChange"],["phoneNumber","ngModel"],["name","numTarjeta","minlength","16","maxlength","16","required","","placeholder","N\xfamero de tarjeta","pattern","[0-9]+$",1,"form-control",3,"ngModel","ngModelChange"],["numTarjeta","ngModel"],[1,"col-6"],["name","fechaExpiracion","minlength","5","maxlength","5","required","","placeholder","MM / AA","pattern","\\d{1,2}/\\d{1,2}",1,"form-control",3,"ngModel","ngModelChange"],["fechaExpiracion","ngModel"],["name","cvv","minlength","3","maxlength","3","required","","placeholder","xxx",1,"form-control",3,"ngModel","ngModelChange"],["cvv","ngModel"],["name","coment","placeholder","Comentarios acerca del pedido",1,"form-control",3,"ngModel","ngModelChange"],["coment","ngModel"],[1,"form-group","config"],["type","checkbox","name","isAccepted","required","",1,"form-check-input","mt-0",3,"ngModel"],["isAccepted","ngModel"],["type","checkbox","name","rememberMe","required","",1,"form-check-input","mt-0",3,"ngModel","ngModelChange"],["rememberMe","ngModel"],[1,"float-start"],["routerLink","/carrito",1,"btn"],[1,"float-end"],["type","submit",1,"btn"],[1,"text-danger"]],template:function(e,r){1&e&&(s.YNc(0,rS,11,0,"div",0),s.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),s._uU(5," Procesar Pago "),s.qZA()(),s.YNc(6,gS,80,20,"form",5),s.qZA()()),2&e&&(s.Q6J("ngIf",r.orderSent),s.xp6(6),s.Q6J("ngIf",!r.orderSent))},directives:[b.O5,ye.rH,Pn._Y,Pn.JL,Pn.F,Pn.Fj,Pn.Q7,Pn.JJ,Pn.On,Pn.c5,Pn.EJ,Pn.YN,Pn.Kr,Pn.wO,Pn.nD,Pn.Zs,Pn.Wl],styles:[".respuesta[_ngcontent-%COMP%]{background:rgba(255,255,255,.8);padding:30px 80px 90px;color:#000;font-weight:700;border-radius:10px}.orders-main[_ngcontent-%COMP%]{max-width:700px;justify-content:center;background:rgba(255,255,255,.8);box-shadow:0 4px 4px #00000040;border-radius:10px;padding:30px 80px 90px;margin-bottom:35px;margin-top:30px}.form-group[_ngcontent-%COMP%]{padding:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#aba7af;font-size:13pt}.lab[_ngcontent-%COMP%]{color:#000;font-weight:700;font-size:12.5pt}.config[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#737373;padding-left:5px}.float-end[_ngcontent-%COMP%], .float-start[_ngcontent-%COMP%]{padding-top:20px}.btn[_ngcontent-%COMP%]{background-color:#67523a;padding:10px;color:#fff;font-weight:700}.text-danger[_ngcontent-%COMP%]{font-size:13pt}.form-select-sm[_ngcontent-%COMP%]{background-color:#e9ecef;border:none}input.ng-dirty.ng-invalid[_ngcontent-%COMP%]{border:2px solid #ff0000}input.ng-dirty.ng-valid[_ngcontent-%COMP%]{border:2px solid #6bc502}@media (max-width: 768px){.orders-main[_ngcontent-%COMP%]{padding:30px 50px 90px}.form-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .lab[_ngcontent-%COMP%]{font-size:11pt}}@media (max-width: 576px){.form-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .lab[_ngcontent-%COMP%]{font-size:9pt}}"]}),n})();function _S(n,t){if(1&n&&(s.TgZ(0,"div",17)(1,"div",18),s._uU(2),s.qZA(),s.TgZ(3,"div",19),s._uU(4),s.ALo(5,"currency"),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e.name," "),s.xp6(2),s.hij(" ",s.gM2(5,2,e.price,"EUR","symbol","0.2-2")," ")}}function yS(n,t){if(1&n&&(s.TgZ(0,"article")(1,"div",14)(2,"div",15)(3,"b"),s._uU(4),s.qZA()(),s.YNc(5,_S,6,7,"div",16),s.qZA()()),2&n){const e=t.$implicit,r=s.oxw();s.xp6(4),s.hij(" ",e," "),s.xp6(1),s.Q6J("ngForOf",r.products(e))}}let vS=(()=>{class n{constructor(e,r,u){this.repository=e,this.router=r,this.selectedservice=u,this.listOfCategories=["Cervezas","Refrescos"],this.listOfFood=["Entrantes","Principales","Sugerencias","Postres"]}products(e){return this.selectedCategory=e,this.repository.getProducts(this.selectedCategory,"bebida")}changeCategory(e){this.selectedservice.setCategory(e),this.updateComeInChild()}updateComeInChild(){this.selectedservice.setComeInChild(!0)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(DE.j),s.Y36(ye.F0),s.Y36(FT))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-bebidas-menu"]],decls:37,vars:1,consts:[[1,"carta"],[1,"subheader_carta"],[1,"subheader_title_carta"],[1,"container_subheader_carta","row"],[1,"subheader_text_carta","col-4"],[1,"row"],["routerLink","/carta",1,"nav-link","color_txt_subheader_carta","link-carta","py-0",3,"click"],["routerLink","/bebidas",1,"nav-link","color_txt_subheader_carta","link-carta","py-0"],["routerLink","/vinos",1,"nav-link","color_txt_subheader_carta","link-carta","py-0"],[1,"subheader_photo_carta","col-4"],["src","./assets/images/logo_carta.png","alt","logo carta.",1,"size_photo_header"],[1,"body_plato_carta"],[1,"align_opcion_plato_carta","text_opcion_plato_carta"],[4,"ngFor","ngForOf"],[1,"background_text_bebidas","col"],[1,"text_title_bebidas","margin_title_bebidas","row"],["class","row margin_text_bebidas",4,"ngFor","ngForOf"],[1,"row","margin_text_bebidas"],[1,"text_nombre_bebidas","margin_nombre_bebidas","col","me-auto"],[1,"text_money_bebidas","col-md-2","col-auto","margin_money_bebidas"]],template:function(e,r){1&e&&(s.TgZ(0,"main",0)(1,"section",1)(2,"h1",2),s._uU(3,"Carta"),s.qZA(),s.TgZ(4,"article",3)(5,"div",4)(6,"div",5)(7,"a",6),s.NdJ("click",function(){return r.changeCategory(r.listOfFood[0])}),s.TgZ(8,"b"),s._uU(9,"Entrantes"),s.qZA()()(),s.TgZ(10,"div",5)(11,"a",6),s.NdJ("click",function(){return r.changeCategory(r.listOfFood[1])}),s.TgZ(12,"b"),s._uU(13,"Principales"),s.qZA()()(),s.TgZ(14,"div",5)(15,"a",6),s.NdJ("click",function(){return r.changeCategory(r.listOfFood[2])}),s.TgZ(16,"b"),s._uU(17,"Sugerencias"),s.qZA()()(),s.TgZ(18,"div",5)(19,"a",6),s.NdJ("click",function(){return r.changeCategory(r.listOfFood[3])}),s.TgZ(20,"b"),s._uU(21,"Postres"),s.qZA()()(),s.TgZ(22,"div",5)(23,"a",7)(24,"b"),s._uU(25,"Bebidas"),s.qZA()()(),s.TgZ(26,"div",5)(27,"a",8)(28,"b"),s._uU(29,"Carta de Vinos"),s.qZA()()()(),s.TgZ(30,"figure",9),s._UZ(31,"img",10),s.qZA()()(),s.TgZ(32,"section",11)(33,"h1",12),s._uU(34,"Bebidas"),s.qZA(),s.YNc(35,yS,6,2,"article",13),s._uU(36,"' "),s.qZA()()),2&e&&(s.xp6(35),s.Q6J("ngForOf",r.listOfCategories))},directives:[ye.yS,Jv,b.sg],pipes:[b.H9],styles:[".carta[_ngcontent-%COMP%]{font-family:Roboto;color:#000}.button_carta[_ngcontent-%COMP%]{outline:none;border:none;background:#E7E7E7;text-align:left}.subheader_carta[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25))}.subheader_title_carta[_ngcontent-%COMP%]{padding-top:1%;text-align:center;font-size:calc(10px + 2vw);font-weight:700}.subheader_text_carta[_ngcontent-%COMP%]{font-size:calc(3px + 2vw);margin-left:7%;margin-bottom:2%;text-decoration:none}.color_txt_subheader_carta[_ngcontent-%COMP%], .color_txt_subheader_carta[_ngcontent-%COMP%]:hover, .color_txt_subheader_carta[_ngcontent-%COMP%]:visited{color:#000}.subheader_photo_carta[_ngcontent-%COMP%]{text-align:right;margin-right:7%}.container_subheader_carta[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align_opcion_plato_carta[_ngcontent-%COMP%]{text-align:center;padding-top:2%}.text_plato_carta[_ngcontent-%COMP%]{margin-left:5%;margin-bottom:2%}.align_photo_plato_carta[_ngcontent-%COMP%]{margin-top:3%;margin-right:-30%}.body_bebidas[_ngcontent-%COMP%]{padding-bottom:8%}.align_opcion_plato_bebidas[_ngcontent-%COMP%]{text-align:center;padding-top:2%}@media (max-width: 767px){.background_plato_carta[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));display:flex;justify-content:space-between;margin-right:20%;margin-left:20%;margin-bottom:5%}.background_text_bebidas[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));padding-top:1%;margin-right:20%;margin-left:20%;padding-bottom:2%;margin-bottom:2%}.body_plato_carta[_ngcontent-%COMP%]{padding-bottom:5%}.size_photo_header[_ngcontent-%COMP%]{max-width:60%;height:auto}.text_opcion_plato_carta[_ngcontent-%COMP%]{color:#fff;font-size:calc(9px + 2.2vw);font-weight:700;padding-bottom:2%}.text_title_plato_carta[_ngcontent-%COMP%]{margin-bottom:2%;font-size:calc(4px + 1.5vw);font-weight:700}.descripcion_plato_carta[_ngcontent-%COMP%]{margin-top:5%;font-size:calc(2px + 1.3vw)}.alergenos_plato_carta[_ngcontent-%COMP%]{margin-top:10%;font-size:calc(2px + 1.3vw)}.size_photo_comida[_ngcontent-%COMP%]{max-width:50%;height:auto}.size_col[_ngcontent-%COMP%]{width:140px}.background_money[_ngcontent-%COMP%]{color:#fff;background:#67523A;border-radius:50px;max-width:10%;margin:0 auto 3%;text-align:center}.text_money_plato_carta[_ngcontent-%COMP%]{font-size:calc(2px + 1vw)}.align_money_plato_carta[_ngcontent-%COMP%]{margin-right:-5%}.text_title_bebidas[_ngcontent-%COMP%]{font-size:calc(4px + 1.5vw);font-weight:700}.margin_nombre_bebidas[_ngcontent-%COMP%], .margin_title_bebidas[_ngcontent-%COMP%]{margin-left:6%}.text_nombre_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1.3vw)}.margin_money_bebidas[_ngcontent-%COMP%]{margin-right:7%}.margin_text_bebidas[_ngcontent-%COMP%]{margin-left:.1%}.text_money_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1.3vw)}.margin_origen_bebidas[_ngcontent-%COMP%]{margin-left:6%;padding-top:1%}.text_origen_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1.1vw)}.margin_top_bebidas[_ngcontent-%COMP%]{margin-top:1%}}@media (min-width: 768px) and (max-width: 991px){.background_plato_carta[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));display:flex;justify-content:space-between;margin-right:20%;margin-left:20%;margin-bottom:5%}.text_title_plato_carta[_ngcontent-%COMP%]{margin-bottom:2%;font-size:calc(5px + 1.5vw);font-weight:700}.text_opcion_plato_carta[_ngcontent-%COMP%]{color:#fff;font-size:calc(9px + 2.2vw);font-weight:700;padding-bottom:2%}.size_photo_header[_ngcontent-%COMP%]{max-width:60%;height:auto}.body_plato_carta[_ngcontent-%COMP%]{padding-bottom:5%}.descripcion_plato_carta[_ngcontent-%COMP%]{margin-top:5%;font-size:calc(2px + 1vw)}.alergenos_plato_carta[_ngcontent-%COMP%]{margin-top:10%;font-size:calc(3px + 1vw)}.size_photo_comida[_ngcontent-%COMP%]{max-width:50%;height:auto}.background_money[_ngcontent-%COMP%]{color:#fff;background:#67523A;border-radius:50px;max-width:10%;margin:0 auto 3%;text-align:center}.text_money_plato_carta[_ngcontent-%COMP%]{font-size:calc(2px + 1vw)}.align_money_plato_carta[_ngcontent-%COMP%]{margin-right:-5%}.background_text_bebidas[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));padding-top:1%;margin-right:20%;margin-left:20%;padding-bottom:2%;margin-bottom:2%}.text_title_bebidas[_ngcontent-%COMP%]{font-size:calc(5px + 1.5vw);font-weight:700}.margin_nombre_bebidas[_ngcontent-%COMP%]{margin-left:8%}.margin_title_bebidas[_ngcontent-%COMP%]{margin-left:6%}.text_nombre_bebidas[_ngcontent-%COMP%], .text_money_bebidas[_ngcontent-%COMP%]{font-size:calc(3px + 1vw)}.margin_origen_bebidas[_ngcontent-%COMP%]{margin-left:8%;padding-top:1%}.text_origen_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1vw)}.margin_top_bebidas[_ngcontent-%COMP%]{margin-top:1%}}@media (min-width: 992px){.background_plato_carta[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));display:flex;justify-content:space-between;margin-right:20%;margin-left:20%;margin-bottom:5%}.text_title_plato_carta[_ngcontent-%COMP%]{margin-right:30%;padding-top:2%;font-size:calc(4px + 1.3vw);font-weight:700}.descripcion_plato_carta[_ngcontent-%COMP%]{margin-top:5%;font-size:calc(2px + 1vw)}.body_plato_carta[_ngcontent-%COMP%]{padding-bottom:5%}.text_opcion_plato_carta[_ngcontent-%COMP%]{color:#fff;font-size:calc(11px + 2vw);font-weight:700;padding-bottom:2%}.alergenos_plato_carta[_ngcontent-%COMP%]{margin-top:10%;font-size:calc(2px + 1vw)}.size_photo_header[_ngcontent-%COMP%]{max-width:70%;height:auto}.size_photo_comida[_ngcontent-%COMP%]{max-width:100%;height:auto}.background_money[_ngcontent-%COMP%]{color:#fff;background:#67523A;border-radius:80px;max-width:50%;margin:2% auto 3%;text-align:center}.text_money_plato_carta[_ngcontent-%COMP%]{font-size:calc(2px + 1vw);margin-top:5%}.align_money_plato_carta[_ngcontent-%COMP%]{margin-top:2%;margin-left:25%;margin-right:3%}.background_text_bebidas[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));padding-top:1%;margin-right:20%;margin-left:20%;padding-bottom:2%;margin-bottom:2%}.text_title_bebidas[_ngcontent-%COMP%]{font-size:calc(5px + 1.3vw);font-weight:700}.margin_nombre_bebidas[_ngcontent-%COMP%]{margin-left:7.5%}.margin_title_bebidas[_ngcontent-%COMP%]{margin-left:6%}.text_nombre_bebidas[_ngcontent-%COMP%], .text_money_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1vw)}.margin_origen_bebidas[_ngcontent-%COMP%]{margin-left:7.5%;padding-top:1%}.text_origen_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + .8vw)}.margin_top_bebidas[_ngcontent-%COMP%]{margin-top:1%}}"]}),n})();function bS(n,t){if(1&n&&(s.TgZ(0,"div",17)(1,"div",18),s._uU(2),s.qZA(),s.TgZ(3,"div",19),s._uU(4),s.ALo(5,"currency"),s.qZA(),s.TgZ(6,"div",20),s._uU(7),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e.name," "),s.xp6(2),s.hij(" ",s.gM2(5,3,e.price,"EUR","symbol","0.2-2")," "),s.xp6(3),s.hij(" ",e.description," ")}}function CS(n,t){if(1&n&&(s.TgZ(0,"article")(1,"div",14)(2,"div",15)(3,"b"),s._uU(4),s.qZA()(),s.YNc(5,bS,8,8,"div",16),s.qZA()()),2&n){const e=t.$implicit,r=s.oxw();s.xp6(4),s.hij(" ",e," "),s.xp6(1),s.Q6J("ngForOf",r.products(e))}}let ES=(()=>{class n{constructor(e,r,u){this.repository=e,this.router=r,this.selectedservice=u,this.listOfCategories=["Vino Blanco","Vino Tinto"],this.listOfFood=["Entrantes","Principales","Sugerencias","Postres"]}products(e){return this.selectedCategory=e,this.repository.getProducts(this.selectedCategory,"vino")}changeCategory(e){this.selectedservice.setCategory(e),this.updateComeInChild()}updateComeInChild(){this.selectedservice.setComeInChild(!0)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(DE.j),s.Y36(ye.F0),s.Y36(FT))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-vinos-menu"]],decls:37,vars:1,consts:[[1,"carta"],[1,"subheader_carta"],[1,"subheader_title_carta"],[1,"container_subheader_carta","row"],[1,"subheader_text_carta","col-4"],[1,"row"],["routerLink","/carta",1,"nav-link","color_txt_subheader_carta","link-carta","py-0",3,"click"],["routerLink","/bebidas",1,"nav-link","link-carta","color_txt_subheader_carta","py-0"],["routerLink","/vinos",1,"nav-link","link-carta","color_txt_subheader_carta","py-0"],[1,"subheader_photo_carta","col-4"],["src","./assets/images/logo_carta.png","alt","logo carta.",1,"size_photo_header"],[1,"body_bebidas"],[1,"align_opcion_plato_carta","text_opcion_plato_carta"],[4,"ngFor","ngForOf"],[1,"background_text_bebidas","col"],[1,"text_title_bebidas","margin_title_bebidas","row"],["class","row margin_text_bebidas margin_top_bebidas",4,"ngFor","ngForOf"],[1,"row","margin_text_bebidas","margin_top_bebidas"],[1,"text_nombre_bebidas","margin_nombre_bebidas","col","me-auto"],[1,"text_money_bebidas","col-md-2","col-auto","margin_money_bebidas"],[1,"margin_origen_bebidas","text_origen_bebidas","col-12"]],template:function(e,r){1&e&&(s.TgZ(0,"main",0)(1,"section",1)(2,"h1",2),s._uU(3,"Carta"),s.qZA(),s.TgZ(4,"article",3)(5,"div",4)(6,"div",5)(7,"a",6),s.NdJ("click",function(){return r.changeCategory(r.listOfFood[0])}),s.TgZ(8,"b"),s._uU(9,"Entrantes"),s.qZA()()(),s.TgZ(10,"div",5)(11,"a",6),s.NdJ("click",function(){return r.changeCategory(r.listOfFood[1])}),s.TgZ(12,"b"),s._uU(13,"Principales"),s.qZA()()(),s.TgZ(14,"div",5)(15,"a",6),s.NdJ("click",function(){return r.changeCategory(r.listOfFood[2])}),s.TgZ(16,"b"),s._uU(17,"Sugerencias"),s.qZA()()(),s.TgZ(18,"div",5)(19,"a",6),s.NdJ("click",function(){return r.changeCategory(r.listOfFood[3])}),s.TgZ(20,"b"),s._uU(21,"Postres"),s.qZA()()(),s.TgZ(22,"div",5)(23,"a",7)(24,"b"),s._uU(25,"Bebidas"),s.qZA()()(),s.TgZ(26,"div",5)(27,"a",8)(28,"b"),s._uU(29,"Carta de Vinos"),s.qZA()()()(),s.TgZ(30,"figure",9),s._UZ(31,"img",10),s.qZA()()(),s.TgZ(32,"section",11)(33,"h1",12),s._uU(34,"Carta de Vinos"),s.qZA(),s.YNc(35,CS,6,2,"article",13),s._uU(36,"' "),s.qZA()()),2&e&&(s.xp6(35),s.Q6J("ngForOf",r.listOfCategories))},directives:[ye.yS,Jv,b.sg],pipes:[b.H9],styles:[".carta[_ngcontent-%COMP%]{font-family:Roboto;color:#000}.button_carta[_ngcontent-%COMP%]{outline:none;border:none;background:#E7E7E7;text-align:left}.subheader_carta[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25))}.subheader_title_carta[_ngcontent-%COMP%]{padding-top:1%;text-align:center;font-size:calc(10px + 2vw);font-weight:700}.subheader_text_carta[_ngcontent-%COMP%]{font-size:calc(3px + 2vw);margin-left:7%;margin-bottom:2%;text-decoration:none}.color_txt_subheader_carta[_ngcontent-%COMP%], .color_txt_subheader_carta[_ngcontent-%COMP%]:hover, .color_txt_subheader_carta[_ngcontent-%COMP%]:visited{color:#000}.subheader_photo_carta[_ngcontent-%COMP%]{text-align:right;margin-right:7%}.container_subheader_carta[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align_opcion_plato_carta[_ngcontent-%COMP%]{text-align:center;padding-top:2%}.text_plato_carta[_ngcontent-%COMP%]{margin-left:5%;margin-bottom:2%}.align_photo_plato_carta[_ngcontent-%COMP%]{margin-top:3%;margin-right:-30%}.body_bebidas[_ngcontent-%COMP%]{padding-bottom:8%}.align_opcion_plato_bebidas[_ngcontent-%COMP%]{text-align:center;padding-top:2%}@media (max-width: 767px){.background_plato_carta[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));display:flex;justify-content:space-between;margin-right:20%;margin-left:20%;margin-bottom:5%}.background_text_bebidas[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));padding-top:1%;margin-right:20%;margin-left:20%;padding-bottom:2%;margin-bottom:2%}.body_plato_carta[_ngcontent-%COMP%]{padding-bottom:5%}.size_photo_header[_ngcontent-%COMP%]{max-width:60%;height:auto}.text_opcion_plato_carta[_ngcontent-%COMP%]{color:#fff;font-size:calc(9px + 2.2vw);font-weight:700;padding-bottom:2%}.text_title_plato_carta[_ngcontent-%COMP%]{margin-bottom:2%;font-size:calc(4px + 1.5vw);font-weight:700}.descripcion_plato_carta[_ngcontent-%COMP%]{margin-top:5%;font-size:calc(2px + 1.3vw)}.alergenos_plato_carta[_ngcontent-%COMP%]{margin-top:10%;font-size:calc(2px + 1.3vw)}.size_photo_comida[_ngcontent-%COMP%]{max-width:50%;height:auto}.size_col[_ngcontent-%COMP%]{width:140px}.background_money[_ngcontent-%COMP%]{color:#fff;background:#67523A;border-radius:50px;max-width:10%;margin:0 auto 3%;text-align:center}.text_money_plato_carta[_ngcontent-%COMP%]{font-size:calc(2px + 1vw)}.align_money_plato_carta[_ngcontent-%COMP%]{margin-right:-5%}.text_title_bebidas[_ngcontent-%COMP%]{font-size:calc(4px + 1.5vw);font-weight:700}.margin_nombre_bebidas[_ngcontent-%COMP%], .margin_title_bebidas[_ngcontent-%COMP%]{margin-left:6%}.text_nombre_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1.3vw)}.margin_money_bebidas[_ngcontent-%COMP%]{margin-right:7%}.margin_text_bebidas[_ngcontent-%COMP%]{margin-left:.1%}.text_money_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1.3vw)}.margin_origen_bebidas[_ngcontent-%COMP%]{margin-left:6%;padding-top:1%}.text_origen_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1.1vw)}.margin_top_bebidas[_ngcontent-%COMP%]{margin-top:1%}}@media (min-width: 768px) and (max-width: 991px){.background_plato_carta[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));display:flex;justify-content:space-between;margin-right:20%;margin-left:20%;margin-bottom:5%}.text_title_plato_carta[_ngcontent-%COMP%]{margin-bottom:2%;font-size:calc(5px + 1.5vw);font-weight:700}.text_opcion_plato_carta[_ngcontent-%COMP%]{color:#fff;font-size:calc(9px + 2.2vw);font-weight:700;padding-bottom:2%}.size_photo_header[_ngcontent-%COMP%]{max-width:60%;height:auto}.body_plato_carta[_ngcontent-%COMP%]{padding-bottom:5%}.descripcion_plato_carta[_ngcontent-%COMP%]{margin-top:5%;font-size:calc(2px + 1vw)}.alergenos_plato_carta[_ngcontent-%COMP%]{margin-top:10%;font-size:calc(3px + 1vw)}.size_photo_comida[_ngcontent-%COMP%]{max-width:50%;height:auto}.background_money[_ngcontent-%COMP%]{color:#fff;background:#67523A;border-radius:50px;max-width:10%;margin:0 auto 3%;text-align:center}.text_money_plato_carta[_ngcontent-%COMP%]{font-size:calc(2px + 1vw)}.align_money_plato_carta[_ngcontent-%COMP%]{margin-right:-5%}.background_text_bebidas[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));padding-top:1%;margin-right:20%;margin-left:20%;padding-bottom:2%;margin-bottom:2%}.text_title_bebidas[_ngcontent-%COMP%]{font-size:calc(5px + 1.5vw);font-weight:700}.margin_nombre_bebidas[_ngcontent-%COMP%]{margin-left:8%}.margin_title_bebidas[_ngcontent-%COMP%]{margin-left:6%}.text_nombre_bebidas[_ngcontent-%COMP%], .text_money_bebidas[_ngcontent-%COMP%]{font-size:calc(3px + 1vw)}.margin_origen_bebidas[_ngcontent-%COMP%]{margin-left:8%;padding-top:1%}.text_origen_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1vw)}.margin_top_bebidas[_ngcontent-%COMP%]{margin-top:1%}}@media (min-width: 992px){.background_plato_carta[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));display:flex;justify-content:space-between;margin-right:20%;margin-left:20%;margin-bottom:5%}.text_title_plato_carta[_ngcontent-%COMP%]{margin-right:30%;padding-top:2%;font-size:calc(4px + 1.3vw);font-weight:700}.descripcion_plato_carta[_ngcontent-%COMP%]{margin-top:5%;font-size:calc(2px + 1vw)}.body_plato_carta[_ngcontent-%COMP%]{padding-bottom:5%}.text_opcion_plato_carta[_ngcontent-%COMP%]{color:#fff;font-size:calc(11px + 2vw);font-weight:700;padding-bottom:2%}.alergenos_plato_carta[_ngcontent-%COMP%]{margin-top:10%;font-size:calc(2px + 1vw)}.size_photo_header[_ngcontent-%COMP%]{max-width:70%;height:auto}.size_photo_comida[_ngcontent-%COMP%]{max-width:100%;height:auto}.background_money[_ngcontent-%COMP%]{color:#fff;background:#67523A;border-radius:80px;max-width:50%;margin:2% auto 3%;text-align:center}.text_money_plato_carta[_ngcontent-%COMP%]{font-size:calc(2px + 1vw);margin-top:5%}.align_money_plato_carta[_ngcontent-%COMP%]{margin-top:2%;margin-left:25%;margin-right:3%}.background_text_bebidas[_ngcontent-%COMP%]{background:#E7E7E7;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));padding-top:1%;margin-right:20%;margin-left:20%;padding-bottom:2%;margin-bottom:2%}.text_title_bebidas[_ngcontent-%COMP%]{font-size:calc(5px + 1.3vw);font-weight:700}.margin_nombre_bebidas[_ngcontent-%COMP%]{margin-left:7.5%}.margin_title_bebidas[_ngcontent-%COMP%]{margin-left:6%}.text_nombre_bebidas[_ngcontent-%COMP%], .text_money_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + 1vw)}.margin_origen_bebidas[_ngcontent-%COMP%]{margin-left:7.5%;padding-top:1%}.text_origen_bebidas[_ngcontent-%COMP%]{font-size:calc(2px + .8vw)}.margin_top_bebidas[_ngcontent-%COMP%]{margin-top:1%}}"]}),n})();function Qv(n){return null!=n&&"false"!=`${n}`}function Gb(n){return n instanceof s.SBq?n.nativeElement:n}class wS{constructor(t=!1,e,r=!0){this._multiple=t,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new vs.x,e&&e.length&&(t?e.forEach(u=>this._markSelected(u)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let BT,UD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();try{BT="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){BT=!1}let zb,VT,IE=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,b.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!BT)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UT(n){return function AS(){if(null==zb&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>zb=!0}))}finally{zb=zb||!1}return zb}()?n:!!n.capture}function Wb(n){return n.composedPath?n.composedPath()[0]:n.target}function zD(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function WD(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const jS=new s.OlP("cdk-input-modality-detector-options"),GS={ignoreKeys:[18,17,224,91,16]},e0=UT({passive:!0,capture:!0});let zS=(()=>{class n{constructor(e,r,u,f){this._platform=e,this._mostRecentTarget=null,this._modality=new Tu.X(null),this._lastTouchMs=0,this._onKeydown=_=>{var w,x;(null===(x=null===(w=this._options)||void 0===w?void 0:w.ignoreKeys)||void 0===x?void 0:x.some(H=>H===_.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Wb(_))},this._onMousedown=_=>{Date.now()-this._lastTouchMs<650||(this._modality.next(zD(_)?"keyboard":"mouse"),this._mostRecentTarget=Wb(_))},this._onTouchstart=_=>{WD(_)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Wb(_))},this._options=Object.assign(Object.assign({},GS),f),this.modalityDetected=this._modality.pipe(function Nh(n){return(0,En.h)((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe((0,br.x)()),e.isBrowser&&r.runOutsideAngular(()=>{u.addEventListener("keydown",this._onKeydown,e0),u.addEventListener("mousedown",this._onMousedown,e0),u.addEventListener("touchstart",this._onTouchstart,e0)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,e0),document.removeEventListener("mousedown",this._onMousedown,e0),document.removeEventListener("touchstart",this._onTouchstart,e0))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(IE),s.LFG(s.R0b),s.LFG(b.K0),s.LFG(jS,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qS=new s.OlP("cdk-focus-monitor-default-options"),SE=UT({passive:!0,capture:!0});let ZS=(()=>{class n{constructor(e,r,u,f,_){this._ngZone=e,this._platform=r,this._inputModalityDetector=u,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new vs.x,this._rootNodeFocusAndBlurListener=w=>{const x=Wb(w),H="focus"===w.type?this._onFocus:this._onBlur;for(let ee=x;ee;ee=ee.parentElement)H.call(this,w,ee)},this._document=f,this._detectionMode=(null==_?void 0:_.detectionMode)||0}monitor(e,r=!1){const u=Gb(e);if(!this._platform.isBrowser||1!==u.nodeType)return(0,St.of)(null);const f=function MS(n){if(function SS(){if(null==VT){const n="undefined"!=typeof document?document.head:null;VT=!(!n||!n.createShadowRoot&&!n.attachShadow)}return VT}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(u)||this._getDocument(),_=this._elementInfo.get(u);if(_)return r&&(_.checkChildren=!0),_.subject;const w={checkChildren:r,subject:new vs.x,rootNode:f};return this._elementInfo.set(u,w),this._registerGlobalListeners(w),w.subject}stopMonitoring(e){const r=Gb(e),u=this._elementInfo.get(r);u&&(u.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(u))}focusVia(e,r,u){const f=Gb(e);f===this._getDocument().activeElement?this._getClosestElementsInfo(f).forEach(([w,x])=>this._originChanged(w,r,x)):(this._setOrigin(r),"function"==typeof f.focus&&f.focus(u))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const u=this._elementInfo.get(r),f=Wb(e);!u||!u.checkChildren&&r!==f||this._originChanged(r,this._getFocusOrigin(f),u)}_onBlur(e,r){const u=this._elementInfo.get(r);!u||u.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(u.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,u=this._rootNodeFocusListenerCount.get(r)||0;u||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,SE),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,SE)}),this._rootNodeFocusListenerCount.set(r,u+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(co(this._stopInputModalityDetector)).subscribe(f=>{this._setOrigin(f,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const u=this._rootNodeFocusListenerCount.get(r);u>1?this._rootNodeFocusListenerCount.set(r,u-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,SE),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,SE),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,u){this._setClasses(e,r),this._emitOrigin(u.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((u,f)=>{(f===e||u.checkChildren&&f.contains(e))&&r.push([f,u])}),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(IE),s.LFG(zS),s.LFG(b.K0,8),s.LFG(qS,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZD="cdk-high-contrast-black-on-white",YD="cdk-high-contrast-white-on-black",$T="cdk-high-contrast-active";let YS=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,u=r&&r.getComputedStyle?r.getComputedStyle(e):null,f=(u&&u.backgroundColor||"").replace(/ /g,"");switch(e.remove(),f){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove($T),e.remove(ZD),e.remove(YD),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add($T),e.add(ZD)):2===r&&(e.add($T),e.add(YD))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(IE),s.LFG(b.K0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xM(){return"undefined"!=typeof window&&void 0!==window.document}function jT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}let qT=(n,t)=>!1,rI=(n,t,e)=>[],sI=null;function ZT(n){const t=n.parentNode||n.host;return t===sI?null:t}(jT()||"undefined"!=typeof Element)&&(xM()?(sI=(()=>document.documentElement)(),qT=(n,t)=>{for(;t;){if(t===n)return!0;t=ZT(t)}return!1}):qT=(n,t)=>n.contains(t),rI=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});const fw=new s.OlP("AnimationModuleType"),qx=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function Wx(){return!0}});let ZE=(()=>{class n{constructor(e,r,u){this._sanityChecks=r,this._document=u,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function xS(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(YS),s.LFG(qx,8),s.LFG(b.K0))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[UD],UD]}),n})();function Zx(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Qv(t)}}}class Kx{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const BI={enterDuration:225,exitDuration:150},pw=UT({passive:!0}),UI=["mousedown","touchstart"],VI=["mouseup","mouseleave","touchend","touchcancel"];class Qx{constructor(t,e,r,u){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,u.isBrowser&&(this._containerElement=Gb(r))}fadeInRipple(t,e,r={}){const u=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),f=Object.assign(Object.assign({},BI),r.animation);r.centered&&(t=u.left+u.width/2,e=u.top+u.height/2);const _=r.radius||function eO(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),u=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+u*u)}(t,e,u),w=t-u.left,x=e-u.top,H=f.enterDuration,ee=document.createElement("div");ee.classList.add("mat-ripple-element"),ee.style.left=w-_+"px",ee.style.top=x-_+"px",ee.style.height=2*_+"px",ee.style.width=2*_+"px",null!=r.color&&(ee.style.backgroundColor=r.color),ee.style.transitionDuration=`${H}ms`,this._containerElement.appendChild(ee),function Xx(n){window.getComputedStyle(n).getPropertyValue("opacity")}(ee),ee.style.transform="scale(1)";const me=new Kx(this,ee,r);return me.state=0,this._activeRipples.add(me),r.persistent||(this._mostRecentTransientRipple=me),this._runTimeoutOutsideZone(()=>{const Ue=me===this._mostRecentTransientRipple;me.state=1,!r.persistent&&(!Ue||!this._isPointerDown)&&me.fadeOut()},H),me}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,u=Object.assign(Object.assign({},BI),t.config.animation);r.style.transitionDuration=`${u.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.remove()},u.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Gb(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(UI))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(VI),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=zD(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!WD(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,pw)})})}_removeTriggerEvents(){this._triggerElement&&(UI.forEach(t=>{this._triggerElement.removeEventListener(t,this,pw)}),this._pointerUpEventsRegistered&&VI.forEach(t=>{this._triggerElement.removeEventListener(t,this,pw)}))}}const tO=new s.OlP("mat-ripple-global-options");let nO=(()=>{class n{constructor(e,r,u,f,_){this._elementRef=e,this._animationMode=_,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=f||{},this._rippleRenderer=new Qx(this,r,e,u)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,u){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),u)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(IE),s.Y36(tO,8),s.Y36(fw,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),iO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ZE],ZE]}),n})();const rO=["button"],sO=["*"],$I=new s.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),HI=new s.OlP("MatButtonToggleGroup"),oO={provide:Pn.JU,useExisting:(0,s.Gpc)(()=>zI),multi:!0};let jI=0;class GI{constructor(t,e){this.source=t,this.value=e}}let zI=(()=>{class n{constructor(e,r){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+jI++,this.valueChange=new s.vpe,this.change=new s.vpe,this.appearance=r&&r.appearance?r.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._buttonToggles&&this._buttonToggles.forEach(r=>{r.name=this._name,r._markForCheck()})}get vertical(){return this._vertical}set vertical(e){this._vertical=Qv(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(r=>r.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=Qv(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Qv(e),this._buttonToggles&&this._buttonToggles.forEach(r=>r._markForCheck())}ngOnInit(){this._selectionModel=new wS(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(){const e=this.selected,r=Array.isArray(e)?e[e.length-1]:e,u=new GI(r,this.value);this._controlValueAccessorChangeFn(u.value),this.change.emit(u)}_syncButtonToggle(e,r,u=!1,f=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?r?this._selectionModel.select(e):this._selectionModel.deselect(e):f=!0,f?Promise.resolve().then(()=>this._updateModelValue(u)):this._updateModelValue(u)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(r=>null!=e.value&&r===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(r=>this._selectValue(r))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const r=this._buttonToggles.find(u=>null!=u.value&&u.value===e);r&&(r.checked=!0,this._selectionModel.select(r))}_updateModelValue(e){e&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36($I,8))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,r,u){if(1&e&&s.Suo(u,WI,5),2&e){let f;s.iGM(f=s.CRH())&&(r._buttonToggles=f)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,r){2&e&&(s.uIk("aria-disabled",r.disabled),s.ekj("mat-button-toggle-vertical",r.vertical)("mat-button-toggle-group-appearance-standard","standard"===r.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[s._Bn([oO,{provide:HI,useExisting:n}])]}),n})();const aO=Zx(class{});let WI=(()=>{class n extends aO{constructor(e,r,u,f,_,w){super(),this._changeDetectorRef=r,this._elementRef=u,this._focusMonitor=f,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new s.vpe;const x=Number(_);this.tabIndex=x||0===x?x:null,this.buttonToggleGroup=e,this.appearance=w&&w.appearance?w.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const r=Qv(e);r!==this._checked&&(this._checked=r,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=Qv(e)}ngOnInit(){const e=this.buttonToggleGroup;this._isSingleSelector=e&&!e.multiple,this.id=this.id||"mat-button-toggle-"+jI++,this._isSingleSelector&&(this.name=e.name),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new GI(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(HI,8),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(ZS),s.$8M("tabindex"),s.Y36($I,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(e,r){if(1&e&&s.Gf(rO,5),2&e){let u;s.iGM(u=s.CRH())&&(r._buttonElement=u.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,r){1&e&&s.NdJ("focus",function(){return r.focus()}),2&e&&(s.uIk("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),s.ekj("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-appearance-standard","standard"===r.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[s.qOj],ngContentSelectors:sO,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,r){if(1&e&&(s.F$t(),s.TgZ(0,"button",0,1),s.NdJ("click",function(){return r._onButtonClick()}),s.TgZ(2,"span",2),s.Hsn(3),s.qZA()(),s._UZ(4,"span",3)(5,"span",4)),2&e){const u=s.MAs(1);s.Q6J("id",r.buttonId)("disabled",r.disabled||null),s.uIk("tabindex",r.disabled?-1:r.tabIndex)("aria-pressed",r.checked)("name",r.name||null)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),s.xp6(5),s.Q6J("matRippleTrigger",u)("matRippleDisabled",r.disableRipple||r.disabled)}},directives:[nO],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .cdk-high-contrast-active .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),n})(),lO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ZE,iO],ZE]}),n})();function cO(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",24)(1,"mat-button-toggle",25),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).onSubmitReservas2()}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("value","Terraza-"+e),s.xp6(1),s.hij(" ",e," ")}}function uO(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"mat-button-toggle",25),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).onSubmitReservas2()}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("value","Terraza-"+e),s.xp6(1),s.hij(" ",e," ")}}function dO(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",24)(1,"mat-button-toggle",25),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).onSubmitReservas2()}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("value","Comedor-"+e),s.xp6(1),s.hij(" ",e," ")}}function hO(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"mat-button-toggle",25),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).onSubmitReservas2()}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("value","Comedor-"+e),s.xp6(1),s.hij(" ",e," ")}}function fO(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div")(2,"b",16),s._uU(3,"TERRAZA"),s.qZA()(),s.TgZ(4,"div",17)(5,"div",18),s.YNc(6,cO,3,2,"div",19),s.ALo(7,"slice"),s.qZA(),s.TgZ(8,"div",20),s.YNc(9,uO,3,2,"div",21),s.ALo(10,"slice"),s.qZA()(),s.TgZ(11,"div",22)(12,"b",16),s._uU(13,"COMEDOR"),s.qZA()(),s.TgZ(14,"div",23)(15,"div",18),s.YNc(16,dO,3,2,"div",19),s.ALo(17,"slice"),s.qZA(),s.TgZ(18,"div",20),s.YNc(19,hO,3,2,"div",21),s.ALo(20,"slice"),s.qZA()()()),2&n){const e=s.oxw();s.xp6(6),s.Q6J("ngForOf",s.Dn7(7,4,e.getReservationTimes.dinner,0,4)),s.xp6(3),s.Q6J("ngForOf",s.xi3(10,8,e.getReservationTimes.dinner,4)),s.xp6(7),s.Q6J("ngForOf",s.Dn7(17,11,e.getReservationTimes.dinner,0,4)),s.xp6(3),s.Q6J("ngForOf",s.xi3(20,15,e.getReservationTimes.dinner,4))}}function pO(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",24)(1,"mat-button-toggle",25),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).onSubmitReservas2()}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("value","Terraza-"+e),s.xp6(1),s.hij(" ",e," ")}}function gO(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"mat-button-toggle",25),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).onSubmitReservas2()}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("value","Terraza-"+e),s.xp6(1),s.hij(" ",e," ")}}function mO(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",24)(1,"mat-button-toggle",25),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).onSubmitReservas2()}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("value","Comedor-"+e),s.xp6(1),s.hij(" ",e," ")}}function _O(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"mat-button-toggle",25),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).onSubmitReservas2()}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("value","Comedor-"+e),s.xp6(1),s.hij(" ",e," ")}}function yO(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div")(2,"b",16),s._uU(3,"TERRAZA"),s.qZA()(),s.TgZ(4,"div",26)(5,"div",18),s.YNc(6,pO,3,2,"div",19),s.ALo(7,"slice"),s.qZA(),s.TgZ(8,"div",20),s.YNc(9,gO,3,2,"div",21),s.ALo(10,"slice"),s.qZA()(),s.TgZ(11,"div",22)(12,"b",16),s._uU(13,"COMEDOR"),s.qZA()(),s.TgZ(14,"div",27)(15,"div",18),s.YNc(16,mO,3,2,"div",19),s.ALo(17,"slice"),s.qZA(),s.TgZ(18,"div",20),s.YNc(19,_O,3,2,"div",21),s.ALo(20,"slice"),s.qZA()()()),2&n){const e=s.oxw();s.xp6(6),s.Q6J("ngForOf",s.Dn7(7,4,e.getReservationTimes.lunch,0,4)),s.xp6(3),s.Q6J("ngForOf",s.xi3(10,8,e.getReservationTimes.lunch,4)),s.xp6(7),s.Q6J("ngForOf",s.Dn7(17,11,e.getReservationTimes.lunch,0,4)),s.xp6(3),s.Q6J("ngForOf",s.xi3(20,15,e.getReservationTimes.lunch,4))}}function bO(n,t){1&n&&(s.TgZ(0,"div",32),s._uU(1," Este campo es obligatorio "),s.qZA())}function CO(n,t){1&n&&(s.TgZ(0,"div",32),s._uU(1," Introduzca una direcci\xf3n de correo v\xe1lida "),s.qZA())}function EO(n,t){1&n&&(s.TgZ(0,"div",32),s._uU(1," Este campo es obligatorio "),s.qZA())}function TO(n,t){1&n&&(s.TgZ(0,"div",32),s._uU(1," Este campo es obligatorio "),s.qZA())}function wO(n,t){1&n&&(s.TgZ(0,"div",32),s._uU(1," Introduzca un n\xfamero de tel\xe9fono v\xe1lido "),s.qZA())}function DO(n,t){1&n&&(s.TgZ(0,"div",32),s._uU(1," Debe aceptar las condiciones de uso y la pol\xedtica de privacidad para continuar "),s.qZA())}const IO=[{path:"",component:UA,pathMatch:"full"},{path:"sobre-nosotros",component:BA},{path:"carta",component:FD},{path:"bebidas",component:vS},{path:"vinos",component:ES},{path:"carta",component:FD},{path:"reservas",component:HA},{path:"reservas2",component:(()=>{class n{constructor(e,r,u,f){this.fb=e,this.router=r,this.rs=u,this.restaurant=f,this.reservas2=this.fb.group({hour:""}),this.reservation=this.rs.getReservation(),this.people=this.reservation.numAdults+this.reservation.numChilds}ngOnInit(){console.log(this.reservation)}onSubmitReservas2(){var e,r;this.reservation={user:this.reservation.user,comment:"",reservationEmail:"",reservationName:"",reservationPhone:"",period:this.reservation.period,numAdults:this.reservation.numAdults,numChilds:this.reservation.numChilds,reservationDate:this.reservation.reservationDate,reservationTime:null===(e=this.reservas2.get("hour"))||void 0===e?void 0:e.value.split("-")[1],place:null===(r=this.reservas2.get("hour"))||void 0===r?void 0:r.value.split("-")[0]},console.log(this.reservation),this.rs.setReservation(this.reservation),this.router.navigate(["/reservas3"])}get getReservationTimes(){return this.restaurant.reservationTimes}returnToReservas1(){this.router.navigate(["reservas"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Pn.qu),s.Y36(ye.F0),s.Y36(jb),s.Y36(kD))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-reservations2"]],decls:22,vars:6,consts:[[1,"reservas","container-fluid","d-flex","justify-content-center","py-5"],[1,"text-center","formReservas2",3,"formGroup","ngSubmit"],[1,"formTable","formTable2"],[1,"row","pt-4","px-6","justify-content-center"],[1,"row","summaryTable","py-3","justify-content-center"],[1,"col-md-4"],["alt","Calendar.","src","assets/images/Calendar.png",1,"imgReserva","me-1"],["id","reservation_date"],["alt","Watch.","src","assets/images/Watch.png",1,"imgReserva","me-1"],["id","reservation_time"],["alt","User.","src","assets/images/User.png",1,"imgReserva","me-1"],["id","num_persons"],["formControlName","hour","id","timeSchedule",1,"row","pt-4","justify-content-center","hourToggle"],[4,"ngIf"],[1,"d-flex","py-4","justify-content-center"],["type","button","value","Retroceder",1,"button",3,"click"],[2,"font-family","Times New Roman"],["id","terrazaGroupCena",1,"pt-4","justify-content-between"],[1,"d-flex","justify-content-between"],["class","hourField",4,"ngFor","ngForOf"],[1,"d-flex","pt-4","justify-content-around","px-4"],[4,"ngFor","ngForOf"],[1,"pt-5"],["id","comedorGroupCena",1,"justify-content-between","pt-4","pb-3"],[1,"hourField"],[1,"hourFieldButton",3,"value","click"],["id","terrazaGroupAlmuerzo",1,"pt-4","justify-content-between"],["id","comedorGroupAlmuerzo",1,"justify-content-between","pt-4","pb-3"]],template:function(e,r){1&e&&(s.TgZ(0,"article",0)(1,"form",1),s.NdJ("ngSubmit",function(){return r.onSubmitReservas2()}),s.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),s._UZ(6,"img",6),s.TgZ(7,"span",7),s._uU(8),s.qZA()(),s.TgZ(9,"div",5),s._UZ(10,"img",8),s.TgZ(11,"span",9),s._uU(12),s.qZA()(),s.TgZ(13,"div",5),s._UZ(14,"img",10),s.TgZ(15,"span",11),s._uU(16),s.qZA()()()(),s.TgZ(17,"mat-button-toggle-group",12),s.YNc(18,fO,21,18,"div",13),s.YNc(19,yO,21,18,"div",13),s.qZA(),s.TgZ(20,"div",14)(21,"input",15),s.NdJ("click",function(){return r.router.navigate(["reservas"])}),s.qZA()()()()()),2&e&&(s.xp6(1),s.Q6J("formGroup",r.reservas2),s.xp6(7),s.hij(" ",r.reservation.reservationDate.getDate()+"/"+r.reservation.reservationDate.getMonth()+"/"+r.reservation.reservationDate.getFullYear()," "),s.xp6(4),s.Oqu(r.reservation.period),s.xp6(4),s.Oqu(r.people),s.xp6(2),s.Q6J("ngIf","Cena"==r.reservation.period),s.xp6(1),s.Q6J("ngIf","Almuerzo"==r.reservation.period))},directives:[Pn._Y,Pn.JL,Pn.sg,zI,Pn.JJ,Pn.u,b.O5,b.sg,WI],pipes:[b.OU],styles:[""]}),n})()},{path:"reservas3",component:(()=>{class n{constructor(e,r,u,f,_){this.fb=e,this.router=r,this.repository=u,this.rs=f,this.ur=_,this.reservas3=this.fb.group({email_input:["",[Pn.kI.required,Pn.kI.email]],full_name:["",[Pn.kI.required]],country_code:"+34",phone_number:["",[Pn.kI.required,Pn.kI.pattern("[0-9]{9}")]],comment_input:"",conditions_check:[!1,[Pn.kI.requiredTrue]],remember_check:!1}),this.reservation=this.rs.getReservation(),this.people=this.reservation.numAdults+this.reservation.numChilds}ngOnInit(){}onSubmitReservas3(){var e=this;return(0,Sa.Z)(function*(){var r,u,f,_,w,x,H;e.reservation={user:e.reservation.user,period:e.reservation.period,place:e.reservation.place,reservationTime:e.reservation.reservationTime,numAdults:e.reservation.numAdults,numChilds:e.reservation.numChilds,reservationDate:e.reservation.reservationDate,reservationName:null===(r=e.reservas3.get("full_name"))||void 0===r?void 0:r.value,reservationEmail:null===(u=e.reservas3.get("email_input"))||void 0===u?void 0:u.value,reservationPhone:(null===(f=e.reservas3.get("country_code"))||void 0===f?void 0:f.value)+" "+(null===(_=e.reservas3.get("phone_number"))||void 0===_?void 0:_.value),acceptedConditions:null===(w=e.reservas3.get("conditions_check"))||void 0===w?void 0:w.value,rememberUser:null===(x=e.reservas3.get("remember_check"))||void 0===x?void 0:x.value,comment:null===(H=e.reservas3.get("comment_input"))||void 0===H?void 0:H.value},e.repository.saveReservation(e.reservation),e.rs.setReservation(e.reservation),e.router.navigate(["/reservas4"])})()}returnToReservas2(){this.router.navigate(["reservas2"])}emailCheck(e){const r=this.ur.getUserByEmail(e);r&&(console.log("Found user:",r),this.reservation.user=r)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Pn.qu),s.Y36(ye.F0),s.Y36(PD.t),s.Y36(jb),s.Y36(BD.j))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-reservations3"]],decls:56,vars:16,consts:[[1,"reservas","container-fluid","d-flex","justify-content-center","p-5"],["name","reservas3",1,"text-center",3,"formGroup","ngSubmit"],[1,"formTable"],[1,"row","pt-4","px-6","justify-content-center"],[1,"row","summaryTable","pt-3"],[1,"col-md-4"],["alt","Calendar.","src","/assets/images/Calendar.png",1,"imgReserva","me-1"],["id","reservation_date"],["alt","Watch.","src","/assets/images/Watch.png",1,"imgReserva","me-1"],["id","reservation_time"],["alt","User.","src","/assets/images/User.png",1,"imgReserva","me-1"],["id","num_persons"],[1,"row","justify-content-center","pt-3",2,"font-size","16px"],["id","reservation_place",1,"row","justify-content-center","pt-1","pb-3"],["type","email","formControlName","email_input","placeholder","*Correo electr\xf3nico","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$","maxlength","40","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange","change"],["class","error-message",4,"ngIf"],[1,"pt-4"],["type","text","maxlength","40","placeholder","*Nombre completo","formControlName","full_name","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex"],[1,"col-auto"],["formControlName","country_code",1,"form-select"],["selected",""],["type","tel","formControlName","phone_number","placeholder","*N\xfamero de tel\xe9fono","maxlength","9","required","",1,"form-control",3,"ngModel","ngModelChange"],["rows","2","formControlName","comment_input","placeholder","Comentarios acerca de la reserva",1,"form-control"],[1,"form-check","pt-4","ps-5","text-start"],["type","checkbox","id","conditions_check","formControlName","conditions_check","required","",1,"form-check-input"],["for","conditions_check",1,"form-check-label","checkFont"],["type","checkbox","id","remember_check","formControlName","remember_check",1,"form-check-input",3,"ngModel","ngModelChange"],["for","remember_check",1,"form-check-label","checkFont"],[1,"d-flex","py-4","justify-content-between"],["type","button","value","Retroceder",1,"button",3,"click"],["type","submit","value","Confirmar reserva",1,"button",3,"disabled"],[1,"error-message"]],template:function(e,r){1&e&&(s.TgZ(0,"article",0)(1,"form",1),s.NdJ("ngSubmit",function(){return r.onSubmitReservas3()}),s.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),s._UZ(6,"img",6),s.TgZ(7,"span",7),s._uU(8),s.qZA()(),s.TgZ(9,"div",5),s._UZ(10,"img",8),s.TgZ(11,"span",9),s._uU(12),s.qZA()(),s.TgZ(13,"div",5),s._UZ(14,"img",10),s.TgZ(15,"span",11),s._uU(16),s.qZA()(),s.TgZ(17,"div",12),s._uU(18," ZONA "),s.qZA(),s.TgZ(19,"b",13),s._uU(20),s.qZA()()(),s.TgZ(21,"div",3)(22,"div")(23,"input",14),s.NdJ("ngModelChange",function(f){return r.reservation.user.email=f})("change",function(){let f;return r.emailCheck(null==(f=r.reservas3.get("email_input"))?null:f.value)}),s.qZA(),s.YNc(24,bO,2,0,"div",15),s.YNc(25,CO,2,0,"div",15),s.qZA(),s.TgZ(26,"div",16)(27,"input",17),s.NdJ("ngModelChange",function(f){return r.reservation.user.fullName=f}),s.qZA(),s.YNc(28,EO,2,0,"div",15),s.qZA(),s.TgZ(29,"div",16)(30,"div",18)(31,"div",19)(32,"select",20)(33,"option",21),s._uU(34,"+34"),s.qZA(),s.TgZ(35,"option"),s._uU(36,"+43"),s.qZA(),s.TgZ(37,"option"),s._uU(38,"+46"),s.qZA()()(),s.TgZ(39,"input",22),s.NdJ("ngModelChange",function(f){return r.reservation.user.phoneNumber=f}),s.qZA()(),s.YNc(40,TO,2,0,"div",15),s.YNc(41,wO,2,0,"div",15),s.qZA(),s.TgZ(42,"div",16),s._UZ(43,"textarea",23),s.qZA(),s.TgZ(44,"div",24),s._UZ(45,"input",25),s.TgZ(46,"label",26),s._uU(47," Acepto las Condiciones de Uso y la Pol\xedtica de Privacidad "),s.qZA(),s.YNc(48,DO,2,0,"div",15),s.qZA(),s.TgZ(49,"div",24)(50,"input",27),s.NdJ("ngModelChange",function(f){return r.reservation.user.rememberMeReservation=f}),s.qZA(),s.TgZ(51,"label",28),s._uU(52," Recordarme para la pr\xf3xima reserva "),s.qZA()(),s.TgZ(53,"div",29)(54,"input",30),s.NdJ("click",function(){return r.returnToReservas2()}),s.qZA(),s._UZ(55,"input",31),s.qZA()()()()()),2&e&&(s.xp6(1),s.Q6J("formGroup",r.reservas3),s.xp6(7),s.hij(" ",r.reservation.reservationDate.getDate()+"/"+r.reservation.reservationDate.getMonth()+"/"+r.reservation.reservationDate.getFullYear()," "),s.xp6(4),s.Oqu(r.reservation.reservationTime),s.xp6(4),s.Oqu(r.people),s.xp6(4),s.hij(" ",r.reservation.place.toUpperCase()," "),s.xp6(3),s.Q6J("ngModel",r.reservation.user.email),s.xp6(1),s.Q6J("ngIf",(null==r.reservas3.get("email_input").errors?null:r.reservas3.get("email_input").errors.required)&&r.reservas3.get("email_input").touched),s.xp6(1),s.Q6J("ngIf",(null==r.reservas3.get("email_input").errors?null:r.reservas3.get("email_input").errors.email)&&r.reservas3.get("email_input").dirty),s.xp6(2),s.Q6J("ngModel",r.reservation.user.fullName),s.xp6(1),s.Q6J("ngIf",(null==r.reservas3.get("full_name").errors?null:r.reservas3.get("full_name").errors.required)&&r.reservas3.get("full_name").touched),s.xp6(11),s.Q6J("ngModel",r.reservation.user.phoneNumber),s.xp6(1),s.Q6J("ngIf",(null==r.reservas3.get("phone_number").errors?null:r.reservas3.get("phone_number").errors.required)&&r.reservas3.get("phone_number").touched),s.xp6(1),s.Q6J("ngIf",(null==r.reservas3.get("phone_number").errors?null:r.reservas3.get("phone_number").errors.pattern)&&r.reservas3.get("phone_number").dirty),s.xp6(7),s.Q6J("ngIf",null==r.reservas3.get("conditions_check").errors?null:r.reservas3.get("conditions_check").errors.required),s.xp6(2),s.Q6J("ngModel",r.reservation.user.rememberMeReservation),s.xp6(5),s.Q6J("disabled",!r.reservas3.valid))},directives:[Pn._Y,Pn.JL,Pn.sg,Pn.Fj,Pn.JJ,Pn.u,Pn.c5,Pn.nD,Pn.Q7,b.O5,Pn.EJ,Pn.YN,Pn.Kr,Pn.Wl,Pn.Zs],styles:[".error-message[_ngcontent-%COMP%]{font-family:Roboto;text-align:left;font-size:calc(10px + .5vw);margin-top:.2em;color:#fd1e1ea3;margin-bottom:-.7em}"]}),n})()},{path:"reservas4",component:(()=>{class n{constructor(e,r){this.rs=e,this.router=r,this.reservation=this.rs.getReservation()}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(jb),s.Y36(ye.F0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-reservations4"]],decls:39,vars:7,consts:[[1,"reservas","container-fluid","d-flex","justify-content-center","p-5"],["id","reservas_form","name","reservas4",1,"text-center"],[1,"formTable"],[1,"row","pt-4","pb-1","px-6","justify-content-center"],[1,"row","summaryTable","py-3","justify-content-center"],[1,"col-md-4"],["alt","Calendar.","src","/assets/images/Calendar.png",1,"imgReserva","me-1"],["id","reservation_date"],["alt","Watch.","src","assets/images/Watch.png",1,"imgReserva","me-1"],["id","reservation_time"],["alt","User.","src","/assets/images/User.png",1,"imgReserva"],["id","num_persons"],[1,"row","justify-content-center","pt-3",2,"font-size","16px"],["id","reservation_place",1,"row","justify-content-center","pt-1","pb-3"],[1,"row","justify-content-start","pt-4","ms-md-5"],["id","contact_name",1,"row","justify-content-start","ms-md-5"],["id","contact_email",1,"row","justify-content-start","ms-md-5"],["id","contact_phone",1,"row","justify-content-start","ms-md-5"],[1,"row","justify-content-start","fuentePrueba","pb-5"],[1,"row","justify-content-center","pb-5"],[1,"pb-4"],["type","button","value","Volver",1,"button",3,"click"]],template:function(e,r){1&e&&(s.TgZ(0,"article",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),s._UZ(6,"img",6),s.TgZ(7,"span",7),s._uU(8),s.qZA()(),s.TgZ(9,"div",5),s._UZ(10,"img",8),s.TgZ(11,"span",9),s._uU(12),s.qZA()(),s.TgZ(13,"div",5),s._UZ(14,"img",10),s.TgZ(15,"span",11),s._uU(16),s.qZA()(),s.TgZ(17,"div",12),s._uU(18," ZONA "),s.qZA(),s.TgZ(19,"b",13),s._uU(20),s.qZA(),s.TgZ(21,"p",14),s._uU(22,"Nombre de la reserva"),s.qZA(),s.TgZ(23,"b",15),s._uU(24),s.qZA(),s.TgZ(25,"p",14),s._uU(26,"Email de la reserva"),s.qZA(),s.TgZ(27,"b",16),s._uU(28),s.qZA(),s.TgZ(29,"p",14),s._uU(30,"Tel\xe9fono de la reserva"),s.qZA(),s.TgZ(31,"b",17),s._uU(32),s.qZA()(),s.TgZ(33,"p",18),s._uU(34,"*Si no puede asistir o desea cancelar la reserva, contacte con el restaurante"),s.qZA(),s.TgZ(35,"h2",19),s._uU(36," \xa1Gracias por su reserva! "),s.qZA(),s.TgZ(37,"div",20)(38,"input",21),s.NdJ("click",function(){return r.router.navigate([""])}),s.qZA()()()()()()),2&e&&(s.xp6(8),s.hij(" ",r.reservation.reservationDate.getDate()+"/"+r.reservation.reservationDate.getMonth()+"/"+r.reservation.reservationDate.getFullYear()," "),s.xp6(4),s.hij(" ",r.reservation.reservationTime," "),s.xp6(4),s.hij(" ",r.reservation.numChilds+r.reservation.numAdults," "),s.xp6(4),s.hij(" ",r.reservation.place.toLocaleUpperCase()," "),s.xp6(4),s.hij(" ",r.reservation.reservationName," "),s.xp6(4),s.hij(" ",r.reservation.reservationEmail," "),s.xp6(4),s.hij(" ",r.reservation.reservationPhone," "))},directives:[Pn._Y,Pn.JL,Pn.F],styles:[""]}),n})()},{path:"pedidos",component:XA,children:[],canActivate:[]},{path:"carrito",component:tS,canActivate:[]},{path:"checkout",component:mS,canActivate:[]},{path:"contacto",component:YA},{path:"politica-de-privacidad",component:LT},{path:"politica-de-cookies",component:LT},{path:"aviso-legal",component:LT},{path:"admin",loadChildren:()=>L.e(8108).then(L.bind(L,8108)).then(n=>n.AdminModule)},{path:"**",redirectTo:"/"}];let AO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[PA]}),n.\u0275inj=s.cJS({providers:[jb],imports:[[ki,Pm,Yw,ye.Bz.forRoot(IO),An,Mr.hO.initializeApp(ji_firebaseConfig),Ao.yb,ky,io.TE,Pn.u5,Pn.UX,lO,OA.forRoot()]]}),n})();(0,s.G48)(),ai().bootstrapModule(AO).catch(n=>console.error(n))},5867:(nn,ht,L)=>{"use strict";L.d(ht,{C6:()=>b.getApps,Mq:()=>b.getApp});var b=L(9681);(0,b.registerVersion)("firebase","9.6.11","app")},127:(nn,ht,L)=>{"use strict";L.d(ht,{Z:()=>b.Z});var b=L(3942);b.Z.registerVersion("firebase","9.6.11","app-compat")},5881:(nn,ht,L)=>{"use strict";L.r(ht);var b=L(5861),s=L(3942),Q=L(573),Ce=L(2090),ge=(L(9681),L(1877),L(4859));function Pe(){return window}function de(){return(de=(0,b.Z)(function*(ue,Me,ye){var St;const{BuildInfo:Xt}=Pe();(0,Q.ap)(Me.sessionId,"AuthEvent did not contain a session ID");const un=yield fe(Me.sessionId),En={};return(0,Q.aq)()?En.ibi=Xt.packageName:(0,Q.ar)()?En.apn=Xt.packageName:(0,Q.as)(ue,"operation-not-supported-in-this-environment"),Xt.displayName&&(En.appDisplayName=Xt.displayName),En.sessionId=un,(0,Q.at)(ue,ye,Me.type,void 0,null!==(St=Me.eventId)&&void 0!==St?St:void 0,En)})).apply(this,arguments)}function Te(){return(Te=(0,b.Z)(function*(ue){const{BuildInfo:Me}=Pe(),ye={};(0,Q.aq)()?ye.iosBundleId=Me.packageName:(0,Q.ar)()?ye.androidPackageName=Me.packageName:(0,Q.as)(ue,"operation-not-supported-in-this-environment"),yield(0,Q.au)(ue,ye)})).apply(this,arguments)}function Le(){return(Le=(0,b.Z)(function*(ue,Me,ye){const{cordova:St}=Pe();let Xt=()=>{};try{yield new Promise((un,En)=>{let sn=null;function Un(){var fi;un();const Hi=null===(fi=St.plugins.browsertab)||void 0===fi?void 0:fi.close;"function"==typeof Hi&&Hi(),"function"==typeof(null==ye?void 0:ye.close)&&ye.close()}function Qi(){sn||(sn=window.setTimeout(()=>{En((0,Q.av)(ue,"redirect-cancelled-by-user"))},2e3))}function Mi(){"visible"===(null==document?void 0:document.visibilityState)&&Qi()}Me.addPassiveListener(Un),document.addEventListener("resume",Qi,!1),(0,Q.ar)()&&document.addEventListener("visibilitychange",Mi,!1),Xt=()=>{Me.removePassiveListener(Un),document.removeEventListener("resume",Qi,!1),document.removeEventListener("visibilitychange",Mi,!1),sn&&window.clearTimeout(sn)}})}finally{Xt()}})).apply(this,arguments)}function fe(ue){return _e.apply(this,arguments)}function _e(){return(_e=(0,b.Z)(function*(ue){const Me=vt(ue),ye=yield crypto.subtle.digest("SHA-256",Me);return Array.from(new Uint8Array(ye)).map(Xt=>Xt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function vt(ue){if((0,Q.ap)(/[0-9a-zA-Z]+/.test(ue),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ue);const Me=new ArrayBuffer(ue.length),ye=new Uint8Array(Me);for(let St=0;St<ue.length;St++)ye[St]=ue.charCodeAt(St);return ye}class Qe extends Q.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Me=>{this.resolveInialized=Me})}addPassiveListener(Me){this.passiveListeners.add(Me)}removePassiveListener(Me){this.passiveListeners.delete(Me)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Me){return this.resolveInialized(),this.passiveListeners.forEach(ye=>ye(Me)),super.onEvent(Me)}initialized(){var Me=this;return(0,b.Z)(function*(){yield Me.initPromise})()}}function Ae(ue){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,b.Z)(function*(ue){const Me=yield De()._get(Re(ue));return Me&&(yield De()._remove(Re(ue))),Me})).apply(this,arguments)}function ke(){const ue=[],Me="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ye=0;ye<20;ye++){const St=Math.floor(Math.random()*Me.length);ue.push(Me.charAt(St))}return ue.join("")}function De(){return(0,Q.ax)(Q.b)}function Re(ue){return(0,Q.ay)("authEvent",ue.config.apiKey,ue.name)}function Jt(ue){if(!(null==ue?void 0:ue.includes("?")))return{};const[Me,...ye]=ue.split("?");return(0,Ce.zd)(ye.join("?"))}function Je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,Q.av)("no-auth-event")}}function Ft(){var ue;return(null===(ue=null==self?void 0:self.location)||void 0===ue?void 0:ue.protocol)||null}function Cn(ue=(0,Ce.z$)()){return!("file:"!==Ft()&&"ionic:"!==Ft()||!ue.toLowerCase().match(/iphone|ipad|ipod|android/))}function ai(){try{const ue=self.localStorage,Me=Q.aG();if(ue)return ue.setItem(Me,"1"),ue.removeItem(Me),!function Hn(ue=(0,Ce.z$)()){return function $n(){return(0,Ce.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Zn(ue=(0,Ce.z$)()){return/Edge\/\d+/.test(ue)}(ue)}()||(0,Ce.hl)()}catch(ue){return jn()&&(0,Ce.hl)()}return!1}function jn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ki(){return(function Ot(){return"http:"===Ft()||"https:"===Ft()}()||(0,Ce.ru)()||Cn())&&!function ti(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&ai()&&!jn()}function gi(){return Cn()&&"undefined"!=typeof document}function Qn(){return(Qn=(0,b.Z)(function*(){return!!gi()&&new Promise(ue=>{const Me=setTimeout(()=>{ue(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Me),ue(!0)})})})).apply(this,arguments)}const Kt={LOCAL:"local",NONE:"none",SESSION:"session"},Di=Q.aw,sr="persistence";function rr(ue){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,b.Z)(function*(ue){yield ue._initializationPromise;const Me=ni(),ye=Q.ay(sr,ue.config.apiKey,ue.name);Me&&Me.setItem(ye,ue._getPersistence())})).apply(this,arguments)}function ni(){var ue;try{return(null===(ue=function Gn(){return"undefined"!=typeof window?window:null}())||void 0===ue?void 0:ue.sessionStorage)||null}catch(Me){return null}}const hn=Q.aw;class pn{constructor(){this.browserResolver=Q.ax(Q.k),this.cordovaResolver=Q.ax(class mt{constructor(){this._redirectPersistence=Q.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Q.aA}_initialize(Me){var ye=this;return(0,b.Z)(function*(){const St=Me._key();let Xt=ye.eventManagers.get(St);return Xt||(Xt=new Qe(Me),ye.eventManagers.set(St,Xt),ye.attachCallbackListeners(Me,Xt)),Xt})()}_openPopup(Me){(0,Q.as)(Me,"operation-not-supported-in-this-environment")}_openRedirect(Me,ye,St,Xt){var un=this;return(0,b.Z)(function*(){!function Ve(ue){var Me,ye,St,Xt,un,En,sn,Un,Qi,Mi;const fi=Pe();(0,Q.aw)("function"==typeof(null===(Me=null==fi?void 0:fi.universalLinks)||void 0===Me?void 0:Me.subscribe),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,Q.aw)(void 0!==(null===(ye=null==fi?void 0:fi.BuildInfo)||void 0===ye?void 0:ye.packageName),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,Q.aw)("function"==typeof(null===(un=null===(Xt=null===(St=null==fi?void 0:fi.cordova)||void 0===St?void 0:St.plugins)||void 0===Xt?void 0:Xt.browsertab)||void 0===un?void 0:un.openUrl),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Q.aw)("function"==typeof(null===(Un=null===(sn=null===(En=null==fi?void 0:fi.cordova)||void 0===En?void 0:En.plugins)||void 0===sn?void 0:sn.browsertab)||void 0===Un?void 0:Un.isAvailable),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Q.aw)("function"==typeof(null===(Mi=null===(Qi=null==fi?void 0:fi.cordova)||void 0===Qi?void 0:Qi.InAppBrowser)||void 0===Mi?void 0:Mi.open),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Me);const En=yield un._initialize(Me);yield En.initialized(),En.resetRedirect(),(0,Q.aB)(),yield un._originValidation(Me);const sn=function We(ue,Me,ye=null){return{type:Me,eventId:ye,urlResponse:null,sessionId:ke(),postBody:null,tenantId:ue.tenantId,error:(0,Q.av)(ue,"no-auth-event")}}(Me,St,Xt);yield function Ye(ue,Me){return De()._set(Re(ue),Me)}(Me,sn);const Un=yield function Ne(ue,Me,ye){return de.apply(this,arguments)}(Me,sn,ye),Qi=yield function je(ue){const{cordova:Me}=Pe();return new Promise(ye=>{Me.plugins.browsertab.isAvailable(St=>{let Xt=null;St?Me.plugins.browsertab.openUrl(ue):Xt=Me.InAppBrowser.open(ue,(0,Q.ao)()?"_blank":"_system","location=yes"),ye(Xt)})})}(Un);return function it(ue,Me,ye){return Le.apply(this,arguments)}(Me,En,Qi)})()}_isIframeWebStorageSupported(Me,ye){throw new Error("Method not implemented.")}_originValidation(Me){const ye=Me._key();return this.originValidationPromises[ye]||(this.originValidationPromises[ye]=function Be(ue){return Te.apply(this,arguments)}(Me)),this.originValidationPromises[ye]}attachCallbackListeners(Me,ye){const{universalLinks:St,handleOpenURL:Xt,BuildInfo:un}=Pe(),En=setTimeout((0,b.Z)(function*(){yield Ae(Me),ye.onEvent(Je())}),500),sn=function(){var Mi=(0,b.Z)(function*(fi){clearTimeout(En);const Hi=yield Ae(Me);let Xi=null;Hi&&(null==fi?void 0:fi.url)&&(Xi=function Se(ue,Me){var ye,St;const Xt=function tt(ue){const Me=Jt(ue),ye=Me.link?decodeURIComponent(Me.link):void 0,St=Jt(ye).link,Xt=Me.deep_link_id?decodeURIComponent(Me.deep_link_id):void 0;return Jt(Xt).link||Xt||St||ye||ue}(Me);if(Xt.includes("/__/auth/callback")){const un=Jt(Xt),En=un.firebaseError?function rt(ue){try{return JSON.parse(ue)}catch(Me){return null}}(decodeURIComponent(un.firebaseError)):null,sn=null===(St=null===(ye=null==En?void 0:En.code)||void 0===ye?void 0:ye.split("auth/"))||void 0===St?void 0:St[1],Un=sn?(0,Q.av)(sn):null;return Un?{type:ue.type,eventId:ue.eventId,tenantId:ue.tenantId,error:Un,urlResponse:null,sessionId:null,postBody:null}:{type:ue.type,eventId:ue.eventId,tenantId:ue.tenantId,sessionId:ue.sessionId,urlResponse:Xt,postBody:null}}return null}(Hi,fi.url)),ye.onEvent(Xi||Je())});return function(Hi){return Mi.apply(this,arguments)}}();void 0!==St&&"function"==typeof St.subscribe&&St.subscribe(null,sn);const Un=Xt,Qi=`${un.packageName.toLowerCase()}://`;Pe().handleOpenURL=function(){var Mi=(0,b.Z)(function*(fi){if(fi.toLowerCase().startsWith(Qi)&&sn({url:fi}),"function"==typeof Un)try{Un(fi)}catch(Hi){console.error(Hi)}});return function(fi){return Mi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Q.a,this._completeRedirectFn=Q.aA}_initialize(Me){var ye=this;return(0,b.Z)(function*(){return yield ye.selectUnderlyingResolver(),ye.assertedUnderlyingResolver._initialize(Me)})()}_openPopup(Me,ye,St,Xt){var un=this;return(0,b.Z)(function*(){return yield un.selectUnderlyingResolver(),un.assertedUnderlyingResolver._openPopup(Me,ye,St,Xt)})()}_openRedirect(Me,ye,St,Xt){var un=this;return(0,b.Z)(function*(){return yield un.selectUnderlyingResolver(),un.assertedUnderlyingResolver._openRedirect(Me,ye,St,Xt)})()}_isIframeWebStorageSupported(Me,ye){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Me,ye)}_originValidation(Me){return this.assertedUnderlyingResolver._originValidation(Me)}get _shouldInitProactively(){return gi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Me=this;return(0,b.Z)(function*(){if(Me.underlyingResolver)return;const ye=yield function bn(){return Qn.apply(this,arguments)}();Me.underlyingResolver=ye?Me.cordovaResolver:Me.browserResolver})()}}function ur(ue){return ue.unwrap()}function xn(ue){return Ti(ue)}function Ti(ue){const{_tokenResponse:Me}=ue instanceof Ce.ZR?ue.customData:ue;if(!Me)return null;if(!(ue instanceof Ce.ZR)&&"temporaryProof"in Me&&"phoneNumber"in Me)return Q.P.credentialFromResult(ue);const ye=Me.providerId;if(!ye||ye===Q.o.PASSWORD)return null;let St;switch(ye){case Q.o.GOOGLE:St=Q.N;break;case Q.o.FACEBOOK:St=Q.M;break;case Q.o.GITHUB:St=Q.Q;break;case Q.o.TWITTER:St=Q.V;break;default:const{oauthIdToken:Xt,oauthAccessToken:un,oauthTokenSecret:En,pendingToken:sn,nonce:Un}=Me;return un||En||Xt||sn?sn?ye.startsWith("saml.")?Q.aJ._create(ye,sn):Q.I._fromParams({providerId:ye,signInMethod:ye,pendingToken:sn,idToken:Xt,accessToken:un}):new Q.T(ye).credential({idToken:Xt,accessToken:un,rawNonce:Un}):null}return ue instanceof Ce.ZR?St.credentialFromError(ue):St.credentialFromResult(ue)}function Li(ue,Me){return Me.catch(ye=>{throw ye instanceof Ce.ZR&&function Fi(ue,Me){var ye;const St=null===(ye=Me.customData)||void 0===ye?void 0:ye._tokenResponse;if("auth/multi-factor-auth-required"===Me.code)Me.resolver=new ci(ue,Q.am(ue,Me));else if(St){const Xt=Ti(Me),un=Me;Xt&&(un.credential=Xt,un.tenantId=St.tenantId||void 0,un.email=St.email||void 0,un.phoneNumber=St.phoneNumber||void 0)}}(ue,ye),ye}).then(ye=>{const Xt=ye.user;return{operationType:ye.operationType,credential:xn(ye),additionalUserInfo:Q.ak(ye),user:cn.getOrCreate(Xt)}})}function Ln(ue,Me){return or.apply(this,arguments)}function or(){return(or=(0,b.Z)(function*(ue,Me){const ye=yield Me;return{verificationId:ye.verificationId,confirm:St=>Li(ue,ye.confirm(St))}})).apply(this,arguments)}class ci{constructor(Me,ye){this.resolver=ye,this.auth=function jr(ue){return ue.wrapped()}(Me)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Me){return Li(ur(this.auth),this.resolver.resolveSignIn(Me))}}class cn{constructor(Me){this._delegate=Me,this.multiFactor=Q.an(Me)}static getOrCreate(Me){return cn.USER_MAP.has(Me)||cn.USER_MAP.set(Me,new cn(Me)),cn.USER_MAP.get(Me)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Me){return this._delegate.getIdTokenResult(Me)}getIdToken(Me){return this._delegate.getIdToken(Me)}linkAndRetrieveDataWithCredential(Me){return this.linkWithCredential(Me)}linkWithCredential(Me){var ye=this;return(0,b.Z)(function*(){return Li(ye.auth,Q.Y(ye._delegate,Me))})()}linkWithPhoneNumber(Me,ye){var St=this;return(0,b.Z)(function*(){return Ln(St.auth,Q.l(St._delegate,Me,ye))})()}linkWithPopup(Me){var ye=this;return(0,b.Z)(function*(){return Li(ye.auth,Q.d(ye._delegate,Me,pn))})()}linkWithRedirect(Me){var ye=this;return(0,b.Z)(function*(){return yield rr(Q.aC(ye.auth)),Q.g(ye._delegate,Me,pn)})()}reauthenticateAndRetrieveDataWithCredential(Me){return this.reauthenticateWithCredential(Me)}reauthenticateWithCredential(Me){var ye=this;return(0,b.Z)(function*(){return Li(ye.auth,Q.Z(ye._delegate,Me))})()}reauthenticateWithPhoneNumber(Me,ye){return Ln(this.auth,Q.r(this._delegate,Me,ye))}reauthenticateWithPopup(Me){return Li(this.auth,Q.e(this._delegate,Me,pn))}reauthenticateWithRedirect(Me){var ye=this;return(0,b.Z)(function*(){return yield rr(Q.aC(ye.auth)),Q.h(ye._delegate,Me,pn)})()}sendEmailVerification(Me){return Q.aa(this._delegate,Me)}unlink(Me){var ye=this;return(0,b.Z)(function*(){return yield Q.aj(ye._delegate,Me),ye})()}updateEmail(Me){return Q.af(this._delegate,Me)}updatePassword(Me){return Q.ag(this._delegate,Me)}updatePhoneNumber(Me){return Q.u(this._delegate,Me)}updateProfile(Me){return Q.ae(this._delegate,Me)}verifyBeforeUpdateEmail(Me,ye){return Q.ab(this._delegate,Me,ye)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}cn.USER_MAP=new WeakMap;const zt=Q.aw;let mn=(()=>{class ue{constructor(ye,St){if(this.app=ye,St.isInitialized())return this._delegate=St.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Xt}=ye.options;zt(Xt,"invalid-api-key",{appName:ye.name}),zt(Xt,"invalid-api-key",{appName:ye.name});const un="undefined"!=typeof window?pn:void 0;this._delegate=St.initialize({options:{persistence:Bn(Xt,ye.name),popupRedirectResolver:un}}),this._delegate._updateErrorMap(Q.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?cn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ye){this._delegate.languageCode=ye}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ye){this._delegate.tenantId=ye}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ye,St){Q.E(this._delegate,ye,St)}applyActionCode(ye){return Q.a1(this._delegate,ye)}checkActionCode(ye){return Q.a2(this._delegate,ye)}confirmPasswordReset(ye,St){return Q.a0(this._delegate,ye,St)}createUserWithEmailAndPassword(ye,St){var Xt=this;return(0,b.Z)(function*(){return Li(Xt._delegate,Q.a4(Xt._delegate,ye,St))})()}fetchProvidersForEmail(ye){return this.fetchSignInMethodsForEmail(ye)}fetchSignInMethodsForEmail(ye){return Q.a9(this._delegate,ye)}isSignInWithEmailLink(ye){return Q.a7(this._delegate,ye)}getRedirectResult(){var ye=this;return(0,b.Z)(function*(){zt(ki(),ye._delegate,"operation-not-supported-in-this-environment");const St=yield Q.j(ye._delegate,pn);return St?Li(ye._delegate,Promise.resolve(St)):{credential:null,user:null}})()}addFrameworkForLogging(ye){!function Et(ue,Me){(0,Q.aC)(ue)._logFramework(Me)}(this._delegate,ye)}onAuthStateChanged(ye,St,Xt){const{next:un,error:En,complete:sn}=ln(ye,St,Xt);return this._delegate.onAuthStateChanged(un,En,sn)}onIdTokenChanged(ye,St,Xt){const{next:un,error:En,complete:sn}=ln(ye,St,Xt);return this._delegate.onIdTokenChanged(un,En,sn)}sendSignInLinkToEmail(ye,St){return Q.a6(this._delegate,ye,St)}sendPasswordResetEmail(ye,St){return Q.$(this._delegate,ye,St||void 0)}setPersistence(ye){var St=this;return(0,b.Z)(function*(){let Xt;switch(function zi(ue,Me){Di(Object.values(Kt).includes(Me),ue,"invalid-persistence-type"),(0,Ce.b$)()?Di(Me!==Kt.SESSION,ue,"unsupported-persistence-type"):(0,Ce.UG)()?Di(Me===Kt.NONE,ue,"unsupported-persistence-type"):jn()?Di(Me===Kt.NONE||Me===Kt.LOCAL&&(0,Ce.hl)(),ue,"unsupported-persistence-type"):Di(Me===Kt.NONE||ai(),ue,"unsupported-persistence-type")}(St._delegate,ye),ye){case Kt.SESSION:Xt=Q.a;break;case Kt.LOCAL:Xt=(yield Q.ax(Q.i)._isAvailable())?Q.i:Q.b;break;case Kt.NONE:Xt=Q.K;break;default:return Q.as("argument-error",{appName:St._delegate.name})}return St._delegate.setPersistence(Xt)})()}signInAndRetrieveDataWithCredential(ye){return this.signInWithCredential(ye)}signInAnonymously(){return Li(this._delegate,Q.W(this._delegate))}signInWithCredential(ye){return Li(this._delegate,Q.X(this._delegate,ye))}signInWithCustomToken(ye){return Li(this._delegate,Q._(this._delegate,ye))}signInWithEmailAndPassword(ye,St){return Li(this._delegate,Q.a5(this._delegate,ye,St))}signInWithEmailLink(ye,St){return Li(this._delegate,Q.a8(this._delegate,ye,St))}signInWithPhoneNumber(ye,St){return Ln(this._delegate,Q.s(this._delegate,ye,St))}signInWithPopup(ye){var St=this;return(0,b.Z)(function*(){return zt(ki(),St._delegate,"operation-not-supported-in-this-environment"),Li(St._delegate,Q.c(St._delegate,ye,pn))})()}signInWithRedirect(ye){var St=this;return(0,b.Z)(function*(){return zt(ki(),St._delegate,"operation-not-supported-in-this-environment"),yield rr(St._delegate),Q.f(St._delegate,ye,pn)})()}updateCurrentUser(ye){return this._delegate.updateCurrentUser(ye)}verifyPasswordResetCode(ye){return Q.a3(this._delegate,ye)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ue.Persistence=Kt,ue})();function ln(ue,Me,ye){let St=ue;"function"!=typeof ue&&({next:St,error:Me,complete:ye}=ue);const Xt=St;return{next:En=>Xt(En&&cn.getOrCreate(En)),error:Me,complete:ye}}function Bn(ue,Me){const ye=function cr(ue,Me){const ye=ni();if(!ye)return[];const St=Q.ay(sr,ue,Me);switch(ye.getItem(St)){case Kt.NONE:return[Q.K];case Kt.LOCAL:return[Q.i,Q.a];case Kt.SESSION:return[Q.a];default:return[]}}(ue,Me);if("undefined"!=typeof self&&!ye.includes(Q.i)&&ye.push(Q.i),"undefined"!=typeof window)for(const St of[Q.b,Q.a])ye.includes(St)||ye.push(St);return ye.includes(Q.K)||ye.push(Q.K),ye}class zn{constructor(){this.providerId="phone",this._delegate=new Q.P(ur(s.Z.auth()))}static credential(Me,ye){return Q.P.credential(Me,ye)}verifyPhoneNumber(Me,ye){return this._delegate.verifyPhoneNumber(Me,ye)}unwrap(){return this._delegate}}zn.PHONE_SIGN_IN_METHOD=Q.P.PHONE_SIGN_IN_METHOD,zn.PROVIDER_ID=Q.P.PROVIDER_ID;const qe=Q.aw;class ve{constructor(Me,ye,St=s.Z.app()){var Xt;qe(null===(Xt=St.options)||void 0===Xt?void 0:Xt.apiKey,"invalid-api-key",{appName:St.name}),this._delegate=new Q.R(Me,ye,St.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tt(ue){ue.INTERNAL.registerComponent(new ge.wA("auth-compat",Me=>{const ye=Me.getProvider("app-compat").getImmediate(),St=Me.getProvider("auth");return new mn(ye,St)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Q.A.EMAIL_SIGNIN,PASSWORD_RESET:Q.A.PASSWORD_RESET,RECOVER_EMAIL:Q.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Q.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Q.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Q.A.VERIFY_EMAIL}},EmailAuthProvider:Q.L,FacebookAuthProvider:Q.M,GithubAuthProvider:Q.Q,GoogleAuthProvider:Q.N,OAuthProvider:Q.T,SAMLAuthProvider:Q.U,PhoneAuthProvider:zn,PhoneMultiFactorGenerator:Q.m,RecaptchaVerifier:ve,TwitterAuthProvider:Q.V,Auth:mn,AuthCredential:Q.G,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ue.registerVersion("@firebase/auth-compat","0.2.12")}(s.Z)},1135:(nn,ht,L)=>{"use strict";L.d(ht,{X:()=>s});var b=L(7579);class s extends b.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const Ie=super._subscribe(Ce);return!Ie.closed&&Ce.next(this._value),Ie}getValue(){const{hasError:Ce,thrownError:Ie,_value:ae}=this;if(Ce)throw Ie;return this._throwIfClosed(),ae}next(Ce){super.next(this._value=Ce)}}},8306:(nn,ht,L)=>{"use strict";L.d(ht,{y:()=>Ne});var b=L(930),s=L(727),Q=L(8822),Ce=L(4671);var ge=L(2416),Pe=L(576),Ze=L(2806);let Ne=(()=>{class je{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const Ve=new je;return Ve.source=this,Ve.operator=Le,Ve}subscribe(Le,Ve,fe){const _e=function Te(je){return je&&je instanceof b.Lv||function Be(je){return je&&(0,Pe.m)(je.next)&&(0,Pe.m)(je.error)&&(0,Pe.m)(je.complete)}(je)&&(0,s.Nn)(je)}(Le)?Le:new b.Hp(Le,Ve,fe);return(0,Ze.x)(()=>{const{operator:vt,source:lt}=this;_e.add(vt?vt.call(_e,lt):lt?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(Le){try{return this._subscribe(Le)}catch(Ve){Le.error(Ve)}}forEach(Le,Ve){return new(Ve=de(Ve))((fe,_e)=>{const vt=new b.Hp({next:lt=>{try{Le(lt)}catch(Qe){_e(Qe),vt.unsubscribe()}},error:_e,complete:fe});this.subscribe(vt)})}_subscribe(Le){var Ve;return null===(Ve=this.source)||void 0===Ve?void 0:Ve.subscribe(Le)}[Q.L](){return this}pipe(...Le){return function ae(je){return 0===je.length?Ce.y:1===je.length?je[0]:function(Le){return je.reduce((Ve,fe)=>fe(Ve),Le)}}(Le)(this)}toPromise(Le){return new(Le=de(Le))((Ve,fe)=>{let _e;this.subscribe(vt=>_e=vt,vt=>fe(vt),()=>Ve(_e))})}}return je.create=it=>new je(it),je})();function de(je){var it;return null!==(it=null!=je?je:ge.v.Promise)&&void 0!==it?it:Promise}},7579:(nn,ht,L)=>{"use strict";L.d(ht,{x:()=>ge});var b=L(8306),s=L(727);const Ce=(0,L(3888).d)(Ze=>function(){Ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=L(8737),ae=L(2806);let ge=(()=>{class Ze extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Be=new Pe(this,this);return Be.operator=de,Be}_throwIfClosed(){if(this.closed)throw new Ce}next(de){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Be of this.currentObservers)Be.next(de)}})}error(de){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Be}=this;for(;Be.length;)Be.shift().error(de)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Be,isStopped:Te,observers:je}=this;return Be||Te?s.Lc:(this.currentObservers=null,je.push(de),new s.w0(()=>{this.currentObservers=null,(0,Ie.P)(je,de)}))}_checkFinalizedStatuses(de){const{hasError:Be,thrownError:Te,isStopped:je}=this;Be?de.error(Te):je&&de.complete()}asObservable(){const de=new b.y;return de.source=this,de}}return Ze.create=(Ne,de)=>new Pe(Ne,de),Ze})();class Pe extends ge{constructor(Ne,de){super(),this.destination=Ne,this.source=de}next(Ne){var de,Be;null===(Be=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Be||Be.call(de,Ne)}error(Ne){var de,Be;null===(Be=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Be||Be.call(de,Ne)}complete(){var Ne,de;null===(de=null===(Ne=this.destination)||void 0===Ne?void 0:Ne.complete)||void 0===de||de.call(Ne)}_subscribe(Ne){var de,Be;return null!==(Be=null===(de=this.source)||void 0===de?void 0:de.subscribe(Ne))&&void 0!==Be?Be:s.Lc}}},930:(nn,ht,L)=>{"use strict";L.d(ht,{Hp:()=>Le,Lv:()=>Be});var b=L(576),s=L(727),Q=L(2416),Ce=L(7849),Ie=L(5032);const ae=Ze("C",void 0,void 0);function Ze(lt,Qe,We){return{kind:lt,value:Qe,error:We}}var Ne=L(3410),de=L(2806);class Be extends s.w0{constructor(Qe){super(),this.isStopped=!1,Qe?(this.destination=Qe,(0,s.Nn)(Qe)&&Qe.add(this)):this.destination=vt}static create(Qe,We,Ye){return new Le(Qe,We,Ye)}next(Qe){this.isStopped?_e(function Pe(lt){return Ze("N",lt,void 0)}(Qe),this):this._next(Qe)}error(Qe){this.isStopped?_e(function ge(lt){return Ze("E",void 0,lt)}(Qe),this):(this.isStopped=!0,this._error(Qe))}complete(){this.isStopped?_e(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Qe){this.destination.next(Qe)}_error(Qe){try{this.destination.error(Qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Te=Function.prototype.bind;function je(lt,Qe){return Te.call(lt,Qe)}class it{constructor(Qe){this.partialObserver=Qe}next(Qe){const{partialObserver:We}=this;if(We.next)try{We.next(Qe)}catch(Ye){Ve(Ye)}}error(Qe){const{partialObserver:We}=this;if(We.error)try{We.error(Qe)}catch(Ye){Ve(Ye)}else Ve(Qe)}complete(){const{partialObserver:Qe}=this;if(Qe.complete)try{Qe.complete()}catch(We){Ve(We)}}}class Le extends Be{constructor(Qe,We,Ye){let Ae;if(super(),(0,b.m)(Qe)||!Qe)Ae={next:null!=Qe?Qe:void 0,error:null!=We?We:void 0,complete:null!=Ye?Ye:void 0};else{let Ke;this&&Q.v.useDeprecatedNextContext?(Ke=Object.create(Qe),Ke.unsubscribe=()=>this.unsubscribe(),Ae={next:Qe.next&&je(Qe.next,Ke),error:Qe.error&&je(Qe.error,Ke),complete:Qe.complete&&je(Qe.complete,Ke)}):Ae=Qe}this.destination=new it(Ae)}}function Ve(lt){Q.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(lt):(0,Ce.h)(lt)}function _e(lt,Qe){const{onStoppedNotification:We}=Q.v;We&&Ne.z.setTimeout(()=>We(lt,Qe))}const vt={closed:!0,next:Ie.Z,error:function fe(lt){throw lt},complete:Ie.Z}},727:(nn,ht,L)=>{"use strict";L.d(ht,{Lc:()=>ae,w0:()=>Ie,Nn:()=>ge});var b=L(576);const Q=(0,L(3888).d)(Ze=>function(de){Ze(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Be,Te)=>`${Te+1}) ${Be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var Ce=L(8737);class Ie{constructor(Ne){this.initialTeardown=Ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ne;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const je of de)je.remove(this);else de.remove(this);const{initialTeardown:Be}=this;if((0,b.m)(Be))try{Be()}catch(je){Ne=je instanceof Q?je.errors:[je]}const{_finalizers:Te}=this;if(Te){this._finalizers=null;for(const je of Te)try{Pe(je)}catch(it){Ne=null!=Ne?Ne:[],it instanceof Q?Ne=[...Ne,...it.errors]:Ne.push(it)}}if(Ne)throw new Q(Ne)}}add(Ne){var de;if(Ne&&Ne!==this)if(this.closed)Pe(Ne);else{if(Ne instanceof Ie){if(Ne.closed||Ne._hasParent(this))return;Ne._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(Ne)}}_hasParent(Ne){const{_parentage:de}=this;return de===Ne||Array.isArray(de)&&de.includes(Ne)}_addParent(Ne){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(Ne),de):de?[de,Ne]:Ne}_removeParent(Ne){const{_parentage:de}=this;de===Ne?this._parentage=null:Array.isArray(de)&&(0,Ce.P)(de,Ne)}remove(Ne){const{_finalizers:de}=this;de&&(0,Ce.P)(de,Ne),Ne instanceof Ie&&Ne._removeParent(this)}}Ie.EMPTY=(()=>{const Ze=new Ie;return Ze.closed=!0,Ze})();const ae=Ie.EMPTY;function ge(Ze){return Ze instanceof Ie||Ze&&"closed"in Ze&&(0,b.m)(Ze.remove)&&(0,b.m)(Ze.add)&&(0,b.m)(Ze.unsubscribe)}function Pe(Ze){(0,b.m)(Ze)?Ze():Ze.unsubscribe()}},2416:(nn,ht,L)=>{"use strict";L.d(ht,{v:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(nn,ht,L)=>{"use strict";L.d(ht,{a:()=>Ne});var b=L(8306),s=L(4742),Q=L(8996),Ce=L(4671),Ie=L(3268),ae=L(3269),ge=L(1810),Pe=L(5403),Ze=L(9672);function Ne(...Te){const je=(0,ae.yG)(Te),it=(0,ae.jO)(Te),{args:Le,keys:Ve}=(0,s.D)(Te);if(0===Le.length)return(0,Q.D)([],je);const fe=new b.y(function de(Te,je,it=Ce.y){return Le=>{Be(je,()=>{const{length:Ve}=Te,fe=new Array(Ve);let _e=Ve,vt=Ve;for(let lt=0;lt<Ve;lt++)Be(je,()=>{const Qe=(0,Q.D)(Te[lt],je);let We=!1;Qe.subscribe((0,Pe.x)(Le,Ye=>{fe[lt]=Ye,We||(We=!0,vt--),vt||Le.next(it(fe.slice()))},()=>{--_e||Le.complete()}))},Le)},Le)}}(Le,je,Ve?_e=>(0,ge.n)(Ve,_e):Ce.y));return it?fe.pipe((0,Ie.Z)(it)):fe}function Be(Te,je,it){Te?(0,Ze.f)(it,Te,je):je()}},7272:(nn,ht,L)=>{"use strict";L.d(ht,{z:()=>Ie});var b=L(8189),Q=L(3269),Ce=L(8996);function Ie(...ae){return function s(){return(0,b.J)(1)}()((0,Ce.D)(ae,(0,Q.yG)(ae)))}},515:(nn,ht,L)=>{"use strict";L.d(ht,{E:()=>s});const s=new(L(8306).y)(Ie=>Ie.complete())},8996:(nn,ht,L)=>{"use strict";L.d(ht,{D:()=>Qe});var b=L(8421),s=L(5363),Q=L(9468),ae=L(8306),Pe=L(2202),Ze=L(576),Ne=L(9672);function Be(We,Ye){if(!We)throw new Error("Iterable cannot be null");return new ae.y(Ae=>{(0,Ne.f)(Ae,Ye,()=>{const Ke=We[Symbol.asyncIterator]();(0,Ne.f)(Ae,Ye,()=>{Ke.next().then(Se=>{Se.done?Ae.complete():Ae.next(Se.value)})},0,!0)})})}var Te=L(3670),je=L(8239),it=L(1144),Le=L(6495),Ve=L(2206),fe=L(4532),_e=L(3260);function Qe(We,Ye){return Ye?function lt(We,Ye){if(null!=We){if((0,Te.c)(We))return function Ce(We,Ye){return(0,b.Xf)(We).pipe((0,Q.R)(Ye),(0,s.Q)(Ye))}(We,Ye);if((0,it.z)(We))return function ge(We,Ye){return new ae.y(Ae=>{let Ke=0;return Ye.schedule(function(){Ke===We.length?Ae.complete():(Ae.next(We[Ke++]),Ae.closed||this.schedule())})})}(We,Ye);if((0,je.t)(We))return function Ie(We,Ye){return(0,b.Xf)(We).pipe((0,Q.R)(Ye),(0,s.Q)(Ye))}(We,Ye);if((0,Ve.D)(We))return Be(We,Ye);if((0,Le.T)(We))return function de(We,Ye){return new ae.y(Ae=>{let Ke;return(0,Ne.f)(Ae,Ye,()=>{Ke=We[Pe.h](),(0,Ne.f)(Ae,Ye,()=>{let Se,ke;try{({value:Se,done:ke}=Ke.next())}catch(De){return void Ae.error(De)}ke?Ae.complete():Ae.next(Se)},0,!0)}),()=>(0,Ze.m)(null==Ke?void 0:Ke.return)&&Ke.return()})}(We,Ye);if((0,_e.L)(We))return function vt(We,Ye){return Be((0,_e.Q)(We),Ye)}(We,Ye)}throw(0,fe.z)(We)}(We,Ye):(0,b.Xf)(We)}},8421:(nn,ht,L)=>{"use strict";L.d(ht,{Xf:()=>Te});var b=L(655),s=L(1144),Q=L(8239),Ce=L(8306),Ie=L(3670),ae=L(2206),ge=L(4532),Pe=L(6495),Ze=L(3260),Ne=L(576),de=L(7849),Be=L(8822);function Te(lt){if(lt instanceof Ce.y)return lt;if(null!=lt){if((0,Ie.c)(lt))return function je(lt){return new Ce.y(Qe=>{const We=lt[Be.L]();if((0,Ne.m)(We.subscribe))return We.subscribe(Qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(lt);if((0,s.z)(lt))return function it(lt){return new Ce.y(Qe=>{for(let We=0;We<lt.length&&!Qe.closed;We++)Qe.next(lt[We]);Qe.complete()})}(lt);if((0,Q.t)(lt))return function Le(lt){return new Ce.y(Qe=>{lt.then(We=>{Qe.closed||(Qe.next(We),Qe.complete())},We=>Qe.error(We)).then(null,de.h)})}(lt);if((0,ae.D)(lt))return fe(lt);if((0,Pe.T)(lt))return function Ve(lt){return new Ce.y(Qe=>{for(const We of lt)if(Qe.next(We),Qe.closed)return;Qe.complete()})}(lt);if((0,Ze.L)(lt))return function _e(lt){return fe((0,Ze.Q)(lt))}(lt)}throw(0,ge.z)(lt)}function fe(lt){return new Ce.y(Qe=>{(function vt(lt,Qe){var We,Ye,Ae,Ke;return(0,b.mG)(this,void 0,void 0,function*(){try{for(We=(0,b.KL)(lt);!(Ye=yield We.next()).done;)if(Qe.next(Ye.value),Qe.closed)return}catch(Se){Ae={error:Se}}finally{try{Ye&&!Ye.done&&(Ke=We.return)&&(yield Ke.call(We))}finally{if(Ae)throw Ae.error}}Qe.complete()})})(lt,Qe).catch(We=>Qe.error(We))})}},6451:(nn,ht,L)=>{"use strict";L.d(ht,{T:()=>ae});var b=L(8189),s=L(8421),Q=L(515),Ce=L(3269),Ie=L(8996);function ae(...ge){const Pe=(0,Ce.yG)(ge),Ze=(0,Ce._6)(ge,1/0),Ne=ge;return Ne.length?1===Ne.length?(0,s.Xf)(Ne[0]):(0,b.J)(Ze)((0,Ie.D)(Ne,Pe)):Q.E}},9646:(nn,ht,L)=>{"use strict";L.d(ht,{of:()=>Q});var b=L(3269),s=L(8996);function Q(...Ce){const Ie=(0,b.yG)(Ce);return(0,s.D)(Ce,Ie)}},5403:(nn,ht,L)=>{"use strict";L.d(ht,{x:()=>s});var b=L(930);function s(Ce,Ie,ae,ge,Pe){return new Q(Ce,Ie,ae,ge,Pe)}class Q extends b.Lv{constructor(Ie,ae,ge,Pe,Ze,Ne){super(Ie),this.onFinalize=Ze,this.shouldUnsubscribe=Ne,this._next=ae?function(de){try{ae(de)}catch(Be){Ie.error(Be)}}:super._next,this._error=Pe?function(de){try{Pe(de)}catch(Be){Ie.error(Be)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(de){Ie.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(Ie=this.onFinalize)||void 0===Ie||Ie.call(this))}}}},4351:(nn,ht,L)=>{"use strict";L.d(ht,{b:()=>Q});var b=L(5577),s=L(576);function Q(Ce,Ie){return(0,s.m)(Ie)?(0,b.z)(Ce,Ie,1):(0,b.z)(Ce,1)}},6590:(nn,ht,L)=>{"use strict";L.d(ht,{d:()=>Q});var b=L(4482),s=L(5403);function Q(Ce){return(0,b.e)((Ie,ae)=>{let ge=!1;Ie.subscribe((0,s.x)(ae,Pe=>{ge=!0,ae.next(Pe)},()=>{ge||ae.next(Ce),ae.complete()}))})}},1884:(nn,ht,L)=>{"use strict";L.d(ht,{x:()=>Ce});var b=L(4671),s=L(4482),Q=L(5403);function Ce(ae,ge=b.y){return ae=null!=ae?ae:Ie,(0,s.e)((Pe,Ze)=>{let Ne,de=!0;Pe.subscribe((0,Q.x)(Ze,Be=>{const Te=ge(Be);(de||!ae(Ne,Te))&&(de=!1,Ne=Te,Ze.next(Be))}))})}function Ie(ae,ge){return ae===ge}},9300:(nn,ht,L)=>{"use strict";L.d(ht,{h:()=>Q});var b=L(4482),s=L(5403);function Q(Ce,Ie){return(0,b.e)((ae,ge)=>{let Pe=0;ae.subscribe((0,s.x)(ge,Ze=>Ce.call(Ie,Ze,Pe++)&&ge.next(Ze)))})}},8746:(nn,ht,L)=>{"use strict";L.d(ht,{x:()=>s});var b=L(4482);function s(Q){return(0,b.e)((Ce,Ie)=>{try{Ce.subscribe(Ie)}finally{Ie.add(Q)}})}},590:(nn,ht,L)=>{"use strict";L.d(ht,{P:()=>ge});var b=L(6805),s=L(9300),Q=L(5698),Ce=L(6590),Ie=L(8068),ae=L(4671);function ge(Pe,Ze){const Ne=arguments.length>=2;return de=>de.pipe(Pe?(0,s.h)((Be,Te)=>Pe(Be,Te,de)):ae.y,(0,Q.q)(1),Ne?(0,Ce.d)(Ze):(0,Ie.T)(()=>new b.K))}},4004:(nn,ht,L)=>{"use strict";L.d(ht,{U:()=>Q});var b=L(4482),s=L(5403);function Q(Ce,Ie){return(0,b.e)((ae,ge)=>{let Pe=0;ae.subscribe((0,s.x)(ge,Ze=>{ge.next(Ce.call(Ie,Ze,Pe++))}))})}},8189:(nn,ht,L)=>{"use strict";L.d(ht,{J:()=>Q});var b=L(5577),s=L(4671);function Q(Ce=1/0){return(0,b.z)(s.y,Ce)}},5577:(nn,ht,L)=>{"use strict";L.d(ht,{z:()=>Pe});var b=L(4004),s=L(8421),Q=L(4482),Ce=L(9672),Ie=L(5403),ge=L(576);function Pe(Ze,Ne,de=1/0){return(0,ge.m)(Ne)?Pe((Be,Te)=>(0,b.U)((je,it)=>Ne(Be,je,Te,it))((0,s.Xf)(Ze(Be,Te))),de):("number"==typeof Ne&&(de=Ne),(0,Q.e)((Be,Te)=>function ae(Ze,Ne,de,Be,Te,je,it,Le){const Ve=[];let fe=0,_e=0,vt=!1;const lt=()=>{vt&&!Ve.length&&!fe&&Ne.complete()},Qe=Ye=>fe<Be?We(Ye):Ve.push(Ye),We=Ye=>{je&&Ne.next(Ye),fe++;let Ae=!1;(0,s.Xf)(de(Ye,_e++)).subscribe((0,Ie.x)(Ne,Ke=>{null==Te||Te(Ke),je?Qe(Ke):Ne.next(Ke)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(fe--;Ve.length&&fe<Be;){const Ke=Ve.shift();it?(0,Ce.f)(Ne,it,()=>We(Ke)):We(Ke)}lt()}catch(Ke){Ne.error(Ke)}}))};return Ze.subscribe((0,Ie.x)(Ne,Qe,()=>{vt=!0,lt()})),()=>{null==Le||Le()}}(Be,Te,Ze,de)))}},5363:(nn,ht,L)=>{"use strict";L.d(ht,{Q:()=>Ce});var b=L(9672),s=L(4482),Q=L(5403);function Ce(Ie,ae=0){return(0,s.e)((ge,Pe)=>{ge.subscribe((0,Q.x)(Pe,Ze=>(0,b.f)(Pe,Ie,()=>Pe.next(Ze),ae),()=>(0,b.f)(Pe,Ie,()=>Pe.complete(),ae),Ze=>(0,b.f)(Pe,Ie,()=>Pe.error(Ze),ae)))})}},5026:(nn,ht,L)=>{"use strict";L.d(ht,{R:()=>Ce});var b=L(4482),s=L(5403);function Q(Ie,ae,ge,Pe,Ze){return(Ne,de)=>{let Be=ge,Te=ae,je=0;Ne.subscribe((0,s.x)(de,it=>{const Le=je++;Te=Be?Ie(Te,it,Le):(Be=!0,it),Pe&&de.next(Te)},Ze&&(()=>{Be&&de.next(Te),de.complete()})))}}function Ce(Ie,ae){return(0,b.e)(Q(Ie,ae,arguments.length>=2,!0))}},3099:(nn,ht,L)=>{"use strict";L.d(ht,{B:()=>ae});var b=L(8996),s=L(5698),Q=L(7579),Ce=L(930),Ie=L(4482);function ae(Pe={}){const{connector:Ze=(()=>new Q.x),resetOnError:Ne=!0,resetOnComplete:de=!0,resetOnRefCountZero:Be=!0}=Pe;return Te=>{let je=null,it=null,Le=null,Ve=0,fe=!1,_e=!1;const vt=()=>{null==it||it.unsubscribe(),it=null},lt=()=>{vt(),je=Le=null,fe=_e=!1},Qe=()=>{const We=je;lt(),null==We||We.unsubscribe()};return(0,Ie.e)((We,Ye)=>{Ve++,!_e&&!fe&&vt();const Ae=Le=null!=Le?Le:Ze();Ye.add(()=>{Ve--,0===Ve&&!_e&&!fe&&(it=ge(Qe,Be))}),Ae.subscribe(Ye),je||(je=new Ce.Hp({next:Ke=>Ae.next(Ke),error:Ke=>{_e=!0,vt(),it=ge(lt,Ne,Ke),Ae.error(Ke)},complete:()=>{fe=!0,vt(),it=ge(lt,de),Ae.complete()}}),(0,b.D)(We).subscribe(je))})(Te)}}function ge(Pe,Ze,...Ne){return!0===Ze?(Pe(),null):!1===Ze?null:Ze(...Ne).pipe((0,s.q)(1)).subscribe(()=>Pe())}},8675:(nn,ht,L)=>{"use strict";L.d(ht,{O:()=>Ce});var b=L(7272),s=L(3269),Q=L(4482);function Ce(...Ie){const ae=(0,s.yG)(Ie);return(0,Q.e)((ge,Pe)=>{(ae?(0,b.z)(Ie,ge,ae):(0,b.z)(Ie,ge)).subscribe(Pe)})}},9468:(nn,ht,L)=>{"use strict";L.d(ht,{R:()=>s});var b=L(4482);function s(Q,Ce=0){return(0,b.e)((Ie,ae)=>{ae.add(Q.schedule(()=>Ie.subscribe(ae),Ce))})}},3900:(nn,ht,L)=>{"use strict";L.d(ht,{w:()=>Ce});var b=L(8421),s=L(4482),Q=L(5403);function Ce(Ie,ae){return(0,s.e)((ge,Pe)=>{let Ze=null,Ne=0,de=!1;const Be=()=>de&&!Ze&&Pe.complete();ge.subscribe((0,Q.x)(Pe,Te=>{null==Ze||Ze.unsubscribe();let je=0;const it=Ne++;(0,b.Xf)(Ie(Te,it)).subscribe(Ze=(0,Q.x)(Pe,Le=>Pe.next(ae?ae(Te,Le,it,je++):Le),()=>{Ze=null,Be()}))},()=>{de=!0,Be()}))})}},5698:(nn,ht,L)=>{"use strict";L.d(ht,{q:()=>Ce});var b=L(515),s=L(4482),Q=L(5403);function Ce(Ie){return Ie<=0?()=>b.E:(0,s.e)((ae,ge)=>{let Pe=0;ae.subscribe((0,Q.x)(ge,Ze=>{++Pe<=Ie&&(ge.next(Ze),Ie<=Pe&&ge.complete())}))})}},8505:(nn,ht,L)=>{"use strict";L.d(ht,{b:()=>Ie});var b=L(576),s=L(4482),Q=L(5403),Ce=L(4671);function Ie(ae,ge,Pe){const Ze=(0,b.m)(ae)||ge||Pe?{next:ae,error:ge,complete:Pe}:ae;return Ze?(0,s.e)((Ne,de)=>{var Be;null===(Be=Ze.subscribe)||void 0===Be||Be.call(Ze);let Te=!0;Ne.subscribe((0,Q.x)(de,je=>{var it;null===(it=Ze.next)||void 0===it||it.call(Ze,je),de.next(je)},()=>{var je;Te=!1,null===(je=Ze.complete)||void 0===je||je.call(Ze),de.complete()},je=>{var it;Te=!1,null===(it=Ze.error)||void 0===it||it.call(Ze,je),de.error(je)},()=>{var je,it;Te&&(null===(je=Ze.unsubscribe)||void 0===je||je.call(Ze)),null===(it=Ze.finalize)||void 0===it||it.call(Ze)}))}):Ce.y}},8068:(nn,ht,L)=>{"use strict";L.d(ht,{T:()=>Ce});var b=L(6805),s=L(4482),Q=L(5403);function Ce(ae=Ie){return(0,s.e)((ge,Pe)=>{let Ze=!1;ge.subscribe((0,Q.x)(Pe,Ne=>{Ze=!0,Pe.next(Ne)},()=>Ze?Pe.complete():Pe.error(ae())))})}function Ie(){return new b.K}},4408:(nn,ht,L)=>{"use strict";L.d(ht,{o:()=>Ie});var b=L(727);class s extends b.w0{constructor(ge,Pe){super()}schedule(ge,Pe=0){return this}}const Q={setInterval(ae,ge,...Pe){const{delegate:Ze}=Q;return(null==Ze?void 0:Ze.setInterval)?Ze.setInterval(ae,ge,...Pe):setInterval(ae,ge,...Pe)},clearInterval(ae){const{delegate:ge}=Q;return((null==ge?void 0:ge.clearInterval)||clearInterval)(ae)},delegate:void 0};var Ce=L(8737);class Ie extends s{constructor(ge,Pe){super(ge,Pe),this.scheduler=ge,this.work=Pe,this.pending=!1}schedule(ge,Pe=0){if(this.closed)return this;this.state=ge;const Ze=this.id,Ne=this.scheduler;return null!=Ze&&(this.id=this.recycleAsyncId(Ne,Ze,Pe)),this.pending=!0,this.delay=Pe,this.id=this.id||this.requestAsyncId(Ne,this.id,Pe),this}requestAsyncId(ge,Pe,Ze=0){return Q.setInterval(ge.flush.bind(ge,this),Ze)}recycleAsyncId(ge,Pe,Ze=0){if(null!=Ze&&this.delay===Ze&&!1===this.pending)return Pe;Q.clearInterval(Pe)}execute(ge,Pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ze=this._execute(ge,Pe);if(Ze)return Ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,Pe){let Ne,Ze=!1;try{this.work(ge)}catch(de){Ze=!0,Ne=de||new Error("Scheduled action threw falsy error")}if(Ze)return this.unsubscribe(),Ne}unsubscribe(){if(!this.closed){const{id:ge,scheduler:Pe}=this,{actions:Ze}=Pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(Ze,this),null!=ge&&(this.id=this.recycleAsyncId(Pe,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(nn,ht,L)=>{"use strict";L.d(ht,{v:()=>Q});var b=L(6063);class s{constructor(Ie,ae=s.now){this.schedulerActionCtor=Ie,this.now=ae}schedule(Ie,ae=0,ge){return new this.schedulerActionCtor(this,Ie).schedule(ge,ae)}}s.now=b.l.now;class Q extends s{constructor(Ie,ae=s.now){super(Ie,ae),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ie){const{actions:ae}=this;if(this._active)return void ae.push(Ie);let ge;this._active=!0;do{if(ge=Ie.execute(Ie.state,Ie.delay))break}while(Ie=ae.shift());if(this._active=!1,ge){for(;Ie=ae.shift();)Ie.unsubscribe();throw ge}}}},4986:(nn,ht,L)=>{"use strict";L.d(ht,{P:()=>Ce,z:()=>Q});var b=L(4408);const Q=new(L(7565).v)(b.o),Ce=Q},6063:(nn,ht,L)=>{"use strict";L.d(ht,{l:()=>b});const b={now:()=>(b.delegate||Date).now(),delegate:void 0}},3410:(nn,ht,L)=>{"use strict";L.d(ht,{z:()=>b});const b={setTimeout(s,Q,...Ce){const{delegate:Ie}=b;return(null==Ie?void 0:Ie.setTimeout)?Ie.setTimeout(s,Q,...Ce):setTimeout(s,Q,...Ce)},clearTimeout(s){const{delegate:Q}=b;return((null==Q?void 0:Q.clearTimeout)||clearTimeout)(s)},delegate:void 0}},2202:(nn,ht,L)=>{"use strict";L.d(ht,{h:()=>s});const s=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nn,ht,L)=>{"use strict";L.d(ht,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(nn,ht,L)=>{"use strict";L.d(ht,{K:()=>s});const s=(0,L(3888).d)(Q=>function(){Q(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(nn,ht,L)=>{"use strict";L.d(ht,{_6:()=>ae,jO:()=>Ce,yG:()=>Ie});var b=L(576),s=L(3532);function Q(ge){return ge[ge.length-1]}function Ce(ge){return(0,b.m)(Q(ge))?ge.pop():void 0}function Ie(ge){return(0,s.K)(Q(ge))?ge.pop():void 0}function ae(ge,Pe){return"number"==typeof Q(ge)?ge.pop():Pe}},4742:(nn,ht,L)=>{"use strict";L.d(ht,{D:()=>Ie});const{isArray:b}=Array,{getPrototypeOf:s,prototype:Q,keys:Ce}=Object;function Ie(ge){if(1===ge.length){const Pe=ge[0];if(b(Pe))return{args:Pe,keys:null};if(function ae(ge){return ge&&"object"==typeof ge&&s(ge)===Q}(Pe)){const Ze=Ce(Pe);return{args:Ze.map(Ne=>Pe[Ne]),keys:Ze}}}return{args:ge,keys:null}}},8737:(nn,ht,L)=>{"use strict";function b(s,Q){if(s){const Ce=s.indexOf(Q);0<=Ce&&s.splice(Ce,1)}}L.d(ht,{P:()=>b})},3888:(nn,ht,L)=>{"use strict";function b(s){const Ce=s(Ie=>{Error.call(Ie),Ie.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}L.d(ht,{d:()=>b})},1810:(nn,ht,L)=>{"use strict";function b(s,Q){return s.reduce((Ce,Ie,ae)=>(Ce[Ie]=Q[ae],Ce),{})}L.d(ht,{n:()=>b})},2806:(nn,ht,L)=>{"use strict";L.d(ht,{O:()=>Ce,x:()=>Q});var b=L(2416);let s=null;function Q(Ie){if(b.v.useDeprecatedSynchronousErrorHandling){const ae=!s;if(ae&&(s={errorThrown:!1,error:null}),Ie(),ae){const{errorThrown:ge,error:Pe}=s;if(s=null,ge)throw Pe}}else Ie()}function Ce(Ie){b.v.useDeprecatedSynchronousErrorHandling&&s&&(s.errorThrown=!0,s.error=Ie)}},9672:(nn,ht,L)=>{"use strict";function b(s,Q,Ce,Ie=0,ae=!1){const ge=Q.schedule(function(){Ce(),ae?s.add(this.schedule(null,Ie)):this.unsubscribe()},Ie);if(s.add(ge),!ae)return ge}L.d(ht,{f:()=>b})},4671:(nn,ht,L)=>{"use strict";function b(s){return s}L.d(ht,{y:()=>b})},1144:(nn,ht,L)=>{"use strict";L.d(ht,{z:()=>b});const b=s=>s&&"number"==typeof s.length&&"function"!=typeof s},2206:(nn,ht,L)=>{"use strict";L.d(ht,{D:()=>s});var b=L(576);function s(Q){return Symbol.asyncIterator&&(0,b.m)(null==Q?void 0:Q[Symbol.asyncIterator])}},576:(nn,ht,L)=>{"use strict";function b(s){return"function"==typeof s}L.d(ht,{m:()=>b})},3670:(nn,ht,L)=>{"use strict";L.d(ht,{c:()=>Q});var b=L(8822),s=L(576);function Q(Ce){return(0,s.m)(Ce[b.L])}},6495:(nn,ht,L)=>{"use strict";L.d(ht,{T:()=>Q});var b=L(2202),s=L(576);function Q(Ce){return(0,s.m)(null==Ce?void 0:Ce[b.h])}},8239:(nn,ht,L)=>{"use strict";L.d(ht,{t:()=>s});var b=L(576);function s(Q){return(0,b.m)(null==Q?void 0:Q.then)}},3260:(nn,ht,L)=>{"use strict";L.d(ht,{L:()=>Ce,Q:()=>Q});var b=L(655),s=L(576);function Q(Ie){return(0,b.FC)(this,arguments,function*(){const ge=Ie.getReader();try{for(;;){const{value:Pe,done:Ze}=yield(0,b.qq)(ge.read());if(Ze)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(Pe)}}finally{ge.releaseLock()}})}function Ce(Ie){return(0,s.m)(null==Ie?void 0:Ie.getReader)}},3532:(nn,ht,L)=>{"use strict";L.d(ht,{K:()=>s});var b=L(576);function s(Q){return Q&&(0,b.m)(Q.schedule)}},4482:(nn,ht,L)=>{"use strict";L.d(ht,{A:()=>s,e:()=>Q});var b=L(576);function s(Ce){return(0,b.m)(null==Ce?void 0:Ce.lift)}function Q(Ce){return Ie=>{if(s(Ie))return Ie.lift(function(ae){try{return Ce(ae,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(nn,ht,L)=>{"use strict";L.d(ht,{Z:()=>Ce});var b=L(4004);const{isArray:s}=Array;function Ce(Ie){return(0,b.U)(ae=>function Q(Ie,ae){return s(ae)?Ie(...ae):Ie(ae)}(Ie,ae))}},5032:(nn,ht,L)=>{"use strict";function b(){}L.d(ht,{Z:()=>b})},7849:(nn,ht,L)=>{"use strict";L.d(ht,{h:()=>Q});var b=L(2416),s=L(3410);function Q(Ce){s.z.setTimeout(()=>{const{onUnhandledError:Ie}=b.v;if(!Ie)throw Ce;Ie(Ce)})}},4532:(nn,ht,L)=>{"use strict";function b(s){return new TypeError(`You provided ${null!==s&&"object"==typeof s?"an invalid object":`'${s}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(ht,{z:()=>b})},863:(nn,ht,L)=>{var b={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function s(Q){if(!L.o(b,Q))return Promise.resolve().then(()=>{var ae=new Error("Cannot find module '"+Q+"'");throw ae.code="MODULE_NOT_FOUND",ae});var Ce=b[Q],Ie=Ce[0];return Promise.all(Ce.slice(1).map(L.e)).then(()=>L(Ie))}s.keys=()=>Object.keys(b),s.id=863,nn.exports=s},655:(nn,ht,L)=>{"use strict";function Ce(Se,ke){var De={};for(var Re in Se)Object.prototype.hasOwnProperty.call(Se,Re)&&ke.indexOf(Re)<0&&(De[Re]=Se[Re]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(Re=Object.getOwnPropertySymbols(Se);rt<Re.length;rt++)ke.indexOf(Re[rt])<0&&Object.prototype.propertyIsEnumerable.call(Se,Re[rt])&&(De[Re[rt]]=Se[Re[rt]])}return De}function Ie(Se,ke,De,Re){var Jt,rt=arguments.length,tt=rt<3?ke:null===Re?Re=Object.getOwnPropertyDescriptor(ke,De):Re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)tt=Reflect.decorate(Se,ke,De,Re);else for(var Gt=Se.length-1;Gt>=0;Gt--)(Jt=Se[Gt])&&(tt=(rt<3?Jt(tt):rt>3?Jt(ke,De,tt):Jt(ke,De))||tt);return rt>3&&tt&&Object.defineProperty(ke,De,tt),tt}function Pe(Se,ke,De,Re){return new(De||(De=Promise))(function(tt,Jt){function Gt(Je){try{nt(Re.next(Je))}catch(Et){Jt(Et)}}function mt(Je){try{nt(Re.throw(Je))}catch(Et){Jt(Et)}}function nt(Je){Je.done?tt(Je.value):function rt(tt){return tt instanceof De?tt:new De(function(Jt){Jt(tt)})}(Je.value).then(Gt,mt)}nt((Re=Re.apply(Se,ke||[])).next())})}function Ve(Se){return this instanceof Ve?(this.v=Se,this):new Ve(Se)}function fe(Se,ke,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,Re=De.apply(Se,ke||[]),tt=[];return rt={},Jt("next"),Jt("throw"),Jt("return"),rt[Symbol.asyncIterator]=function(){return this},rt;function Jt(pt){Re[pt]&&(rt[pt]=function(Dt){return new Promise(function(_t,Ft){tt.push([pt,Dt,_t,Ft])>1||Gt(pt,Dt)})})}function Gt(pt,Dt){try{!function mt(pt){pt.value instanceof Ve?Promise.resolve(pt.value.v).then(nt,Je):Et(tt[0][2],pt)}(Re[pt](Dt))}catch(_t){Et(tt[0][3],_t)}}function nt(pt){Gt("next",pt)}function Je(pt){Gt("throw",pt)}function Et(pt,Dt){pt(Dt),tt.shift(),tt.length&&Gt(tt[0][0],tt[0][1])}}function vt(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,ke=Se[Symbol.asyncIterator];return ke?ke.call(Se):(Se=function Be(Se){var ke="function"==typeof Symbol&&Symbol.iterator,De=ke&&Se[ke],Re=0;if(De)return De.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&Re>=Se.length&&(Se=void 0),{value:Se&&Se[Re++],done:!Se}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),De={},Re("next"),Re("throw"),Re("return"),De[Symbol.asyncIterator]=function(){return this},De);function Re(tt){De[tt]=Se[tt]&&function(Jt){return new Promise(function(Gt,mt){!function rt(tt,Jt,Gt,mt){Promise.resolve(mt).then(function(nt){tt({value:nt,done:Gt})},Jt)}(Gt,mt,(Jt=Se[tt](Jt)).done,Jt.value)})}}}L.d(ht,{FC:()=>fe,KL:()=>vt,_T:()=>Ce,gn:()=>Ie,mG:()=>Pe,qq:()=>Ve})},9808:(nn,ht,L)=>{"use strict";L.d(ht,{Do:()=>lt,EM:()=>is,H9:()=>Zs,HT:()=>Ie,JF:()=>Zi,K0:()=>ge,Mn:()=>nt,Mx:()=>Rr,NF:()=>ar,O5:()=>X,OU:()=>ma,PC:()=>fn,PM:()=>Ys,S$:()=>Ve,Tn:()=>Re,UT:()=>Je,V_:()=>Ne,Ye:()=>Qe,b0:()=>vt,bD:()=>qr,ez:()=>Qo,lw:()=>Pe,mr:()=>_e,p6:()=>ur,q:()=>Q,sg:()=>pr,tP:()=>wn,w_:()=>ae,x:()=>De});var b=L(5e3);let s=null;function Q(){return s}function Ie(z){s||(s=z)}class ae{}const ge=new b.OlP("DocumentToken");let Pe=(()=>{class z{historyGo(G){throw new Error("Not implemented")}}return z.\u0275fac=function(G){return new(G||z)},z.\u0275prov=b.Yz7({token:z,factory:function(){return function Ze(){return(0,b.LFG)(de)}()},providedIn:"platform"}),z})();const Ne=new b.OlP("Location Initialized");let de=(()=>{class z extends Pe{constructor(G){super(),this._doc=G,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(G){const ce=Q().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",G,!1),()=>ce.removeEventListener("popstate",G)}onHashChange(G){const ce=Q().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",G,!1),()=>ce.removeEventListener("hashchange",G)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(G){this.location.pathname=G}pushState(G,ce,He){Be()?this._history.pushState(G,ce,He):this.location.hash=He}replaceState(G,ce,He){Be()?this._history.replaceState(G,ce,He):this.location.hash=He}forward(){this._history.forward()}back(){this._history.back()}historyGo(G=0){this._history.go(G)}getState(){return this._history.state}}return z.\u0275fac=function(G){return new(G||z)(b.LFG(ge))},z.\u0275prov=b.Yz7({token:z,factory:function(){return function Te(){return new de((0,b.LFG)(ge))}()},providedIn:"platform"}),z})();function Be(){return!!window.history.pushState}function je(z,oe){if(0==z.length)return oe;if(0==oe.length)return z;let G=0;return z.endsWith("/")&&G++,oe.startsWith("/")&&G++,2==G?z+oe.substring(1):1==G?z+oe:z+"/"+oe}function it(z){const oe=z.match(/#|\?|$/),G=oe&&oe.index||z.length;return z.slice(0,G-("/"===z[G-1]?1:0))+z.slice(G)}function Le(z){return z&&"?"!==z[0]?"?"+z:z}let Ve=(()=>{class z{historyGo(G){throw new Error("Not implemented")}}return z.\u0275fac=function(G){return new(G||z)},z.\u0275prov=b.Yz7({token:z,factory:function(){return function fe(z){const oe=(0,b.LFG)(ge).location;return new vt((0,b.LFG)(Pe),oe&&oe.origin||"")}()},providedIn:"root"}),z})();const _e=new b.OlP("appBaseHref");let vt=(()=>{class z extends Ve{constructor(G,ce){if(super(),this._platformLocation=G,this._removeListenerFns=[],null==ce&&(ce=this._platformLocation.getBaseHrefFromDOM()),null==ce)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ce}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}prepareExternalUrl(G){return je(this._baseHref,G)}path(G=!1){const ce=this._platformLocation.pathname+Le(this._platformLocation.search),He=this._platformLocation.hash;return He&&G?`${ce}${He}`:ce}pushState(G,ce,He,Pt){const qt=this.prepareExternalUrl(He+Le(Pt));this._platformLocation.pushState(G,ce,qt)}replaceState(G,ce,He,Pt){const qt=this.prepareExternalUrl(He+Le(Pt));this._platformLocation.replaceState(G,ce,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(G=0){var ce,He;null===(He=(ce=this._platformLocation).historyGo)||void 0===He||He.call(ce,G)}}return z.\u0275fac=function(G){return new(G||z)(b.LFG(Pe),b.LFG(_e,8))},z.\u0275prov=b.Yz7({token:z,factory:z.\u0275fac}),z})(),lt=(()=>{class z extends Ve{constructor(G,ce){super(),this._platformLocation=G,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}path(G=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(G){const ce=je(this._baseHref,G);return ce.length>0?"#"+ce:ce}pushState(G,ce,He,Pt){let qt=this.prepareExternalUrl(He+Le(Pt));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.pushState(G,ce,qt)}replaceState(G,ce,He,Pt){let qt=this.prepareExternalUrl(He+Le(Pt));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.replaceState(G,ce,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(G=0){var ce,He;null===(He=(ce=this._platformLocation).historyGo)||void 0===He||He.call(ce,G)}}return z.\u0275fac=function(G){return new(G||z)(b.LFG(Pe),b.LFG(_e,8))},z.\u0275prov=b.Yz7({token:z,factory:z.\u0275fac}),z})(),Qe=(()=>{class z{constructor(G,ce){this._subject=new b.vpe,this._urlChangeListeners=[],this._platformStrategy=G;const He=this._platformStrategy.getBaseHref();this._platformLocation=ce,this._baseHref=it(Ae(He)),this._platformStrategy.onPopState(Pt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Pt.state,type:Pt.type})})}path(G=!1){return this.normalize(this._platformStrategy.path(G))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(G,ce=""){return this.path()==this.normalize(G+Le(ce))}normalize(G){return z.stripTrailingSlash(function Ye(z,oe){return z&&oe.startsWith(z)?oe.substring(z.length):oe}(this._baseHref,Ae(G)))}prepareExternalUrl(G){return G&&"/"!==G[0]&&(G="/"+G),this._platformStrategy.prepareExternalUrl(G)}go(G,ce="",He=null){this._platformStrategy.pushState(He,"",G,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+Le(ce)),He)}replaceState(G,ce="",He=null){this._platformStrategy.replaceState(He,"",G,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+Le(ce)),He)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(G=0){var ce,He;null===(He=(ce=this._platformStrategy).historyGo)||void 0===He||He.call(ce,G)}onUrlChange(G){this._urlChangeListeners.push(G),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)}))}_notifyUrlChangeListeners(G="",ce){this._urlChangeListeners.forEach(He=>He(G,ce))}subscribe(G,ce,He){return this._subject.subscribe({next:G,error:ce,complete:He})}}return z.normalizeQueryParams=Le,z.joinWithSlash=je,z.stripTrailingSlash=it,z.\u0275fac=function(G){return new(G||z)(b.LFG(Ve),b.LFG(Pe))},z.\u0275prov=b.Yz7({token:z,factory:function(){return function We(){return new Qe((0,b.LFG)(Ve),(0,b.LFG)(Pe))}()},providedIn:"root"}),z})();function Ae(z){return z.replace(/\/index.html$/,"")}const Ke={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Se=(()=>((Se=Se||{})[Se.Decimal=0]="Decimal",Se[Se.Percent=1]="Percent",Se[Se.Currency=2]="Currency",Se[Se.Scientific=3]="Scientific",Se))(),De=(()=>((De=De||{})[De.Format=0]="Format",De[De.Standalone=1]="Standalone",De))(),Re=(()=>((Re=Re||{})[Re.Narrow=0]="Narrow",Re[Re.Abbreviated=1]="Abbreviated",Re[Re.Wide=2]="Wide",Re[Re.Short=3]="Short",Re))(),rt=(()=>((rt=rt||{})[rt.Short=0]="Short",rt[rt.Medium=1]="Medium",rt[rt.Long=2]="Long",rt[rt.Full=3]="Full",rt))(),tt=(()=>((tt=tt||{})[tt.Decimal=0]="Decimal",tt[tt.Group=1]="Group",tt[tt.List=2]="List",tt[tt.PercentSign=3]="PercentSign",tt[tt.PlusSign=4]="PlusSign",tt[tt.MinusSign=5]="MinusSign",tt[tt.Exponential=6]="Exponential",tt[tt.SuperscriptingExponent=7]="SuperscriptingExponent",tt[tt.PerMille=8]="PerMille",tt[tt.Infinity=9]="Infinity",tt[tt.NaN=10]="NaN",tt[tt.TimeSeparator=11]="TimeSeparator",tt[tt.CurrencyDecimal=12]="CurrencyDecimal",tt[tt.CurrencyGroup=13]="CurrencyGroup",tt))();function nt(z,oe,G){const ce=(0,b.cg1)(z),Pt=Gn([ce[b.wAp.DaysFormat],ce[b.wAp.DaysStandalone]],oe);return Gn(Pt,G)}function Je(z,oe,G){const ce=(0,b.cg1)(z),Pt=Gn([ce[b.wAp.MonthsFormat],ce[b.wAp.MonthsStandalone]],oe);return Gn(Pt,G)}function _t(z,oe){return Gn((0,b.cg1)(z)[b.wAp.DateFormat],oe)}function Ft(z,oe){return Gn((0,b.cg1)(z)[b.wAp.TimeFormat],oe)}function Ot(z,oe){return Gn((0,b.cg1)(z)[b.wAp.DateTimeFormat],oe)}function Cn(z,oe){const G=(0,b.cg1)(z),ce=G[b.wAp.NumberSymbols][oe];if(void 0===ce){if(oe===tt.CurrencyDecimal)return G[b.wAp.NumberSymbols][tt.Decimal];if(oe===tt.CurrencyGroup)return G[b.wAp.NumberSymbols][tt.Group]}return ce}function ki(z){if(!z[b.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${z[b.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Gn(z,oe){for(let G=oe;G>-1;G--)if(void 0!==z[G])return z[G];throw new Error("Locale data API: locale data undefined")}function Kt(z){const[oe,G]=z.split(":");return{hours:+oe,minutes:+G}}const rr=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Nr={},cr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ni=(()=>((ni=ni||{})[ni.Short=0]="Short",ni[ni.ShortGMT=1]="ShortGMT",ni[ni.Long=2]="Long",ni[ni.Extended=3]="Extended",ni))(),hn=(()=>((hn=hn||{})[hn.FullYear=0]="FullYear",hn[hn.Month=1]="Month",hn[hn.Date=2]="Date",hn[hn.Hours=3]="Hours",hn[hn.Minutes=4]="Minutes",hn[hn.Seconds=5]="Seconds",hn[hn.FractionalSeconds=6]="FractionalSeconds",hn[hn.Day=7]="Day",hn))(),pn=(()=>((pn=pn||{})[pn.DayPeriods=0]="DayPeriods",pn[pn.Days=1]="Days",pn[pn.Months=2]="Months",pn[pn.Eras=3]="Eras",pn))();function ur(z,oe,G,ce){let He=function St(z){if(un(z))return z;if("number"==typeof z&&!isNaN(z))return new Date(z);if("string"==typeof z){if(z=z.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(z)){const[He,Pt=1,qt=1]=z.split("-").map(dn=>+dn);return jr(He,Pt-1,qt)}const G=parseFloat(z);if(!isNaN(z-G))return new Date(G);let ce;if(ce=z.match(rr))return function Xt(z){const oe=new Date(0);let G=0,ce=0;const He=z[8]?oe.setUTCFullYear:oe.setFullYear,Pt=z[8]?oe.setUTCHours:oe.setHours;z[9]&&(G=Number(z[9]+z[10]),ce=Number(z[9]+z[11])),He.call(oe,Number(z[1]),Number(z[2])-1,Number(z[3]));const qt=Number(z[4]||0)-G,dn=Number(z[5]||0)-ce,yi=Number(z[6]||0),xi=Math.floor(1e3*parseFloat("0."+(z[7]||0)));return Pt.call(oe,qt,dn,yi,xi),oe}(ce)}const oe=new Date(z);if(!un(oe))throw new Error(`Unable to convert "${z}" into a date`);return oe}(z);oe=xn(G,oe)||oe;let dn,qt=[];for(;oe;){if(dn=cr.exec(oe),!dn){qt.push(oe);break}{qt=qt.concat(dn.slice(1));const Ii=qt.pop();if(!Ii)break;oe=Ii}}let yi=He.getTimezoneOffset();ce&&(yi=ue(ce,yi),He=function ye(z,oe,G){const ce=G?-1:1,He=z.getTimezoneOffset();return function Me(z,oe){return(z=new Date(z.getTime())).setMinutes(z.getMinutes()+oe),z}(z,ce*(ue(oe,He)-He))}(He,ce,!0));let xi="";return qt.forEach(Ii=>{const ei=function Tt(z){if(Xe[z])return Xe[z];let oe;switch(z){case"G":case"GG":case"GGG":oe=ci(pn.Eras,Re.Abbreviated);break;case"GGGG":oe=ci(pn.Eras,Re.Wide);break;case"GGGGG":oe=ci(pn.Eras,Re.Narrow);break;case"y":oe=Ln(hn.FullYear,1,0,!1,!0);break;case"yy":oe=Ln(hn.FullYear,2,0,!0,!0);break;case"yyy":oe=Ln(hn.FullYear,3,0,!1,!0);break;case"yyyy":oe=Ln(hn.FullYear,4,0,!1,!0);break;case"Y":oe=ve(1);break;case"YY":oe=ve(2,!0);break;case"YYY":oe=ve(3);break;case"YYYY":oe=ve(4);break;case"M":case"L":oe=Ln(hn.Month,1,1);break;case"MM":case"LL":oe=Ln(hn.Month,2,1);break;case"MMM":oe=ci(pn.Months,Re.Abbreviated);break;case"MMMM":oe=ci(pn.Months,Re.Wide);break;case"MMMMM":oe=ci(pn.Months,Re.Narrow);break;case"LLL":oe=ci(pn.Months,Re.Abbreviated,De.Standalone);break;case"LLLL":oe=ci(pn.Months,Re.Wide,De.Standalone);break;case"LLLLL":oe=ci(pn.Months,Re.Narrow,De.Standalone);break;case"w":oe=qe(1);break;case"ww":oe=qe(2);break;case"W":oe=qe(1,!0);break;case"d":oe=Ln(hn.Date,1);break;case"dd":oe=Ln(hn.Date,2);break;case"c":case"cc":oe=Ln(hn.Day,1);break;case"ccc":oe=ci(pn.Days,Re.Abbreviated,De.Standalone);break;case"cccc":oe=ci(pn.Days,Re.Wide,De.Standalone);break;case"ccccc":oe=ci(pn.Days,Re.Narrow,De.Standalone);break;case"cccccc":oe=ci(pn.Days,Re.Short,De.Standalone);break;case"E":case"EE":case"EEE":oe=ci(pn.Days,Re.Abbreviated);break;case"EEEE":oe=ci(pn.Days,Re.Wide);break;case"EEEEE":oe=ci(pn.Days,Re.Narrow);break;case"EEEEEE":oe=ci(pn.Days,Re.Short);break;case"a":case"aa":case"aaa":oe=ci(pn.DayPeriods,Re.Abbreviated);break;case"aaaa":oe=ci(pn.DayPeriods,Re.Wide);break;case"aaaaa":oe=ci(pn.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":oe=ci(pn.DayPeriods,Re.Abbreviated,De.Standalone,!0);break;case"bbbb":oe=ci(pn.DayPeriods,Re.Wide,De.Standalone,!0);break;case"bbbbb":oe=ci(pn.DayPeriods,Re.Narrow,De.Standalone,!0);break;case"B":case"BB":case"BBB":oe=ci(pn.DayPeriods,Re.Abbreviated,De.Format,!0);break;case"BBBB":oe=ci(pn.DayPeriods,Re.Wide,De.Format,!0);break;case"BBBBB":oe=ci(pn.DayPeriods,Re.Narrow,De.Format,!0);break;case"h":oe=Ln(hn.Hours,1,-12);break;case"hh":oe=Ln(hn.Hours,2,-12);break;case"H":oe=Ln(hn.Hours,1);break;case"HH":oe=Ln(hn.Hours,2);break;case"m":oe=Ln(hn.Minutes,1);break;case"mm":oe=Ln(hn.Minutes,2);break;case"s":oe=Ln(hn.Seconds,1);break;case"ss":oe=Ln(hn.Seconds,2);break;case"S":oe=Ln(hn.FractionalSeconds,1);break;case"SS":oe=Ln(hn.FractionalSeconds,2);break;case"SSS":oe=Ln(hn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":oe=zt(ni.Short);break;case"ZZZZZ":oe=zt(ni.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":oe=zt(ni.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":oe=zt(ni.Long);break;default:return null}return Xe[z]=oe,oe}(Ii);xi+=ei?ei(He,G,yi):"''"===Ii?"'":Ii.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),xi}function jr(z,oe,G){const ce=new Date(0);return ce.setFullYear(z,oe,G),ce.setHours(0,0,0),ce}function xn(z,oe){const G=function Gt(z){return(0,b.cg1)(z)[b.wAp.LocaleId]}(z);if(Nr[G]=Nr[G]||{},Nr[G][oe])return Nr[G][oe];let ce="";switch(oe){case"shortDate":ce=_t(z,rt.Short);break;case"mediumDate":ce=_t(z,rt.Medium);break;case"longDate":ce=_t(z,rt.Long);break;case"fullDate":ce=_t(z,rt.Full);break;case"shortTime":ce=Ft(z,rt.Short);break;case"mediumTime":ce=Ft(z,rt.Medium);break;case"longTime":ce=Ft(z,rt.Long);break;case"fullTime":ce=Ft(z,rt.Full);break;case"short":const He=xn(z,"shortTime"),Pt=xn(z,"shortDate");ce=Fi(Ot(z,rt.Short),[He,Pt]);break;case"medium":const qt=xn(z,"mediumTime"),dn=xn(z,"mediumDate");ce=Fi(Ot(z,rt.Medium),[qt,dn]);break;case"long":const yi=xn(z,"longTime"),xi=xn(z,"longDate");ce=Fi(Ot(z,rt.Long),[yi,xi]);break;case"full":const Ii=xn(z,"fullTime"),ei=xn(z,"fullDate");ce=Fi(Ot(z,rt.Full),[Ii,ei])}return ce&&(Nr[G][oe]=ce),ce}function Fi(z,oe){return oe&&(z=z.replace(/\{([^}]+)}/g,function(G,ce){return null!=oe&&ce in oe?oe[ce]:G})),z}function Ti(z,oe,G="-",ce,He){let Pt="";(z<0||He&&z<=0)&&(He?z=1-z:(z=-z,Pt=G));let qt=String(z);for(;qt.length<oe;)qt="0"+qt;return ce&&(qt=qt.substr(qt.length-oe)),Pt+qt}function Ln(z,oe,G=0,ce=!1,He=!1){return function(Pt,qt){let dn=function or(z,oe){switch(z){case hn.FullYear:return oe.getFullYear();case hn.Month:return oe.getMonth();case hn.Date:return oe.getDate();case hn.Hours:return oe.getHours();case hn.Minutes:return oe.getMinutes();case hn.Seconds:return oe.getSeconds();case hn.FractionalSeconds:return oe.getMilliseconds();case hn.Day:return oe.getDay();default:throw new Error(`Unknown DateType value "${z}".`)}}(z,Pt);if((G>0||dn>-G)&&(dn+=G),z===hn.Hours)0===dn&&-12===G&&(dn=12);else if(z===hn.FractionalSeconds)return function Li(z,oe){return Ti(z,3).substr(0,oe)}(dn,oe);const yi=Cn(qt,tt.MinusSign);return Ti(dn,oe,yi,ce,He)}}function ci(z,oe,G=De.Format,ce=!1){return function(He,Pt){return function cn(z,oe,G,ce,He,Pt){switch(G){case pn.Months:return Je(oe,He,ce)[z.getMonth()];case pn.Days:return nt(oe,He,ce)[z.getDay()];case pn.DayPeriods:const qt=z.getHours(),dn=z.getMinutes();if(Pt){const xi=function gi(z){const oe=(0,b.cg1)(z);return ki(oe),(oe[b.wAp.ExtraData][2]||[]).map(ce=>"string"==typeof ce?Kt(ce):[Kt(ce[0]),Kt(ce[1])])}(oe),Ii=function bn(z,oe,G){const ce=(0,b.cg1)(z);ki(ce);const Pt=Gn([ce[b.wAp.ExtraData][0],ce[b.wAp.ExtraData][1]],oe)||[];return Gn(Pt,G)||[]}(oe,He,ce),ei=xi.findIndex(xr=>{if(Array.isArray(xr)){const[gr,tr]=xr,Er=qt>=gr.hours&&dn>=gr.minutes,Gr=qt<tr.hours||qt===tr.hours&&dn<tr.minutes;if(gr.hours<tr.hours){if(Er&&Gr)return!0}else if(Er||Gr)return!0}else if(xr.hours===qt&&xr.minutes===dn)return!0;return!1});if(-1!==ei)return Ii[ei]}return function mt(z,oe,G){const ce=(0,b.cg1)(z),Pt=Gn([ce[b.wAp.DayPeriodsFormat],ce[b.wAp.DayPeriodsStandalone]],oe);return Gn(Pt,G)}(oe,He,ce)[qt<12?0:1];case pn.Eras:return function Et(z,oe){return Gn((0,b.cg1)(z)[b.wAp.Eras],oe)}(oe,ce)[z.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${G}`)}}(He,Pt,z,oe,G,ce)}}function zt(z){return function(oe,G,ce){const He=-1*ce,Pt=Cn(G,tt.MinusSign),qt=He>0?Math.floor(He/60):Math.ceil(He/60);switch(z){case ni.Short:return(He>=0?"+":"")+Ti(qt,2,Pt)+Ti(Math.abs(He%60),2,Pt);case ni.ShortGMT:return"GMT"+(He>=0?"+":"")+Ti(qt,1,Pt);case ni.Long:return"GMT"+(He>=0?"+":"")+Ti(qt,2,Pt)+":"+Ti(Math.abs(He%60),2,Pt);case ni.Extended:return 0===ce?"Z":(He>=0?"+":"")+Ti(qt,2,Pt)+":"+Ti(Math.abs(He%60),2,Pt);default:throw new Error(`Unknown zone width "${z}"`)}}}function zn(z){return jr(z.getFullYear(),z.getMonth(),z.getDate()+(4-z.getDay()))}function qe(z,oe=!1){return function(G,ce){let He;if(oe){const Pt=new Date(G.getFullYear(),G.getMonth(),1).getDay()-1,qt=G.getDate();He=1+Math.floor((qt+Pt)/7)}else{const Pt=zn(G),qt=function Bn(z){const oe=jr(z,0,1).getDay();return jr(z,0,1+(oe<=4?4:11)-oe)}(Pt.getFullYear()),dn=Pt.getTime()-qt.getTime();He=1+Math.round(dn/6048e5)}return Ti(He,z,Cn(ce,tt.MinusSign))}}function ve(z,oe=!1){return function(G,ce){return Ti(zn(G).getFullYear(),z,Cn(ce,tt.MinusSign),oe)}}const Xe={};function ue(z,oe){z=z.replace(/:/g,"");const G=Date.parse("Jan 01, 1970 00:00:00 "+z)/6e4;return isNaN(G)?oe:G}function un(z){return z instanceof Date&&!isNaN(z.valueOf())}const En=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Yn(z,oe,G,ce,He){const qt=function hi(z,oe="-"){const G={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ce=z.split(";"),He=ce[0],Pt=ce[1],qt=-1!==He.indexOf(".")?He.split("."):[He.substring(0,He.lastIndexOf("0")+1),He.substring(He.lastIndexOf("0")+1)],dn=qt[0],yi=qt[1]||"";G.posPre=dn.substr(0,dn.indexOf("#"));for(let Ii=0;Ii<yi.length;Ii++){const ei=yi.charAt(Ii);"0"===ei?G.minFrac=G.maxFrac=Ii+1:"#"===ei?G.maxFrac=Ii+1:G.posSuf+=ei}const xi=dn.split(",");if(G.gSize=xi[1]?xi[1].length:0,G.lgSize=xi[2]||xi[1]?(xi[2]||xi[1]).length:0,Pt){const Ii=He.length-G.posPre.length-G.posSuf.length,ei=Pt.indexOf("#");G.negPre=Pt.substr(0,ei).replace(/'/g,""),G.negSuf=Pt.substr(ei+Ii).replace(/'/g,"")}else G.negPre=oe+G.posPre,G.negSuf=G.posSuf;return G}(function ti(z,oe){return(0,b.cg1)(z)[b.wAp.NumberFormats][oe]}(oe,Se.Currency),Cn(oe,tt.MinusSign));return qt.minFrac=function zi(z){let oe;const G=Ke[z];return G&&(oe=G[2]),"number"==typeof oe?oe:2}(ce),qt.maxFrac=qt.minFrac,function Jr(z,oe,G,ce,He,Pt,qt=!1){let dn="",yi=!1;if(isFinite(z)){let xi=function Ir(z){let ce,He,Pt,qt,dn,oe=Math.abs(z)+"",G=0;for((He=oe.indexOf("."))>-1&&(oe=oe.replace(".","")),(Pt=oe.search(/e/i))>0?(He<0&&(He=Pt),He+=+oe.slice(Pt+1),oe=oe.substring(0,Pt)):He<0&&(He=oe.length),Pt=0;"0"===oe.charAt(Pt);Pt++);if(Pt===(dn=oe.length))ce=[0],He=1;else{for(dn--;"0"===oe.charAt(dn);)dn--;for(He-=Pt,ce=[],qt=0;Pt<=dn;Pt++,qt++)ce[qt]=Number(oe.charAt(Pt))}return He>22&&(ce=ce.splice(0,21),G=He-1,He=1),{digits:ce,exponent:G,integerLen:He}}(z);qt&&(xi=function fr(z){if(0===z.digits[0])return z;const oe=z.digits.length-z.integerLen;return z.exponent?z.exponent+=2:(0===oe?z.digits.push(0,0):1===oe&&z.digits.push(0),z.integerLen+=2),z}(xi));let Ii=oe.minInt,ei=oe.minFrac,xr=oe.maxFrac;if(Pt){const xs=Pt.match(En);if(null===xs)throw new Error(`${Pt} is not a valid digit info`);const Js=xs[1],ss=xs[3],os=xs[5];null!=Js&&(Ii=Ar(Js)),null!=ss&&(ei=Ar(ss)),null!=os?xr=Ar(os):null!=ss&&ei>xr&&(xr=ei)}!function wi(z,oe,G){if(oe>G)throw new Error(`The minimum number of digits after fraction (${oe}) is higher than the maximum (${G}).`);let ce=z.digits,He=ce.length-z.integerLen;const Pt=Math.min(Math.max(oe,He),G);let qt=Pt+z.integerLen,dn=ce[qt];if(qt>0){ce.splice(Math.max(z.integerLen,qt));for(let ei=qt;ei<ce.length;ei++)ce[ei]=0}else{He=Math.max(0,He),z.integerLen=1,ce.length=Math.max(1,qt=Pt+1),ce[0]=0;for(let ei=1;ei<qt;ei++)ce[ei]=0}if(dn>=5)if(qt-1<0){for(let ei=0;ei>qt;ei--)ce.unshift(0),z.integerLen++;ce.unshift(1),z.integerLen++}else ce[qt-1]++;for(;He<Math.max(0,Pt);He++)ce.push(0);let yi=0!==Pt;const xi=oe+z.integerLen,Ii=ce.reduceRight(function(ei,xr,gr,tr){return tr[gr]=(xr+=ei)<10?xr:xr-10,yi&&(0===tr[gr]&&gr>=xi?tr.pop():yi=!1),xr>=10?1:0},0);Ii&&(ce.unshift(Ii),z.integerLen++)}(xi,ei,xr);let gr=xi.digits,tr=xi.integerLen;const Er=xi.exponent;let Gr=[];for(yi=gr.every(xs=>!xs);tr<Ii;tr++)gr.unshift(0);for(;tr<0;tr++)gr.unshift(0);tr>0?Gr=gr.splice(tr,gr.length):(Gr=gr,gr=[0]);const Rn=[];for(gr.length>=oe.lgSize&&Rn.unshift(gr.splice(-oe.lgSize,gr.length).join(""));gr.length>oe.gSize;)Rn.unshift(gr.splice(-oe.gSize,gr.length).join(""));gr.length&&Rn.unshift(gr.join("")),dn=Rn.join(Cn(G,ce)),Gr.length&&(dn+=Cn(G,He)+Gr.join("")),Er&&(dn+=Cn(G,tt.Exponential)+"+"+Er)}else dn=Cn(G,tt.Infinity);return dn=z<0&&!yi?oe.negPre+dn+oe.negSuf:oe.posPre+dn+oe.posSuf,dn}(z,qt,oe,tt.CurrencyGroup,tt.CurrencyDecimal,He).replace("\xa4",G).replace("\xa4","").trim()}function Ar(z){const oe=parseInt(z);if(isNaN(oe))throw new Error("Invalid integer literal when parsing "+z);return oe}function Rr(z,oe){oe=encodeURIComponent(oe);for(const G of z.split(";")){const ce=G.indexOf("="),[He,Pt]=-1==ce?[G,""]:[G.slice(0,ce),G.slice(ce+1)];if(He.trim()===oe)return decodeURIComponent(Pt)}return null}class er{constructor(oe,G,ce,He){this.$implicit=oe,this.ngForOf=G,this.index=ce,this.count=He}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pr=(()=>{class z{constructor(G,ce,He){this._viewContainer=G,this._template=ce,this._differs=He,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(G){this._ngForOf=G,this._ngForOfDirty=!0}set ngForTrackBy(G){this._trackByFn=G}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(G){G&&(this._template=G)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const G=this._ngForOf;!this._differ&&G&&(this._differ=this._differs.find(G).create(this.ngForTrackBy))}if(this._differ){const G=this._differ.diff(this._ngForOf);G&&this._applyChanges(G)}}_applyChanges(G){const ce=this._viewContainer;G.forEachOperation((He,Pt,qt)=>{if(null==He.previousIndex)ce.createEmbeddedView(this._template,new er(He.item,this._ngForOf,-1,-1),null===qt?void 0:qt);else if(null==qt)ce.remove(null===Pt?void 0:Pt);else if(null!==Pt){const dn=ce.get(Pt);ce.move(dn,qt),zr(dn,He)}});for(let He=0,Pt=ce.length;He<Pt;He++){const dn=ce.get(He).context;dn.index=He,dn.count=Pt,dn.ngForOf=this._ngForOf}G.forEachIdentityChange(He=>{zr(ce.get(He.currentIndex),He)})}static ngTemplateContextGuard(G,ce){return!0}}return z.\u0275fac=function(G){return new(G||z)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))},z.\u0275dir=b.lG2({type:z,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),z})();function zr(z,oe){z.context.$implicit=oe.item}let X=(()=>{class z{constructor(G,ce){this._viewContainer=G,this._context=new he,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(G){this._context.$implicit=this._context.ngIf=G,this._updateView()}set ngIfThen(G){ct("ngIfThen",G),this._thenTemplateRef=G,this._thenViewRef=null,this._updateView()}set ngIfElse(G){ct("ngIfElse",G),this._elseTemplateRef=G,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(G,ce){return!0}}return z.\u0275fac=function(G){return new(G||z)(b.Y36(b.s_b),b.Y36(b.Rgc))},z.\u0275dir=b.lG2({type:z,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),z})();class he{constructor(){this.$implicit=null,this.ngIf=null}}function ct(z,oe){if(oe&&!oe.createEmbeddedView)throw new Error(`${z} must be a TemplateRef, but received '${(0,b.AaK)(oe)}'.`)}let fn=(()=>{class z{constructor(G,ce,He){this._ngEl=G,this._differs=ce,this._renderer=He,this._ngStyle=null,this._differ=null}set ngStyle(G){this._ngStyle=G,!this._differ&&G&&(this._differ=this._differs.find(G).create())}ngDoCheck(){if(this._differ){const G=this._differ.diff(this._ngStyle);G&&this._applyChanges(G)}}_setStyle(G,ce){const[He,Pt]=G.split(".");null!=(ce=null!=ce&&Pt?`${ce}${Pt}`:ce)?this._renderer.setStyle(this._ngEl.nativeElement,He,ce):this._renderer.removeStyle(this._ngEl.nativeElement,He)}_applyChanges(G){G.forEachRemovedItem(ce=>this._setStyle(ce.key,null)),G.forEachAddedItem(ce=>this._setStyle(ce.key,ce.currentValue)),G.forEachChangedItem(ce=>this._setStyle(ce.key,ce.currentValue))}}return z.\u0275fac=function(G){return new(G||z)(b.Y36(b.SBq),b.Y36(b.aQg),b.Y36(b.Qsj))},z.\u0275dir=b.lG2({type:z,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),z})(),wn=(()=>{class z{constructor(G){this._viewContainerRef=G,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(G){if(G.ngTemplateOutlet){const ce=this._viewContainerRef;this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ce.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&G.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return z.\u0275fac=function(G){return new(G||z)(b.Y36(b.s_b))},z.\u0275dir=b.lG2({type:z,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[b.TTD]}),z})();function oi(z,oe){return new b.vHH(2100,"")}let Zs=(()=>{class z{constructor(G,ce="USD"){this._locale=G,this._defaultCurrencyCode=ce}transform(G,ce=this._defaultCurrencyCode,He="symbol",Pt,qt){if(!function gs(z){return!(null==z||""===z||z!=z)}(G))return null;qt=qt||this._locale,"boolean"==typeof He&&(He=He?"symbol":"code");let dn=ce||this._defaultCurrencyCode;"code"!==He&&(dn="symbol"===He||"symbol-narrow"===He?function Di(z,oe,G="en"){const ce=function ai(z){return(0,b.cg1)(z)[b.wAp.Currencies]}(G)[z]||Ke[z]||[],He=ce[1];return"narrow"===oe&&"string"==typeof He?He:ce[0]||z}(dn,"symbol"===He?"wide":"narrow",qt):He);try{return Yn(function As(z){if("string"==typeof z&&!isNaN(Number(z)-parseFloat(z)))return Number(z);if("number"!=typeof z)throw new Error(`${z} is not a number`);return z}(G),qt,dn,ce,Pt)}catch(yi){throw oi()}}}return z.\u0275fac=function(G){return new(G||z)(b.Y36(b.soG,16),b.Y36(b.EJc,16))},z.\u0275pipe=b.Yjl({name:"currency",type:z,pure:!0}),z})();let ma=(()=>{class z{transform(G,ce,He){if(null==G)return null;if(!this.supports(G))throw oi();return G.slice(ce,He)}supports(G){return"string"==typeof G||Array.isArray(G)}}return z.\u0275fac=function(G){return new(G||z)},z.\u0275pipe=b.Yjl({name:"slice",type:z,pure:!1}),z})(),Qo=(()=>{class z{}return z.\u0275fac=function(G){return new(G||z)},z.\u0275mod=b.oAB({type:z}),z.\u0275inj=b.cJS({}),z})();const qr="browser";function ar(z){return z===qr}function Ys(z){return"server"===z}let is=(()=>{class z{}return z.\u0275prov=(0,b.Yz7)({token:z,providedIn:"root",factory:()=>new Vs((0,b.LFG)(ge),window)}),z})();class Vs{constructor(oe,G){this.document=oe,this.window=G,this.offset=()=>[0,0]}setOffset(oe){this.offset=Array.isArray(oe)?()=>oe:oe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(oe){this.supportsScrolling()&&this.window.scrollTo(oe[0],oe[1])}scrollToAnchor(oe){if(!this.supportsScrolling())return;const G=function Ks(z,oe){const G=z.getElementById(oe)||z.getElementsByName(oe)[0];if(G)return G;if("function"==typeof z.createTreeWalker&&z.body&&(z.body.createShadowRoot||z.body.attachShadow)){const ce=z.createTreeWalker(z.body,NodeFilter.SHOW_ELEMENT);let He=ce.currentNode;for(;He;){const Pt=He.shadowRoot;if(Pt){const qt=Pt.getElementById(oe)||Pt.querySelector(`[name="${oe}"]`);if(qt)return qt}He=ce.nextNode()}}return null}(this.document,oe);G&&(this.scrollToElement(G),G.focus())}setHistoryScrollRestoration(oe){if(this.supportScrollRestoration()){const G=this.window.history;G&&G.scrollRestoration&&(G.scrollRestoration=oe)}}scrollToElement(oe){const G=oe.getBoundingClientRect(),ce=G.left+this.window.pageXOffset,He=G.top+this.window.pageYOffset,Pt=this.offset();this.window.scrollTo(ce-Pt[0],He-Pt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const oe=rs(this.window.history)||rs(Object.getPrototypeOf(this.window.history));return!(!oe||!oe.writable&&!oe.set)}catch(oe){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(oe){return!1}}}function rs(z){return Object.getOwnPropertyDescriptor(z,"scrollRestoration")}class Zi{}},5e3:(nn,ht,L)=>{"use strict";L.d(ht,{$8M:()=>xo,$Z:()=>Fs,$Z9:()=>vp,AFp:()=>J1,ALo:()=>np,AaK:()=>Pe,AsE:()=>d_,CHM:()=>re,CRH:()=>UC,CZH:()=>XC,CqO:()=>e_,Dn7:()=>fb,EJc:()=>qw,EpF:()=>R0,F$t:()=>n_,F4k:()=>Xm,FYo:()=>bC,FiY:()=>No,G48:()=>mT,Gf:()=>LC,GfV:()=>E1,GkF:()=>Jm,Gpc:()=>de,Hsn:()=>qf,Ikx:()=>y_,JOm:()=>kc,LFG:()=>qn,LSH:()=>Pc,Lbi:()=>tT,MAs:()=>bg,MGl:()=>Yc,NdJ:()=>yc,OlP:()=>Xr,Oqu:()=>u_,PXZ:()=>cE,Q6J:()=>x0,QGY:()=>Qm,Qsj:()=>CC,QtT:()=>fs,R0b:()=>pd,RDi:()=>rs,Rgc:()=>Uv,SBq:()=>S_,SDv:()=>mC,Sil:()=>Kw,Suo:()=>BC,TTD:()=>gs,TgZ:()=>Hh,Tol:()=>uv,Udp:()=>xg,VKq:()=>eo,VLi:()=>lT,W1O:()=>vb,WLB:()=>Bv,X6Q:()=>gT,XFs:()=>bn,Xpm:()=>zn,Y36:()=>zf,YKP:()=>I1,YNc:()=>vg,Yjl:()=>Xt,Yz7:()=>_t,ZZ4:()=>Pb,_Bn:()=>sb,_UZ:()=>Qy,_Vd:()=>Fv,_c5:()=>NT,_uU:()=>Su,aQg:()=>kb,c2e:()=>iT,cJS:()=>Ot,cg1:()=>Wh,dDg:()=>oE,deG:()=>nf,dqk:()=>xn,eFA:()=>lp,ekj:()=>Kd,f3M:()=>Ki,g9A:()=>eT,gM2:()=>R_,h0i:()=>M_,hGG:()=>RT,hij:()=>Jc,iGM:()=>FC,ifc:()=>ni,ip1:()=>K1,kEZ:()=>cb,kL8:()=>ja,lG2:()=>St,n5z:()=>yd,oAB:()=>ue,oxw:()=>Xy,pQV:()=>nb,q4F:()=>T1,qLn:()=>hf,qOj:()=>Nh,qZA:()=>wg,s9C:()=>i_,sBO:()=>_T,sIi:()=>wu,s_b:()=>gb,soG:()=>tE,tBr:()=>Ta,tb:()=>nT,tp0:()=>Rl,uIk:()=>mg,vHH:()=>it,vpe:()=>th,wAp:()=>ri,xi3:()=>N_,xp6:()=>hy,z2F:()=>Sb,zSh:()=>ag,zs3:()=>Cl});var b=L(7579),s=L(727),Q=L(8306),Ce=L(6451),Ie=L(3099);function ae(a){for(let l in a)if(a[l]===ae)return l;throw Error("Could not find renamed property on target object.")}function ge(a,l){for(const d in l)l.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=l[d])}function Pe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Pe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const d=l.indexOf("\n");return-1===d?l:l.substring(0,d)}function Ze(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Ne=ae({__forward_ref__:ae});function de(a){return a.__forward_ref__=de,a.toString=function(){return Pe(this())},a}function Be(a){return Te(a)?a():a}function Te(a){return"function"==typeof a&&a.hasOwnProperty(Ne)&&a.__forward_ref__===de}class it extends Error{constructor(l,d){super(function Le(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,d)),this.code=l}}function Ve(a){return"string"==typeof a?a:null==a?"":String(a)}function fe(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ve(a)}function Qe(a,l){const d=l?` in ${l}`:"";throw new it(-201,`No provider for ${fe(a)} found${d}`)}function Je(a,l,d,p){throw new Error(`ASSERTION ERROR: ${a}`+(null==p?"":` [Expected=> ${d} ${p} ${l} <=Actual]`))}function _t(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Ot(a){return{providers:a.providers||[],imports:a.imports||[]}}function Cn(a){return ti(a,ai)||ti(a,ki)}function ti(a,l){return a.hasOwnProperty(l)?a[l]:null}function Hn(a){return a&&(a.hasOwnProperty(jn)||a.hasOwnProperty(gi))?a[jn]:null}const ai=ae({\u0275prov:ae}),jn=ae({\u0275inj:ae}),ki=ae({ngInjectableDef:ae}),gi=ae({ngInjectorDef:ae});var bn=(()=>((bn=bn||{})[bn.Default=0]="Default",bn[bn.Host=1]="Host",bn[bn.Self=2]="Self",bn[bn.SkipSelf=4]="SkipSelf",bn[bn.Optional=8]="Optional",bn))();let Qn;function Kt(a){const l=Qn;return Qn=a,l}function Di(a,l,d){const p=Cn(a);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:d&bn.Optional?null:void 0!==l?l:void Qe(Pe(a),"Injector")}function zi(a){return{toString:a}.toString()}var rr=(()=>((rr=rr||{})[rr.OnPush=0]="OnPush",rr[rr.Default=1]="Default",rr))(),ni=(()=>{return(a=ni||(ni={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",ni;var a})();const hn="undefined"!=typeof globalThis&&globalThis,pn="undefined"!=typeof window&&window,ur="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xn=hn||"undefined"!=typeof global&&global||pn||ur,Li={},Ln=[],or=ae({\u0275cmp:ae}),ci=ae({\u0275dir:ae}),cn=ae({\u0275pipe:ae}),zt=ae({\u0275mod:ae}),mn=ae({\u0275fac:ae}),ln=ae({__NG_ELEMENT_ID__:ae});let Bn=0;function zn(a){return zi(()=>{const d={},p={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===rr.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Ln,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||ni.Emulated,id:"c",styles:a.styles||Ln,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.directives,v=a.features,I=a.pipes;return p.id+=Bn++,p.inputs=ye(a.inputs,d),p.outputs=ye(a.outputs),v&&v.forEach(N=>N(p)),p.directiveDefs=m?()=>("function"==typeof m?m():m).map(ve):null,p.pipeDefs=I?()=>("function"==typeof I?I():I).map(Xe):null,p})}function ve(a){return un(a)||function En(a){return a[ci]||null}(a)}function Xe(a){return function sn(a){return a[cn]||null}(a)}const Tt={};function ue(a){return zi(()=>{const l={type:a.type,bootstrap:a.bootstrap||Ln,declarations:a.declarations||Ln,imports:a.imports||Ln,exports:a.exports||Ln,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Tt[a.id]=a.type),l})}function ye(a,l){if(null==a)return Li;const d={};for(const p in a)if(a.hasOwnProperty(p)){let m=a[p],v=m;Array.isArray(m)&&(v=m[1],m=m[0]),d[m]=p,l&&(l[m]=v)}return d}const St=zn;function Xt(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function un(a){return a[or]||null}function Un(a,l){const d=a[zt]||null;if(!d&&!0===l)throw new Error(`Type ${Pe(a)} does not have '\u0275mod' property.`);return d}const X=19;function be(a){return Array.isArray(a)&&"object"==typeof a[1]}function $e(a){return Array.isArray(a)&&!0===a[1]}function bt(a){return 0!=(8&a.flags)}function Rt(a){return 2==(2&a.flags)}function Lt(a){return 1==(1&a.flags)}function jt(a){return null!==a.template}function fn(a){return 0!=(512&a[2])}function br(a,l){return a.hasOwnProperty(mn)?a[mn]:null}class Zs{constructor(l,d,p){this.previousValue=l,this.currentValue=d,this.firstChange=p}isFirstChange(){return this.firstChange}}function gs(){return As}function As(a){return a.type.prototype.ngOnChanges&&(a.setInput=Ss),ma}function ma(){const a=qr(this),l=null==a?void 0:a.current;if(l){const d=a.previous;if(d===Li)a.previous=l;else for(let p in l)d[p]=l[p];a.current=null,this.ngOnChanges(l)}}function Ss(a,l,d,p){const m=qr(a)||function us(a,l){return a[Qo]=l}(a,{previous:Li,current:null}),v=m.current||(m.current={}),I=m.previous,N=this.declaredInputs[d],U=I[N];v[N]=new Zs(U&&U.currentValue,l,I===Li),a[p]=l}gs.ngInherit=!0;const Qo="__ngSimpleChanges__";function qr(a){return a[Qo]||null}let Vs;function rs(a){Vs=a}function Ks(){return void 0!==Vs?Vs:"undefined"!=typeof document?document:void 0}function Zi(a){return!!a.listen}const z={createRenderer:(a,l)=>Ks()};function G(a){for(;Array.isArray(a);)a=a[0];return a}function Pt(a,l){return G(l[a])}function qt(a,l){return G(l[a.index])}function yi(a,l){return a.data[l]}function xi(a,l){return a[l]}function Ii(a,l){const d=l[a];return be(d)?d:d[0]}function ei(a){return 4==(4&a[2])}function xr(a){return 128==(128&a[2])}function tr(a,l){return null==l?null:a[l]}function Er(a){a[18]=0}function Gr(a,l){a[5]+=l;let d=a,p=a[3];for(;null!==p&&(1===l&&1===d[5]||-1===l&&0===d[5]);)p[5]+=l,d=p,p=p[3]}const Rn={lFrame:na(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function q(){return Rn.bindingsEnabled}function T(){return Rn.lFrame.lView}function R(){return Rn.lFrame.tView}function re(a){return Rn.lFrame.contextLView=a,a[8]}function Ee(){let a=st();for(;null!==a&&64===a.type;)a=a.parent;return a}function st(){return Rn.lFrame.currentTNode}function Mt(){const a=Rn.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function Yt(a,l){const d=Rn.lFrame;d.currentTNode=a,d.isParent=l}function Dn(){return Rn.lFrame.isParent}function _n(){Rn.lFrame.isParent=!1}function Tr(){return Rn.isInCheckNoChangesMode}function nr(a){Rn.isInCheckNoChangesMode=a}function Wi(){const a=Rn.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function wr(){return Rn.lFrame.bindingIndex}function mr(){return Rn.lFrame.bindingIndex++}function Ur(a){const l=Rn.lFrame,d=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,d}function Pi(a){Rn.lFrame.inI18n=a}function as(a,l){const d=Rn.lFrame;d.bindingIndex=d.bindingRootIndex=a,$o(l)}function $o(a){Rn.lFrame.currentDirectiveIndex=a}function _a(){return Rn.lFrame.currentQueryIndex}function Ma(a){Rn.lFrame.currentQueryIndex=a}function Sl(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function xa(a,l,d){if(d&bn.SkipSelf){let m=l,v=a;for(;!(m=m.parent,null!==m||d&bn.Host||(m=Sl(v),null===m||(v=v[15],10&m.type))););if(null===m)return!1;l=m,a=v}const p=Rn.lFrame=ta();return p.currentTNode=l,p.lView=a,!0}function Wa(a){const l=ta(),d=a[1];Rn.lFrame=l,l.currentTNode=d.firstChild,l.lView=a,l.tView=d,l.contextLView=a,l.bindingIndex=d.bindingStartIndex,l.inI18n=!1}function ta(){const a=Rn.lFrame,l=null===a?null:a.child;return null===l?na(a):l}function na(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Yl(){const a=Rn.lFrame;return Rn.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Kl=Yl;function Ho(){const a=Yl();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Qs(){return Rn.lFrame.selectedIndex}function Oa(a){Rn.lFrame.selectedIndex=a}function ms(){const a=Rn.lFrame;return yi(a.tView,a.selectedIndex)}function ya(a,l){for(let d=l.directiveStart,p=l.directiveEnd;d<p;d++){const v=a.data[d].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:N,ngAfterViewInit:U,ngAfterViewChecked:K,ngOnDestroy:se}=v;I&&(a.contentHooks||(a.contentHooks=[])).push(-d,I),N&&((a.contentHooks||(a.contentHooks=[])).push(d,N),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(d,N)),U&&(a.viewHooks||(a.viewHooks=[])).push(-d,U),K&&((a.viewHooks||(a.viewHooks=[])).push(d,K),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(d,K)),null!=se&&(a.destroyHooks||(a.destroyHooks=[])).push(d,se)}}function Ra(a,l,d){sl(a,l,3,d)}function jo(a,l,d,p){(3&a[2])===d&&sl(a,l,d,p)}function hs(a,l){let d=a[2];(3&d)===l&&(d&=2047,d+=1,a[2]=d)}function sl(a,l,d,p){const v=null!=p?p:-1,I=l.length-1;let N=0;for(let U=void 0!==p?65535&a[18]:0;U<I;U++)if("number"==typeof l[U+1]){if(N=l[U],null!=p&&N>=p)break}else l[U]<0&&(a[18]+=65536),(N<v||-1==v)&&(Ql(a,d,l,U),a[18]=(4294901760&a[18])+U+2),U++}function Ql(a,l,d,p){const m=d[p]<0,v=d[p+1],N=a[m?-d[p]:d[p]];if(m){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{v.call(N)}finally{}}}else try{v.call(N)}finally{}}class Go{constructor(l,d,p){this.factory=l,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=p}}function ra(a,l,d){const p=Zi(a);let m=0;for(;m<d.length;){const v=d[m];if("number"==typeof v){if(0!==v)break;m++;const I=d[m++],N=d[m++],U=d[m++];p?a.setAttribute(l,N,U,I):l.setAttributeNS(I,N,U)}else{const I=v,N=d[++m];eu(I)?p&&a.setProperty(l,I,N):p?a.setAttribute(l,I,N):l.setAttribute(I,N),m++}}return m}function Fu(a){return 3===a||4===a||6===a}function eu(a){return 64===a.charCodeAt(0)}function Eo(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let d=-1;for(let p=0;p<l.length;p++){const m=l[p];"number"==typeof m?d=m:0===d||tu(a,d,m,null,-1===d||2===d?l[++p]:null)}}return a}function tu(a,l,d,p,m){let v=0,I=a.length;if(-1===l)I=-1;else for(;v<a.length;){const N=a[v++];if("number"==typeof N){if(N===l){I=-1;break}if(N>l){I=v-1;break}}}for(;v<a.length;){const N=a[v];if("number"==typeof N)break;if(N===d){if(null===p)return void(null!==m&&(a[v+1]=m));if(p===a[v+1])return void(a[v+2]=m)}v++,null!==p&&v++,null!==m&&v++}-1!==I&&(a.splice(I,0,l),v=I+1),a.splice(v++,0,d),null!==p&&a.splice(v++,0,p),null!==m&&a.splice(v++,0,m)}function Es(a){return-1!==a}function ba(a){return 32767&a}function Wo(a,l){let d=function Xl(a){return a>>16}(a),p=l;for(;d>0;)p=p[15],d--;return p}let ll=!0;function ka(a){const l=ll;return ll=a,l}let O=0;function F(a,l){const d=le(a,l);if(-1!==d)return d;const p=l[1];p.firstCreatePass&&(a.injectorIndex=l.length,Y(p.data,a),Y(l,null),Y(p.blueprint,null));const m=we(a,l),v=a.injectorIndex;if(Es(m)){const I=ba(m),N=Wo(m,l),U=N[1].data;for(let K=0;K<8;K++)l[v+K]=N[I+K]|U[I+K]}return l[v+8]=m,v}function Y(a,l){a.push(0,0,0,0,0,0,0,0,l)}function le(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function we(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,p=null,m=l;for(;null!==m;){const v=m[1],I=v.type;if(p=2===I?v.declTNode:1===I?m[6]:null,null===p)return-1;if(d++,m=m[15],-1!==p.injectorIndex)return p.injectorIndex|d<<16}return-1}function pe(a,l,d){!function S(a,l,d){let p;"string"==typeof d?p=d.charCodeAt(0)||0:d.hasOwnProperty(ln)&&(p=d[ln]),null==p&&(p=d[ln]=O++);const m=255&p;l.data[a+(m>>5)]|=1<<m}(a,l,d)}function Tn(a,l,d){if(d&bn.Optional)return a;Qe(l,"NodeInjector")}function Bt(a,l,d,p){if(d&bn.Optional&&void 0===p&&(p=null),0==(d&(bn.Self|bn.Host))){const m=a[9],v=Kt(void 0);try{return m?m.get(l,p,d&bn.Optional):Di(l,p,d&bn.Optional)}finally{Kt(v)}}return Tn(p,l,d)}function gt(a,l,d,p=bn.Default,m){if(null!==a){const v=function oo(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(ln)?a[ln]:void 0;return"number"==typeof l?l>=0?255&l:di:l}(d);if("function"==typeof v){if(!xa(l,a,p))return p&bn.Host?Tn(m,d,p):Bt(l,d,p,m);try{const I=v(p);if(null!=I||p&bn.Optional)return I;Qe(d)}finally{Kl()}}else if("number"==typeof v){let I=null,N=le(a,l),U=-1,K=p&bn.Host?l[16][6]:null;for((-1===N||p&bn.SkipSelf)&&(U=-1===N?we(a,l):l[N+8],-1!==U&&xl(p,!1)?(I=l[1],N=ba(U),l=Wo(U,l)):N=-1);-1!==N;){const se=l[1];if(qa(v,N,se.data)){const Fe=Ca(N,l,d,I,p,K);if(Fe!==Ut)return Fe}U=l[N+8],-1!==U&&xl(p,l[1].data[N+8]===K)&&qa(v,N,l)?(I=se,N=ba(U),l=Wo(U,l)):N=-1}}}return Bt(l,d,p,m)}const Ut={};function di(){return new Hs(Ee(),T())}function Ca(a,l,d,p,m,v){const I=l[1],N=I.data[a+8],se=_r(N,I,d,null==p?Rt(N)&&ll:p!=I&&0!=(3&N.type),m&bn.Host&&v===N);return null!==se?Oi(l,I,se,N):Ut}function _r(a,l,d,p,m){const v=a.providerIndexes,I=l.data,N=1048575&v,U=a.directiveStart,se=v>>20,ot=m?N+se:a.directiveEnd;for(let It=p?N:N+se;It<ot;It++){const Zt=I[It];if(It<U&&d===Zt||It>=U&&Zt.type===d)return It}if(m){const It=I[U];if(It&&jt(It)&&It.type===d)return U}return null}function Oi(a,l,d,p){let m=a[d];const v=l.data;if(function Mo(a){return a instanceof Go}(m)){const I=m;I.resolving&&function _e(a,l){const d=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new it(-200,`Circular dependency in DI detected for ${a}${d}`)}(fe(v[d]));const N=ka(I.canSeeViewProviders);I.resolving=!0;const U=I.injectImpl?Kt(I.injectImpl):null;xa(a,p,bn.Default);try{m=a[d]=I.factory(void 0,v,a,p),l.firstCreatePass&&d>=p.directiveStart&&function Na(a,l,d){const{ngOnChanges:p,ngOnInit:m,ngDoCheck:v}=l.type.prototype;if(p){const I=As(l);(d.preOrderHooks||(d.preOrderHooks=[])).push(a,I),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,I)}m&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-a,m),v&&((d.preOrderHooks||(d.preOrderHooks=[])).push(a,v),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,v))}(d,v[d],l)}finally{null!==U&&Kt(U),ka(N),I.resolving=!1,Kl()}}return m}function qa(a,l,d){return!!(d[l+(a>>5)]&1<<a)}function xl(a,l){return!(a&bn.Self||a&bn.Host&&l)}class Hs{constructor(l,d){this._tNode=l,this._lView=d}get(l,d,p){return gt(this._tNode,this._lView,l,p,d)}}function yd(a){return zi(()=>{const l=a.prototype.constructor,d=l[mn]||nu(l),p=Object.prototype;let m=Object.getPrototypeOf(a.prototype).constructor;for(;m&&m!==p;){const v=m[mn]||nu(m);if(v&&v!==d)return v;m=Object.getPrototypeOf(m)}return v=>new v})}function nu(a){return Te(a)?()=>{const l=nu(Be(a));return l&&l()}:br(a)}function xo(a){return function at(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const d=a.attrs;if(d){const p=d.length;let m=0;for(;m<p;){const v=d[m];if(Fu(v))break;if(0===v)m+=2;else if("number"==typeof v)for(m++;m<p&&"string"==typeof d[m];)m++;else{if(v===l)return d[m+1];m+=2}}}return null}(Ee(),a)}const To="__parameters__";function Zr(a,l,d){return zi(()=>{const p=function Lu(a){return function(...d){if(a){const p=a(...d);for(const m in p)this[m]=p[m]}}}(l);function m(...v){if(this instanceof m)return p.apply(this,v),this;const I=new m(...v);return N.annotation=I,N;function N(U,K,se){const Fe=U.hasOwnProperty(To)?U[To]:Object.defineProperty(U,To,{value:[]})[To];for(;Fe.length<=se;)Fe.push(null);return(Fe[se]=Fe[se]||[]).push(I),U}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class Xr{constructor(l,d){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=_t({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nf=new Xr("AnalyzeForEntryComponents");function Ns(a,l){void 0===l&&(l=a);for(let d=0;d<a.length;d++){let p=a[d];Array.isArray(p)?(l===a&&(l=a.slice(0,d)),Ns(p,l)):l!==a&&l.push(p)}return l}function Ya(a,l){a.forEach(d=>Array.isArray(d)?Ya(d,l):l(d))}function sa(a,l,d){l>=a.length?a.push(d):a.splice(l,0,d)}function oa(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function ao(a,l){const d=[];for(let p=0;p<a;p++)d.push(l);return d}function Yi(a,l,d){let p=hl(a,l);return p>=0?a[1|p]=d:(p=~p,function ru(a,l,d,p){let m=a.length;if(m==l)a.push(d,p);else if(1===m)a.push(p,a[0]),a[0]=d;else{for(m--,a.push(a[m-1],a[m]);m>l;)a[m]=a[m-2],m--;a[l]=d,a[l+1]=p}}(a,p,l,d)),p}function dl(a,l){const d=hl(a,l);if(d>=0)return a[1|d]}function hl(a,l){return function aa(a,l,d){let p=0,m=a.length>>d;for(;m!==p;){const v=p+(m-p>>1),I=a[v<<d];if(l===I)return v<<d;I>l?m=v:p=v+1}return~(m<<d)}(a,l,1)}const nc={},Ac="__NG_DI_FLAG__",Ja="ngTempTokenPath",W=/\n/gm,Ge="__source",wt=ae({provide:String,useValue:ae});let Nt;function an(a){const l=Nt;return Nt=a,l}function On(a,l=bn.Default){if(void 0===Nt)throw new it(203,"");return null===Nt?Di(a,void 0,l):Nt.get(a,l&bn.Optional?null:void 0,l)}function qn(a,l=bn.Default){return(function Gn(){return Qn}()||On)(Be(a),l)}const Ki=qn;function Ai(a){const l=[];for(let d=0;d<a.length;d++){const p=Be(a[d]);if(Array.isArray(p)){if(0===p.length)throw new it(900,"");let m,v=bn.Default;for(let I=0;I<p.length;I++){const N=p[I],U=js(N);"number"==typeof U?-1===U?m=N.token:v|=U:m=N}l.push(qn(m,v))}else l.push(qn(p))}return l}function Ts(a,l){return a[Ac]=l,a.prototype[Ac]=l,a}function js(a){return a[Ac]}const Ta=Ts(Zr("Inject",a=>({token:a})),-1),No=Ts(Zr("Optional"),8),Rl=Ts(Zr("SkipSelf"),4);let lo;function Mc(){if(void 0===lo&&(lo=null,xn.trustedTypes))try{lo=xn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return lo}function fl(a){var l;return(null===(l=Mc())||void 0===l?void 0:l.createHTML(a))||a}class xc{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Qa(a){return a instanceof xc?a.changingThisBreaksApplicationSecurity:a}class oc{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const d=(new window.DOMParser).parseFromString(fl(l),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(l):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class Nc{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const p=this.inertDocument.createElement("body");d.appendChild(p)}}getInertBodyElement(l){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=fl(l),d;const p=this.inertDocument.createElement("body");return p.innerHTML=fl(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(p),p}stripCustomNsAttrs(l){const d=l.attributes;for(let m=d.length-1;0<m;m--){const I=d.item(m).name;("xmlns:ns1"===I||0===I.indexOf("ns1:"))&&l.removeAttribute(I)}let p=l.firstChild;for(;p;)p.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(p),p=p.nextSibling}}const C=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,P=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ne(a){return(a=String(a)).match(C)||a.match(P)?a:"unsafe:"+a}function Oe(a){return(a=String(a)).split(",").map(l=>ne(l.trim())).join(", ")}function Ct(a){const l={};for(const d of a.split(","))l[d]=!0;return l}function en(...a){const l={};for(const d of a)for(const p in d)d.hasOwnProperty(p)&&(l[p]=!0);return l}const Kn=Ct("area,br,col,hr,img,wbr"),Ci=Ct("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ji=Ct("rp,rt"),pl=en(Kn,en(Ci,Ct("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),en(Ji,Ct("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),en(Ji,Ci)),Ul=Ct("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ju=Ct("srcset"),Rc=en(Ul,ju,Ct("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ct("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var kr=(()=>((kr=kr||{})[kr.NONE=0]="NONE",kr[kr.HTML=1]="HTML",kr[kr.STYLE=2]="STYLE",kr[kr.SCRIPT=3]="SCRIPT",kr[kr.URL=4]="URL",kr[kr.RESOURCE_URL=5]="RESOURCE_URL",kr))();function Pc(a){const l=function uf(){const a=T();return a&&a[12]}();return l?l.sanitize(kr.URL,a)||"":function Ba(a,l){const d=function Hu(a){return a instanceof xc&&a.getTypeName()||null}(a);if(null!=d&&d!==l){if("ResourceURL"===d&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===l}(a,"URL")?Qa(a):ne(Ve(a))}function vp(a){return function Vu(a){var l;return(null===(l=Mc())||void 0===l?void 0:l.createScriptURL(a))||a}(a[0])}const df="__ngContext__";function ha(a,l){a[df]=l}function Cp(a){const l=function uh(a){return a[df]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Id(a){return a.ngOriginalError}function wp(a,...l){a.error(...l)}class hf{constructor(){this._console=console}handleError(l){const d=this._findOriginalError(l),p=function Hl(a){return a&&a.ngErrorLogger||wp}(l);p(this._console,"ERROR",l),d&&p(this._console,"ORIGINAL ERROR",d)}_findOriginalError(l){let d=l&&Id(l);for(;d&&Id(d);)d=Id(d);return d||null}}const fu=/^>|^->|<!--|-->|--!>|<!-$/g,em=/(<|>)/;const ey=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xn))();function el(a){return a instanceof Function?a():a}var kc=(()=>((kc=kc||{})[kc.Important=1]="Important",kc[kc.DashCase=2]="DashCase",kc))();let Dp;function Zo(a,l){return Dp(a,l)}function Po(a){const l=a[3];return $e(l)?l[3]:l}function mf(a){return _f(a[13])}function ph(a){return _f(a[4])}function _f(a){for(;null!==a&&!$e(a);)a=a[4];return a}function Wu(a,l,d,p,m){if(null!=p){let v,I=!1;$e(p)?v=p:be(p)&&(I=!0,p=p[0]);const N=G(p);0===a&&null!==d?null==m?ml(l,d,N):jl(l,d,N,m||null,!0):1===a&&null!==d?jl(l,d,N,m||null,!0):2===a?Ad(l,N,I):3===a&&l.destroyNode(N),null!=v&&function _u(a,l,d,p,m){const v=d[7];v!==G(d)&&Wu(l,a,p,v,m);for(let N=10;N<d.length;N++){const U=d[N];Lc(U[1],U,a,l,p,v)}}(l,a,v,d,m)}}function yf(a,l){return Zi(a)?a.createText(l):a.createTextNode(l)}function sy(a,l,d){Zi(a)?a.setValue(l,d):l.textContent=d}function vf(a,l){return a.createComment(function pu(a){return a.replace(fu,l=>l.replace(em,"\u200b$1\u200b"))}(l))}function rm(a,l,d){if(Zi(a))return a.createElement(l,d);{const p=null!==d?function is(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(d):null;return null===p?a.createElement(l):a.createElementNS(p,l)}}function ay(a,l){const d=a[9],p=d.indexOf(l),m=l[3];1024&l[2]&&(l[2]&=-1025,Gr(m,-1)),d.splice(p,1)}function Sp(a,l){if(a.length<=10)return;const d=10+l,p=a[d];if(p){const m=p[17];null!==m&&m!==a&&ay(m,p),l>0&&(a[d-1][4]=p[4]);const v=oa(a,10+l);!function l0(a,l){Lc(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(p[1],p);const I=v[X];null!==I&&I.detachView(v[1]),p[3]=null,p[4]=null,p[2]&=-129}return p}function am(a,l){if(!(256&l[2])){const d=l[11];Zi(d)&&d.destroyNode&&Lc(a,l,d,3,null,null),function om(a){let l=a[13];if(!l)return gh(a[1],a);for(;l;){let d=null;if(be(l))d=l[13];else{const p=l[10];p&&(d=p)}if(!d){for(;l&&!l[4]&&l!==a;)be(l)&&gh(l[1],l),l=l[3];null===l&&(l=a),be(l)&&gh(l[1],l),d=l&&l[4]}l=d}}(l)}}function gh(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function Mp(a,l){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let p=0;p<d.length;p+=2){const m=l[d[p]];if(!(m instanceof Go)){const v=d[p+1];if(Array.isArray(v))for(let I=0;I<v.length;I+=2){const N=m[v[I]],U=v[I+1];try{U.call(N)}finally{}}else try{v.call(m)}finally{}}}}(a,l),function lm(a,l){const d=a.cleanup,p=l[7];let m=-1;if(null!==d)for(let v=0;v<d.length-1;v+=2)if("string"==typeof d[v]){const I=d[v+1],N="function"==typeof I?I(l):G(l[I]),U=p[m=d[v+2]],K=d[v+3];"boolean"==typeof K?N.removeEventListener(d[v],U,K):K>=0?p[m=K]():p[m=-K].unsubscribe(),v+=2}else{const I=p[m=d[v+1]];d[v].call(I)}if(null!==p){for(let v=m+1;v<p.length;v++)p[v]();l[7]=null}}(a,l),1===l[1].type&&Zi(l[11])&&l[11].destroy();const d=l[17];if(null!==d&&$e(l[3])){d!==l[3]&&ay(d,l);const p=l[X];null!==p&&p.detachView(a)}}}function mh(a,l,d){return $t(a,l.parent,d)}function $t(a,l,d){let p=l;for(;null!==p&&40&p.type;)p=(l=p).parent;if(null===p)return d[0];if(2&p.flags){const m=a.data[p.directiveStart].encapsulation;if(m===ni.None||m===ni.Emulated)return null}return qt(p,d)}function jl(a,l,d,p,m){Zi(a)?a.insertBefore(l,d,p,m):l.insertBefore(d,p,m)}function ml(a,l,d){Zi(a)?a.appendChild(l,d):l.appendChild(d)}function ly(a,l,d,p,m){null!==p?jl(a,l,d,p,m):ml(a,l,d)}function lc(a,l){return Zi(a)?a.parentNode(l):l.parentNode}function Gl(a,l,d){return xp(a,l,d)}function bf(a,l,d){return 40&a.type?qt(a,d):null}let Op,xp=bf;function ko(a,l){xp=a,Op=l}function Zu(a,l,d,p){const m=mh(a,p,l),v=l[11],N=Gl(p.parent||l[6],p,l);if(null!=m)if(Array.isArray(d))for(let U=0;U<d.length;U++)ly(v,m,d[U],N,!1);else ly(v,m,d,N,!1);void 0!==Op&&Op(v,p,l,d,m)}function gu(a,l){if(null!==l){const d=l.type;if(3&d)return qt(l,a);if(4&d)return Fc(-1,a[l.index]);if(8&d){const p=l.child;if(null!==p)return gu(a,p);{const m=a[l.index];return $e(m)?Fc(-1,m):G(m)}}if(32&d)return Zo(l,a)()||G(a[l.index]);{const p=Cf(a,l);return null!==p?Array.isArray(p)?p[0]:gu(Po(a[16]),p):gu(a,l.next)}}return null}function Cf(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Fc(a,l){const d=10+a+1;if(d<l.length){const p=l[d],m=p[1].firstChild;if(null!==m)return gu(p,m)}return l[7]}function Ad(a,l,d){const p=lc(a,l);p&&function qu(a,l,d,p){Zi(a)?a.removeChild(l,d,p):l.removeChild(d)}(a,p,l,d)}function zl(a,l,d,p,m,v,I){for(;null!=d;){const N=p[d.index],U=d.type;if(I&&0===l&&(N&&ha(G(N),p),d.flags|=4),64!=(64&d.flags))if(8&U)zl(a,l,d.child,p,m,v,!1),Wu(l,a,m,N,v);else if(32&U){const K=Zo(d,p);let se;for(;se=K();)Wu(l,a,m,se,v);Wu(l,a,m,N,v)}else 16&U?mu(a,l,p,d,m,v):Wu(l,a,m,N,v);d=I?d.projectionNext:d.next}}function Lc(a,l,d,p,m,v){zl(d,p,a.firstChild,l,m,v,!1)}function mu(a,l,d,p,m,v){const I=d[16],U=I[6].projection[p.projection];if(Array.isArray(U))for(let K=0;K<U.length;K++)Wu(l,a,m,U[K],v);else zl(a,l,U,I[3],m,v,!0)}function Uc(a,l,d){Zi(a)?a.setAttribute(l,"style",d):l.style.cssText=d}function Rp(a,l,d){Zi(a)?""===d?a.removeAttribute(l,"class"):a.setAttribute(l,"class",d):l.className=d}function Ua(a,l,d){let p=a.length;for(;;){const m=a.indexOf(l,d);if(-1===m)return m;if(0===m||a.charCodeAt(m-1)<=32){const v=l.length;if(m+v===p||a.charCodeAt(m+v)<=32)return m}d=m+1}}const um="ng-template";function Pp(a,l,d){let p=0;for(;p<a.length;){let m=a[p++];if(d&&"class"===m){if(m=a[p],-1!==Ua(m.toLowerCase(),l,0))return!0}else if(1===m){for(;p<a.length&&"string"==typeof(m=a[p++]);)if(m.toLowerCase()===l)return!0;return!1}}return!1}function Ef(a){return 4===a.type&&a.value!==um}function _l(a,l,d){return l===(4!==a.type||d?a.value:um)}function kp(a,l,d){let p=4;const m=a.attrs||[],v=function h0(a){for(let l=0;l<a.length;l++)if(Fu(a[l]))return l;return a.length}(m);let I=!1;for(let N=0;N<l.length;N++){const U=l[N];if("number"!=typeof U){if(!I)if(4&p){if(p=2|1&p,""!==U&&!_l(a,U,d)||""===U&&1===l.length){if(Va(p))return!1;I=!0}}else{const K=8&p?U:l[++N];if(8&p&&null!==a.attrs){if(!Pp(a.attrs,K,d)){if(Va(p))return!1;I=!0}continue}const Fe=Yu(8&p?"class":U,m,Ef(a),d);if(-1===Fe){if(Va(p))return!1;I=!0;continue}if(""!==K){let ot;ot=Fe>v?"":m[Fe+1].toLowerCase();const It=8&p?ot:null;if(It&&-1!==Ua(It,K,0)||2&p&&K!==ot){if(Va(p))return!1;I=!0}}}}else{if(!I&&!Va(p)&&!Va(U))return!1;if(I&&Va(U))continue;I=!1,p=U|1&p}}return Va(p)||I}function Va(a){return 0==(1&a)}function Yu(a,l,d,p){if(null===l)return-1;let m=0;if(p||!d){let v=!1;for(;m<l.length;){const I=l[m];if(I===a)return m;if(3===I||6===I)v=!0;else{if(1===I||2===I){let N=l[++m];for(;"string"==typeof N;)N=l[++m];continue}if(4===I)break;if(0===I){m+=4;continue}}m+=v?1:2}return-1}return function dy(a,l){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const p=a[d];if("number"==typeof p)return-1;if(p===l)return d;d++}return-1}(l,a)}function cy(a,l,d=!1){for(let p=0;p<l.length;p++)if(kp(a,l[p],d))return!0;return!1}function Tf(a,l){e:for(let d=0;d<l.length;d++){const p=l[d];if(a.length===p.length){for(let m=0;m<a.length;m++)if(a[m]!==p[m])continue e;return!0}}return!1}function Sd(a,l){return a?":not("+l.trim()+")":l}function yu(a){let l=a[0],d=1,p=2,m="",v=!1;for(;d<a.length;){let I=a[d];if("string"==typeof I)if(2&p){const N=a[++d];m+="["+I+(N.length>0?'="'+N+'"':"")+"]"}else 8&p?m+="."+I:4&p&&(m+=" "+I);else""!==m&&!Va(I)&&(l+=Sd(v,m),m=""),p=I,v=v||!Va(p);d++}return""!==m&&(l+=Sd(v,m)),l}const Gi={};function hy(a){_h(R(),T(),Qs()+a,Tr())}function _h(a,l,d,p){if(!p)if(3==(3&l[2])){const v=a.preOrderCheckHooks;null!==v&&Ra(l,v,d)}else{const v=a.preOrderHooks;null!==v&&jo(l,v,0,d)}Oa(d)}function Lp(a,l){return a<<17|l<<2}function Wl(a){return a>>17&32767}function yh(a){return 2|a}function Vc(a){return(131068&a)>>2}function Yo(a,l){return-131069&a|l<<2}function vh(a){return 1|a}function pm(a,l){const d=a.contentQueries;if(null!==d)for(let p=0;p<d.length;p+=2){const m=d[p],v=d[p+1];if(-1!==v){const I=a.data[v];Ma(m),I.contentQueries(2,l[v],v)}}}function td(a,l,d,p,m,v,I,N,U,K){const se=l.blueprint.slice();return se[0]=m,se[2]=140|p,Er(se),se[3]=se[15]=a,se[8]=d,se[10]=I||a&&a[10],se[11]=N||a&&a[11],se[12]=U||a&&a[12]||null,se[9]=K||a&&a[9]||null,se[6]=v,se[16]=2==l.type?a[16]:se,se}function Lo(a,l,d,p,m){let v=a.data[l];if(null===v)v=Sf(a,l,d,p,m),function Xo(){return Rn.lFrame.inI18n}()&&(v.flags|=64);else if(64&v.type){v.type=d,v.value=p,v.attrs=m;const I=Mt();v.injectorIndex=null===I?-1:I.injectorIndex}return Yt(v,!0),v}function Sf(a,l,d,p,m){const v=st(),I=Dn(),U=a.data[l]=function m0(a,l,d,p,m,v){return{type:d,index:p,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?v:v&&v.parent,d,l,p,m);return null===a.firstChild&&(a.firstChild=U),null!==v&&(I?null==v.child&&null!==U.parent&&(v.child=U):null===v.next&&(v.next=U)),U}function Bd(a,l,d,p){if(0===d)return-1;const m=l.length;for(let v=0;v<d;v++)l.push(p),a.blueprint.push(p),a.data.push(null);return m}function Th(a,l,d){Wa(l);try{const p=a.viewQuery;null!==p&&bl(1,p,d);const m=a.template;null!==m&&vy(a,l,m,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&pm(a,l),a.staticViewQueries&&bl(2,a.viewQuery,d);const v=a.components;null!==v&&function Ld(a,l){for(let d=0;d<l.length;d++)Dm(a,l[d])}(l,v)}catch(p){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),p}finally{l[2]&=-5,Ho()}}function wh(a,l,d,p){const m=l[2];if(256==(256&m))return;Wa(l);const v=Tr();try{Er(l),function Qr(a){return Rn.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&vy(a,l,d,2,p);const I=3==(3&m);if(!v)if(I){const K=a.preOrderCheckHooks;null!==K&&Ra(l,K,null)}else{const K=a.preOrderHooks;null!==K&&jo(l,K,0,null),hs(l,0)}if(function Ih(a){for(let l=mf(a);null!==l;l=ph(l)){if(!l[2])continue;const d=l[9];for(let p=0;p<d.length;p++){const m=d[p],v=m[3];0==(1024&m[2])&&Gr(v,1),m[2]|=1024}}}(l),function ng(a){for(let l=mf(a);null!==l;l=ph(l))for(let d=10;d<l.length;d++){const p=l[d],m=p[1];xr(p)&&wh(m,p,m.template,p[8])}}(l),null!==a.contentQueries&&pm(a,l),!v)if(I){const K=a.contentCheckHooks;null!==K&&Ra(l,K)}else{const K=a.contentHooks;null!==K&&jo(l,K,1),hs(l,1)}!function fm(a,l){const d=a.hostBindingOpCodes;if(null!==d)try{for(let p=0;p<d.length;p++){const m=d[p];if(m<0)Oa(~m);else{const v=m,I=d[++p],N=d[++p];as(I,v),N(2,l[v])}}}finally{Oa(-1)}}(a,l);const N=a.components;null!==N&&function Fd(a,l){for(let d=0;d<l.length;d++)wm(a,l[d])}(l,N);const U=a.viewQuery;if(null!==U&&bl(2,U,p),!v)if(I){const K=a.viewCheckHooks;null!==K&&Ra(l,K)}else{const K=a.viewHooks;null!==K&&jo(l,K,2),hs(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),v||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,Gr(l[3],-1))}finally{Ho()}}function qp(a,l,d,p){const m=l[10],v=!Tr(),I=ei(l);try{v&&!I&&m.begin&&m.begin(),I&&Th(a,l,p),wh(a,l,d,p)}finally{v&&!I&&m.end&&m.end()}}function vy(a,l,d,p,m){const v=Qs(),I=2&p;try{Oa(-1),I&&l.length>20&&_h(a,l,20,Tr()),d(p,m)}finally{Oa(v)}}function Zp(a,l,d){if(bt(l)){const m=l.directiveEnd;for(let v=l.directiveStart;v<m;v++){const I=a.data[v];I.contentQueries&&I.contentQueries(1,d[v],v)}}}function gm(a,l,d){!q()||(function y0(a,l,d,p){const m=d.directiveStart,v=d.directiveEnd;a.firstCreatePass||F(d,l),ha(p,l);const I=d.initialInputs;for(let N=m;N<v;N++){const U=a.data[N],K=jt(U);K&&v0(l,d,U);const se=Oi(l,a,N,d);ha(se,l),null!==I&&eg(0,N-m,se,U,0,I),K&&(Ii(d.index,l)[8]=se)}}(a,l,d,qt(d,l)),128==(128&d.flags)&&function Xb(a,l,d){const p=d.directiveStart,m=d.directiveEnd,I=d.index,N=function Co(){return Rn.lFrame.currentDirectiveIndex}();try{Oa(I);for(let U=p;U<m;U++){const K=a.data[U],se=l[U];$o(U),(null!==K.hostBindings||0!==K.hostVars||null!==K.hostAttrs)&&Cm(K,se)}}finally{Oa(-1),$o(N)}}(a,l,d))}function mm(a,l,d=qt){const p=l.localNames;if(null!==p){let m=l.index+1;for(let v=0;v<p.length;v+=2){const I=p[v+1],N=-1===I?d(l,a):a[I];a[m++]=N}}}function Yp(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=mo(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function mo(a,l,d,p,m,v,I,N,U,K){const se=20+p,Fe=se+m,ot=function g0(a,l){const d=[];for(let p=0;p<l;p++)d.push(p<a?null:Gi);return d}(se,Fe),It="function"==typeof K?K():K;return ot[1]={type:a,blueprint:ot,template:d,queries:null,viewQuery:N,declTNode:l,data:ot.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:U,consts:It,incompleteFirstPass:!1}}function Ey(a,l,d,p){const m=Ud(l);null===d?m.push(p):(m.push(d),a.firstCreatePass&&sg(a).push(p,m.length-1))}function Kp(a,l,d){for(let p in a)if(a.hasOwnProperty(p)){const m=a[p];(d=null===d?{}:d).hasOwnProperty(p)?d[p].push(l,m):d[p]=[l,m]}return d}function $a(a,l,d,p,m,v,I,N){const U=qt(l,d);let se,K=l.inputs;!N&&null!=K&&(se=K[p])?(og(a,d,se,p,m),Rt(l)&&function Jp(a,l){const d=Ii(l,a);16&d[2]||(d[2]|=64)}(d,l.index)):3&l.type&&(p=function wy(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(p),m=null!=I?I(m,l.value||"",p):m,Zi(v)?v.setProperty(U,p,m):eu(p)||(U.setProperty?U.setProperty(p,m):U[p]=m))}function vm(a,l,d,p){let m=!1;if(q()){const v=function Xp(a,l,d){const p=a.directiveRegistry;let m=null;if(p)for(let v=0;v<p.length;v++){const I=p[v];cy(d,I.selectors,!1)&&(m||(m=[]),pe(F(d,l),a,I.type),jt(I)?(Dh(a,d),m.unshift(I)):m.push(I))}return m}(a,l,d),I=null===p?null:{"":-1};if(null!==v){m=!0,Ay(d,a.data.length,v.length);for(let se=0;se<v.length;se++){const Fe=v[se];Fe.providersResolver&&Fe.providersResolver(Fe)}let N=!1,U=!1,K=Bd(a,l,v.length,null);for(let se=0;se<v.length;se++){const Fe=v[se];d.mergedAttrs=Eo(d.mergedAttrs,Fe.hostAttrs),Sy(a,d,l,K,Fe),Iy(K,Fe,I),null!==Fe.contentQueries&&(d.flags|=8),(null!==Fe.hostBindings||null!==Fe.hostAttrs||0!==Fe.hostVars)&&(d.flags|=128);const ot=Fe.type.prototype;!N&&(ot.ngOnChanges||ot.ngOnInit||ot.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(d.index),N=!0),!U&&(ot.ngOnChanges||ot.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(d.index),U=!0),K++}!function Ty(a,l){const p=l.directiveEnd,m=a.data,v=l.attrs,I=[];let N=null,U=null;for(let K=l.directiveStart;K<p;K++){const se=m[K],Fe=se.inputs,ot=null===v||Ef(l)?null:My(Fe,v);I.push(ot),N=Kp(Fe,K,N),U=Kp(se.outputs,K,U)}null!==N&&(N.hasOwnProperty("class")&&(l.flags|=16),N.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=I,l.inputs=N,l.outputs=U}(a,d)}I&&function Em(a,l,d){if(l){const p=a.localNames=[];for(let m=0;m<l.length;m+=2){const v=d[l[m+1]];if(null==v)throw new it(-301,!1);p.push(l[m],v)}}}(d,p,I)}return d.mergedAttrs=Eo(d.mergedAttrs,d.attrs),m}function bm(a,l,d,p,m,v){const I=v.hostBindings;if(I){let N=a.hostBindingOpCodes;null===N&&(N=a.hostBindingOpCodes=[]);const U=~l.index;(function _0(a){let l=a.length;for(;l>0;){const d=a[--l];if("number"==typeof d&&d<0)return d}return 0})(N)!=U&&N.push(U),N.push(p,m,I)}}function Cm(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Dh(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Iy(a,l,d){if(d){if(l.exportAs)for(let p=0;p<l.exportAs.length;p++)d[l.exportAs[p]]=a;jt(l)&&(d[""]=a)}}function Ay(a,l,d){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+d,a.providerIndexes=l}function Sy(a,l,d,p,m){a.data[p]=m;const v=m.factory||(m.factory=br(m.type)),I=new Go(v,jt(m),null);a.blueprint[p]=I,d[p]=I,bm(a,l,0,p,Bd(a,d,m.hostVars,Gi),m)}function v0(a,l,d){const p=qt(l,a),m=Yp(d),v=a[10],I=Ko(a,td(a,m,null,d.onPush?64:16,p,l,v,v.createRenderer(p,d),null,null));a[l.index]=I}function Tm(a,l,d,p,m,v,I){if(null==v)Zi(a)?a.removeAttribute(l,m,d):l.removeAttribute(m);else{const N=null==I?Ve(v):I(v,p||"",m);Zi(a)?a.setAttribute(l,m,N,d):d?l.setAttributeNS(d,m,N):l.setAttribute(m,N)}}function eg(a,l,d,p,m,v){const I=v[l];if(null!==I){const N=p.setInput;for(let U=0;U<I.length;){const K=I[U++],se=I[U++],Fe=I[U++];null!==N?p.setInput(d,Fe,K,se):d[se]=Fe}}}function My(a,l){let d=null,p=0;for(;p<l.length;){const m=l[p];if(0!==m)if(5!==m){if("number"==typeof m)break;a.hasOwnProperty(m)&&(null===d&&(d=[]),d.push(m,a[m],l[p+1])),p+=2}else p+=2;else p+=4}return d}function tg(a,l,d,p){return new Array(a,!0,!1,l,null,0,p,d,null,null)}function wm(a,l){const d=Ii(l,a);if(xr(d)){const p=d[1];80&d[2]?wh(p,d,p.template,d[8]):d[5]>0&&ig(d)}}function ig(a){for(let p=mf(a);null!==p;p=ph(p))for(let m=10;m<p.length;m++){const v=p[m];if(1024&v[2]){const I=v[1];wh(I,v,I.template,v[8])}else v[5]>0&&ig(v)}const d=a[1].components;if(null!==d)for(let p=0;p<d.length;p++){const m=Ii(d[p],a);xr(m)&&m[5]>0&&ig(m)}}function Dm(a,l){const d=Ii(l,a),p=d[1];(function Im(a,l){for(let d=l.length;d<a.blueprint.length;d++)l.push(a.blueprint[d])})(p,d),Th(p,d,d[8])}function Ko(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function wo(a){for(;a;){a[2]|=64;const l=Po(a);if(fn(a)&&!l)return a;a=l}return null}function Am(a,l,d){const p=l[10];p.begin&&p.begin();try{wh(a,l,a.template,d)}catch(m){throw xm(l,m),m}finally{p.end&&p.end()}}function rg(a){!function Cu(a){for(let l=0;l<a.components.length;l++){const d=a.components[l],p=Cp(d),m=p[1];qp(m,p,m.template,d)}}(a[8])}function bl(a,l,d){Ma(0),l(a,d)}const Oy=(()=>Promise.resolve(null))();function Ud(a){return a[7]||(a[7]=[])}function sg(a){return a.cleanup||(a.cleanup=[])}function xm(a,l){const d=a[9],p=d?d.get(hf,null):null;p&&p.handleError(l)}function og(a,l,d,p,m){for(let v=0;v<d.length;){const I=d[v++],N=d[v++],U=l[I],K=a.data[I];null!==K.setInput?K.setInput(U,m,p,N):U[N]=m}}function dc(a,l,d){const p=Pt(l,a);sy(a[11],p,d)}function nd(a,l,d){let p=d?a.styles:null,m=d?a.classes:null,v=0;if(null!==l)for(let I=0;I<l.length;I++){const N=l[I];"number"==typeof N?v=N:1==v?m=Ze(m,N):2==v&&(p=Ze(p,N+": "+l[++I]+";"))}d?a.styles=p:a.stylesWithoutHost=p,d?a.classes=m:a.classesWithoutHost=m}const Nm=new Xr("INJECTOR",-1);class Of{get(l,d=nc){if(d===nc){const p=new Error(`NullInjectorError: No provider for ${Pe(l)}!`);throw p.name="NullInjectorError",p}return d}}const ag=new Xr("Set Injector scope."),id={},Py={};let Nf;function lg(){return void 0===Nf&&(Nf=new Of),Nf}function Rf(a,l=null,d=null,p){const m=Vd(a,l,d,p);return m._resolveInjectorDefTypes(),m}function Vd(a,l=null,d=null,p){return new rd(a,d,l||lg(),p)}class rd{constructor(l,d,p,m=null){this.parent=p,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const v=[];d&&Ya(d,N=>this.processProvider(N,l,d)),Ya([l],N=>this.processInjectorType(N,[],v)),this.records.set(Nm,hc(void 0,this));const I=this.records.get(ag);this.scope=null!=I?I.value:null,this.source=m||("object"==typeof l?null:Pe(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,d=nc,p=bn.Default){this.assertNotDestroyed();const m=an(this),v=Kt(void 0);try{if(!(p&bn.SkipSelf)){let N=this.records.get(l);if(void 0===N){const U=function $d(a){return"function"==typeof a||"object"==typeof a&&a instanceof Xr}(l)&&Cn(l);N=U&&this.injectableDefInScope(U)?hc(Ah(l),id):null,this.records.set(l,N)}if(null!=N)return this.hydrate(l,N)}return(p&bn.Self?lg():this.parent).get(l,d=p&bn.Optional&&d===nc?null:d)}catch(I){if("NullInjectorError"===I.name){if((I[Ja]=I[Ja]||[]).unshift(Pe(l)),m)throw I;return function qo(a,l,d,p){const m=a[Ja];throw l[Ge]&&m.unshift(l[Ge]),a.message=function au(a,l,d,p=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let m=Pe(l);if(Array.isArray(l))m=l.map(Pe).join(" -> ");else if("object"==typeof l){let v=[];for(let I in l)if(l.hasOwnProperty(I)){let N=l[I];v.push(I+":"+("string"==typeof N?JSON.stringify(N):Pe(N)))}m=`{${v.join(", ")}}`}return`${d}${p?"("+p+")":""}[${m}]: ${a.replace(W,"\n  ")}`}("\n"+a.message,m,d,p),a.ngTokenPath=m,a[Ja]=null,a}(I,l,"R3InjectorError",this.source)}throw I}finally{Kt(v),an(m)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((p,m)=>l.push(Pe(m))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new it(205,!1)}processInjectorType(l,d,p){if(!(l=Be(l)))return!1;let m=Hn(l);const v=null==m&&l.ngModule||void 0,I=void 0===v?l:v,N=-1!==p.indexOf(I);if(void 0!==v&&(m=Hn(v)),null==m)return!1;if(null!=m.imports&&!N){let se;p.push(I);try{Ya(m.imports,Fe=>{this.processInjectorType(Fe,d,p)&&(void 0===se&&(se=[]),se.push(Fe))})}finally{}if(void 0!==se)for(let Fe=0;Fe<se.length;Fe++){const{ngModule:ot,providers:It}=se[Fe];Ya(It,Zt=>this.processProvider(Zt,ot,It||Ln))}}this.injectorDefTypes.add(I);const U=br(I)||(()=>new I);this.records.set(I,hc(U,id));const K=m.providers;if(null!=K&&!N){const se=l;Ya(K,Fe=>this.processProvider(Fe,se,K))}return void 0!==v&&void 0!==l.providers}processProvider(l,d,p){let m=Eu(l=Be(l))?l:Be(l&&l.provide);const v=function Mh(a,l,d){return ky(a)?hc(void 0,a.useValue):hc(Rm(a),id)}(l);if(Eu(l)||!0!==l.multi)this.records.get(m);else{let I=this.records.get(m);I||(I=hc(void 0,id,!0),I.factory=()=>Ai(I.multi),this.records.set(m,I)),m=l,I.multi.push(l)}this.records.set(m,v)}hydrate(l,d){return d.value===id&&(d.value=Py,d.value=d.factory()),"object"==typeof d.value&&d.value&&function E0(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this.onDestroy.add(d.value),d.value}injectableDefInScope(l){if(!l.providedIn)return!1;const d=Be(l.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function Ah(a){const l=Cn(a),d=null!==l?l.factory:br(a);if(null!==d)return d;if(a instanceof Xr)throw new it(204,!1);if(a instanceof Function)return function Sh(a){const l=a.length;if(l>0)throw ao(l,"?"),new it(204,!1);const d=function $n(a){const l=a&&(a[ai]||a[ki]);if(l){const d=function Zn(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),l}return null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new it(204,!1)}function Rm(a,l,d){let p;if(Eu(a)){const m=Be(a);return br(m)||Ah(m)}if(ky(a))p=()=>Be(a.useValue);else if(function Pm(a){return!(!a||!a.useFactory)}(a))p=()=>a.useFactory(...Ai(a.deps||[]));else if(function C0(a){return!(!a||!a.useExisting)}(a))p=()=>qn(Be(a.useExisting));else{const m=Be(a&&(a.useClass||a.provide));if(!function cg(a){return!!a.deps}(a))return br(m)||Ah(m);p=()=>new m(...Ai(a.deps))}return p}function hc(a,l,d=!1){return{factory:a,value:l,multi:d?[]:void 0}}function ky(a){return null!==a&&"object"==typeof a&&wt in a}function Eu(a){return"function"==typeof a}let Cl=(()=>{class a{static create(d,p){var m;if(Array.isArray(d))return Rf({name:""},p,d,"");{const v=null!==(m=d.name)&&void 0!==m?m:"";return Rf({name:v},d.parent,d.providers,v)}}}return a.THROW_IF_NOT_FOUND=nc,a.NULL=new Of,a.\u0275prov=_t({token:a,providedIn:"any",factory:()=>qn(Nm)}),a.__NG_ELEMENT_ID__=-1,a})();function Bm(a,l){ya(Cp(a)[1],Ee())}function Nh(a){let l=function pg(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const p=[a];for(;l;){let m;if(jt(a))m=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new it(903,"");m=l.\u0275dir}if(m){if(d){p.push(m);const I=a;I.inputs=sd(a.inputs),I.declaredInputs=sd(a.declaredInputs),I.outputs=sd(a.outputs);const N=m.hostBindings;N&&D0(a,N);const U=m.viewQuery,K=m.contentQueries;if(U&&Ff(a,U),K&&fc(a,K),ge(a.inputs,m.inputs),ge(a.declaredInputs,m.declaredInputs),ge(a.outputs,m.outputs),jt(m)&&m.data.animation){const se=a.data;se.animation=(se.animation||[]).concat(m.data.animation)}}const v=m.features;if(v)for(let I=0;I<v.length;I++){const N=v[I];N&&N.ngInherit&&N(a),N===Nh&&(d=!1)}}l=Object.getPrototypeOf(l)}!function Pn(a){let l=0,d=null;for(let p=a.length-1;p>=0;p--){const m=a[p];m.hostVars=l+=m.hostVars,m.hostAttrs=Eo(m.hostAttrs,d=Eo(d,m.hostAttrs))}}(p)}function sd(a){return a===Li?{}:a===Ln?[]:a}function Ff(a,l){const d=a.viewQuery;a.viewQuery=d?(p,m)=>{l(p,m),d(p,m)}:l}function fc(a,l){const d=a.contentQueries;a.contentQueries=d?(p,m,v)=>{l(p,m,v),d(p,m,v)}:l}function D0(a,l){const d=a.hostBindings;a.hostBindings=d?(p,m)=>{l(p,m),d(p,m)}:l}let Tl=null;function Jo(){if(!Tl){const a=xn.Symbol;if(a&&a.iterator)Tl=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<l.length;++d){const p=l[d];"entries"!==p&&"size"!==p&&Map.prototype[p]===Map.prototype.entries&&(Tl=p)}}}return Tl}function wu(a){return!!Bf(a)&&(Array.isArray(a)||!(a instanceof Map)&&Jo()in a)}function Bf(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function pc(a,l,d){return a[l]=d}function wa(a,l,d){return!Object.is(a[l],d)&&(a[l]=d,!0)}function zc(a,l,d,p){const m=wa(a,l,d);return wa(a,l+1,p)||m}function mg(a,l,d,p){const m=T();return wa(m,mr(),l)&&(R(),function Gc(a,l,d,p,m,v){const I=qt(a,l);Tm(l[11],I,v,a.value,d,p,m)}(ms(),m,a,l,d,p)),mg}function Ph(a,l,d,p){return wa(a,mr(),d)?l+Ve(d)+p:Gi}function vg(a,l,d,p,m,v,I,N){const U=T(),K=R(),se=a+20,Fe=K.firstCreatePass?function yg(a,l,d,p,m,v,I,N,U){const K=l.consts,se=Lo(l,a,4,I||null,tr(K,N));vm(l,d,se,tr(K,U)),ya(l,se);const Fe=se.tViews=mo(2,se,p,m,v,l.directiveRegistry,l.pipeRegistry,null,l.schemas,K);return null!==l.queries&&(l.queries.template(l,se),Fe.queries=l.queries.embeddedTView(se)),se}(se,K,U,l,d,p,m,v,I):K.data[se];Yt(Fe,!1);const ot=U[11].createComment("");Zu(K,U,ot,Fe),ha(ot,U),Ko(U,U[se]=tg(ot,U,ot,Fe)),Lt(Fe)&&gm(K,U,Fe),null!=I&&mm(U,Fe,N)}function bg(a){return xi(function Ri(){return Rn.lFrame.contextLView}(),20+a)}function zf(a,l=bn.Default){const d=T();return null===d?qn(a,l):gt(Ee(),d,Be(a),l)}function Fs(){throw new Error("invalid")}function x0(a,l,d){const p=T();return wa(p,mr(),l)&&$a(R(),ms(),p,a,l,p[11],d,!1),x0}function O0(a,l,d,p,m){const I=m?"class":"style";og(a,d,l.inputs[I],I,p)}function Hh(a,l,d,p){const m=T(),v=R(),I=20+a,N=m[11],U=m[I]=rm(N,l,function rl(){return Rn.lFrame.currentNamespace}()),K=v.firstCreatePass?function _o(a,l,d,p,m,v,I){const N=l.consts,K=Lo(l,a,2,m,tr(N,v));return vm(l,d,K,tr(N,I)),null!==K.attrs&&nd(K,K.attrs,!1),null!==K.mergedAttrs&&nd(K,K.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,K),K}(I,v,m,0,l,d,p):v.data[I];Yt(K,!0);const se=K.mergedAttrs;null!==se&&ra(N,U,se);const Fe=K.classes;null!==Fe&&Rp(N,U,Fe);const ot=K.styles;return null!==ot&&Uc(N,U,ot),64!=(64&K.flags)&&Zu(v,m,U,K),0===function Js(){return Rn.lFrame.elementDepthCount}()&&ha(U,m),function ss(){Rn.lFrame.elementDepthCount++}(),Lt(K)&&(gm(v,m,K),Zp(v,K,m)),null!==p&&mm(m,K),Hh}function wg(){let a=Ee();Dn()?_n():(a=a.parent,Yt(a,!1));const l=a;!function os(){Rn.lFrame.elementDepthCount--}();const d=R();return d.firstCreatePass&&(ya(d,a),bt(a)&&d.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Pa(a){return 0!=(16&a.flags)}(l)&&O0(d,l,T(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function so(a){return 0!=(32&a.flags)}(l)&&O0(d,l,T(),l.stylesWithoutHost,!1),wg}function Qy(a,l,d,p){return Hh(a,l,d,p),wg(),Qy}function Ym(a,l,d){const p=T(),m=R(),v=a+20,I=m.firstCreatePass?function N0(a,l,d,p,m){const v=l.consts,I=tr(v,p),N=Lo(l,a,8,"ng-container",I);return null!==I&&nd(N,I,!0),vm(l,d,N,tr(v,m)),null!==l.queries&&l.queries.elementStart(l,N),N}(v,m,p,l,d):m.data[v];Yt(I,!0);const N=p[v]=p[11].createComment("");return Zu(m,p,N,I),ha(N,p),Lt(I)&&(gm(m,p,I),Zp(m,I,p)),null!=d&&mm(p,I),Ym}function Km(){let a=Ee();const l=R();return Dn()?_n():(a=a.parent,Yt(a,!1)),l.firstCreatePass&&(ya(l,a),bt(a)&&l.queries.elementEnd(a)),Km}function Jm(a,l,d){return Ym(a,l,d),Km(),Jm}function R0(){return T()}function Qm(a){return!!a&&"function"==typeof a.then}function Xm(a){return!!a&&"function"==typeof a.subscribe}const e_=Xm;function yc(a,l,d,p){const m=T(),v=R(),I=Ee();return function qd(a,l,d,p,m,v,I,N){const U=Lt(p),se=a.firstCreatePass&&sg(a),Fe=l[8],ot=Ud(l);let It=!0;if(3&p.type||N){const Mn=qt(p,l),si=N?N(Mn):Mn,tn=ot.length,Ei=N?$r=>N(G($r[p.index])):p.index;if(Zi(d)){let $r=null;if(!N&&U&&($r=function Zc(a,l,d,p){const m=a.cleanup;if(null!=m)for(let v=0;v<m.length-1;v+=2){const I=m[v];if(I===d&&m[v+1]===p){const N=l[7],U=m[v+2];return N.length>U?N[U]:null}"string"==typeof I&&(v+=2)}return null}(a,l,m,p.index)),null!==$r)($r.__ngLastListenerFn__||$r).__ngNextListenerFn__=v,$r.__ngLastListenerFn__=v,It=!1;else{v=t_(p,l,Fe,v,!1);const ps=d.listen(si,m,v);ot.push(v,ps),se&&se.push(m,Ei,tn,tn+1)}}else v=t_(p,l,Fe,v,!0),si.addEventListener(m,v,I),ot.push(v),se&&se.push(m,Ei,tn,I)}else v=t_(p,l,Fe,v,!1);const Zt=p.outputs;let yn;if(It&&null!==Zt&&(yn=Zt[m])){const Mn=yn.length;if(Mn)for(let si=0;si<Mn;si+=2){const Tc=l[yn[si]][yn[si+1]].subscribe(v),Xh=ot.length;ot.push(v,Tc),se&&se.push(m,p.index,Xh,-(Xh+1))}}}(v,m,m[11],I,a,l,!!d,p),yc}function Wf(a,l,d,p){try{return!1!==d(p)}catch(m){return xm(a,m),!1}}function t_(a,l,d,p,m){return function v(I){if(I===Function)return p;const N=2&a.flags?Ii(a.index,l):l;0==(32&l[2])&&wo(N);let U=Wf(l,0,p,I),K=v.__ngNextListenerFn__;for(;K;)U=Wf(l,0,K,I)&&U,K=K.__ngNextListenerFn__;return m&&!1===U&&(I.preventDefault(),I.returnValue=!1),U}}function Xy(a=1){return function Ml(a){return(Rn.lFrame.contextLView=function Dc(a,l){for(;a>0;)l=l[15],a--;return l}(a,Rn.lFrame.contextLView))[8]}(a)}function ev(a,l){let d=null;const p=function uy(a){const l=a.attrs;if(null!=l){const d=l.indexOf(5);if(0==(1&d))return l[d+1]}return null}(a);for(let m=0;m<l.length;m++){const v=l[m];if("*"!==v){if(null===p?cy(a,v,!0):Tf(p,v))return m}else d=m}return d}function n_(a){const l=T()[16][6];if(!l.projection){const p=l.projection=ao(a?a.length:1,null),m=p.slice();let v=l.child;for(;null!==v;){const I=a?ev(v,a):0;null!==I&&(m[I]?m[I].projectionNext=v:p[I]=v,m[I]=v),v=v.next}}}function qf(a,l=0,d){const p=T(),m=R(),v=Lo(m,20+a,16,null,d||null);null===v.projection&&(v.projection=l),_n(),64!=(64&v.flags)&&function Np(a,l,d){mu(l[11],0,l,d,mh(a,d,l),Gl(d.parent||l[6],d,l))}(m,p,v)}function i_(a,l,d){return Yc(a,"",l,"",d),i_}function Yc(a,l,d,p,m){const v=T(),I=Ph(v,l,d,p);return I!==Gi&&$a(R(),ms(),v,a,I,v[11],m,!1),Yc}function s_(a,l,d,p,m){const v=a[d+1],I=null===l;let N=p?Wl(v):Vc(v),U=!1;for(;0!==N&&(!1===U||I);){const se=a[N+1];ov(a[N],l)&&(U=!0,a[N+1]=p?vh(se):yh(se)),N=p?Wl(se):Vc(se)}U&&(a[d+1]=p?yh(v):vh(v))}function ov(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&hl(a,l)>=0}const yo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Sg(a){return a.substring(yo.key,yo.keyEnd)}function Kf(a,l){const d=yo.textEnd;return d===l?-1:(l=yo.keyEnd=function Yd(a,l,d){for(;l<d&&a.charCodeAt(l)>32;)l++;return l}(a,yo.key=l,d),Iu(a,l,d))}function Iu(a,l,d){for(;l<d&&a.charCodeAt(l)<=32;)l++;return l}function xg(a,l,d){return vc(a,l,d,!1),xg}function Kd(a,l){return vc(a,l,null,!0),Kd}function uv(a){!function Zl(a,l,d,p){const m=R(),v=Ur(2);m.firstUpdatePass&&hv(m,null,v,p);const I=T();if(d!==Gi&&wa(I,v,d)){const N=m.data[Qs()];if(c_(N,p)&&!dv(m,v)){let U=p?N.classesWithoutHost:N.stylesWithoutHost;null!==U&&(d=Ze(U,d||"")),O0(m,N,I,d,p)}else!function mv(a,l,d,p,m,v,I,N){m===Gi&&(m=Ln);let U=0,K=0,se=0<m.length?m[0]:null,Fe=0<v.length?v[0]:null;for(;null!==se||null!==Fe;){const ot=U<m.length?m[U+1]:void 0,It=K<v.length?v[K+1]:void 0;let yn,Zt=null;se===Fe?(U+=2,K+=2,ot!==It&&(Zt=Fe,yn=It)):null===Fe||null!==se&&se<Fe?(U+=2,Zt=se):(K+=2,Zt=Fe,yn=It),null!==Zt&&l_(a,l,d,p,Zt,yn,I,N),se=U<m.length?m[U]:null,Fe=K<v.length?v[K]:null}}(m,N,I,I[11],I[v+1],I[v+1]=function gv(a,l,d){if(null==d||""===d)return Ln;const p=[],m=Qa(d);if(Array.isArray(m))for(let v=0;v<m.length;v++)a(p,m[v],!0);else if("object"==typeof m)for(const v in m)m.hasOwnProperty(v)&&a(p,v,m[v]);else"string"==typeof m&&l(p,m);return p}(a,l,d),p,v)}}(Yi,Kc,a,!0)}function Kc(a,l){for(let d=function Mg(a){return function lv(a){yo.key=0,yo.keyEnd=0,yo.value=0,yo.valueEnd=0,yo.textEnd=a.length}(a),Kf(a,Iu(a,0,yo.textEnd))}(l);d>=0;d=Kf(l,d))Yi(a,Sg(l),!0)}function vc(a,l,d,p){const m=T(),v=R(),I=Ur(2);v.firstUpdatePass&&hv(v,a,I,p),l!==Gi&&wa(m,I,l)&&l_(v,v.data[Qs()],m,m[11],a,m[I+1]=function V0(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=Pe(Qa(a)))),a}(l,d),p,I)}function dv(a,l){return l>=a.expandoStartIndex}function hv(a,l,d,p){const m=a.data;if(null===m[d+1]){const v=m[Qs()],I=dv(a,d);c_(v,p)&&null===l&&!I&&(l=!1),l=function fv(a,l,d,p){const m=function ea(a){const l=Rn.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let v=p?l.residualClasses:l.residualStyles;if(null===m)0===(p?l.classBindings:l.styleBindings)&&(d=Jf(d=o_(null,a,l,d,p),l.attrs,p),v=null);else{const I=l.directiveStylingLast;if(-1===I||a[I]!==m)if(d=o_(m,a,l,d,p),null===v){let U=function B0(a,l,d){const p=d?l.classBindings:l.styleBindings;if(0!==Vc(p))return a[Wl(p)]}(a,l,p);void 0!==U&&Array.isArray(U)&&(U=o_(null,a,l,U[1],p),U=Jf(U,l.attrs,p),function U0(a,l,d,p){a[Wl(d?l.classBindings:l.styleBindings)]=p}(a,l,p,U))}else v=function pv(a,l,d){let p;const m=l.directiveEnd;for(let v=1+l.directiveStylingLast;v<m;v++)p=Jf(p,a[v].hostAttrs,d);return Jf(p,l.attrs,d)}(a,l,p)}return void 0!==v&&(p?l.residualClasses=v:l.residualStyles=v),d}(m,v,l,p),function sv(a,l,d,p,m,v){let I=v?l.classBindings:l.styleBindings,N=Wl(I),U=Vc(I);a[p]=d;let se,K=!1;if(Array.isArray(d)){const Fe=d;se=Fe[1],(null===se||hl(Fe,se)>0)&&(K=!0)}else se=d;if(m)if(0!==U){const ot=Wl(a[N+1]);a[p+1]=Lp(ot,N),0!==ot&&(a[ot+1]=Yo(a[ot+1],p)),a[N+1]=function Bp(a,l){return 131071&a|l<<17}(a[N+1],p)}else a[p+1]=Lp(N,0),0!==N&&(a[N+1]=Yo(a[N+1],p)),N=p;else a[p+1]=Lp(U,0),0===N?N=p:a[U+1]=Yo(a[U+1],p),U=p;K&&(a[p+1]=yh(a[p+1])),s_(a,se,p,!0),s_(a,se,p,!1),function Zd(a,l,d,p,m){const v=m?a.residualClasses:a.residualStyles;null!=v&&"string"==typeof l&&hl(v,l)>=0&&(d[p+1]=vh(d[p+1]))}(l,se,a,p,v),I=Lp(N,U),v?l.classBindings=I:l.styleBindings=I}(m,v,l,d,I,p)}}function o_(a,l,d,p,m){let v=null;const I=d.directiveEnd;let N=d.directiveStylingLast;for(-1===N?N=d.directiveStart:N++;N<I&&(v=l[N],p=Jf(p,v.hostAttrs,m),v!==a);)N++;return null!==a&&(d.directiveStylingLast=N),p}function Jf(a,l,d){const p=d?1:2;let m=-1;if(null!==l)for(let v=0;v<l.length;v++){const I=l[v];"number"==typeof I?m=I:m===p&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Yi(a,I,!!d||l[++v]))}return void 0===a?null:a}function l_(a,l,d,p,m,v,I,N){if(!(3&l.type))return;const U=a.data,K=U[N+1];Jd(function Up(a){return 1==(1&a)}(K)?Og(U,l,d,m,Vc(K),I):void 0)||(Jd(v)||function Od(a){return 2==(2&a)}(K)&&(v=Og(U,null,d,m,N,I)),function Bc(a,l,d,p,m){const v=Zi(a);if(l)m?v?a.addClass(d,p):d.classList.add(p):v?a.removeClass(d,p):d.classList.remove(p);else{let I=-1===p.indexOf("-")?void 0:kc.DashCase;if(null==m)v?a.removeStyle(d,p,I):d.style.removeProperty(p);else{const N="string"==typeof m&&m.endsWith("!important");N&&(m=m.slice(0,-10),I|=kc.Important),v?a.setStyle(d,p,m,I):d.style.setProperty(p,m,N?"important":"")}}}(p,I,Pt(Qs(),d),m,v))}function Og(a,l,d,p,m,v){const I=null===l;let N;for(;m>0;){const U=a[m],K=Array.isArray(U),se=K?U[1]:U,Fe=null===se;let ot=d[m+1];ot===Gi&&(ot=Fe?Ln:void 0);let It=Fe?dl(ot,p):se===p?ot:void 0;if(K&&!Jd(It)&&(It=dl(U,p)),Jd(It)&&(N=It,I))return N;const Zt=a[m+1];m=I?Wl(Zt):Vc(Zt)}if(null!==l){let U=v?l.residualClasses:l.residualStyles;null!=U&&(N=dl(U,p))}return N}function Jd(a){return void 0!==a}function c_(a,l){return 0!=(a.flags&(l?16:32))}function Su(a,l=""){const d=T(),p=R(),m=a+20,v=p.firstCreatePass?Lo(p,m,1,l,null):p.data[m],I=d[m]=yf(d[11],l);Zu(p,d,I,v),Yt(v,!1)}function u_(a){return Jc("",a,""),u_}function Jc(a,l,d){const p=T(),m=Ph(p,a,l,d);return m!==Gi&&dc(p,Qs(),m),Jc}function d_(a,l,d,p,m){const v=T(),I=function ad(a,l,d,p,m,v){const N=zc(a,wr(),d,m);return Ur(2),N?l+Ve(d)+p+Ve(m)+v:Gi}(v,a,l,d,p,m);return I!==Gi&&dc(v,Qs(),I),d_}function y_(a,l,d){const p=T();return wa(p,mr(),l)&&$a(R(),ms(),p,a,l,p[11],d,!0),y_}const Il=void 0;var il=["en",[["a","p"],["AM","PM"],Il],[["AM","PM"],Il,Il],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Il,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Il,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Il,"{1} 'at' {0}",Il],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bc(a){const d=Math.floor(Math.abs(a)),p=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===p?1:5}];let Qd={};function Wh(a){const l=function Io(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=Av(l);if(d)return d;const p=l.split("-")[0];if(d=Av(p),d)return d;if("en"===p)return il;throw new Error(`Missing locale data for the locale "${a}".`)}function ja(a){return Wh(a)[ri.PluralCase]}function Av(a){return a in Qd||(Qd[a]=xn.ng&&xn.ng.common&&xn.ng.common.locales&&xn.ng.common.locales[a]),Qd[a]}var ri=(()=>((ri=ri||{})[ri.LocaleId=0]="LocaleId",ri[ri.DayPeriodsFormat=1]="DayPeriodsFormat",ri[ri.DayPeriodsStandalone=2]="DayPeriodsStandalone",ri[ri.DaysFormat=3]="DaysFormat",ri[ri.DaysStandalone=4]="DaysStandalone",ri[ri.MonthsFormat=5]="MonthsFormat",ri[ri.MonthsStandalone=6]="MonthsStandalone",ri[ri.Eras=7]="Eras",ri[ri.FirstDayOfWeek=8]="FirstDayOfWeek",ri[ri.WeekendRange=9]="WeekendRange",ri[ri.DateFormat=10]="DateFormat",ri[ri.TimeFormat=11]="TimeFormat",ri[ri.DateTimeFormat=12]="DateTimeFormat",ri[ri.NumberSymbols=13]="NumberSymbols",ri[ri.NumberFormats=14]="NumberFormats",ri[ri.CurrencyCode=15]="CurrencyCode",ri[ri.CurrencySymbol=16]="CurrencySymbol",ri[ri.CurrencyName=17]="CurrencyName",ri[ri.Currencies=18]="Currencies",ri[ri.Directionality=19]="Directionality",ri[ri.PluralCase=20]="PluralCase",ri[ri.ExtraData=21]="ExtraData",ri))();const Mu=["zero","one","two","few","many"],C_="en-US",Xf={marker:"element"},Ec={marker:"ICU"};var bs=(()=>((bs=bs||{})[bs.SHIFT=2]="SHIFT",bs[bs.APPEND_EAGERLY=1]="APPEND_EAGERLY",bs[bs.COMMENT=2]="COMMENT",bs))();let Y0=C_;function Pg(a,l,d){const p=l.insertBeforeIndex,m=Array.isArray(p)?p[0]:p;return null===m?bf(a,0,d):G(d[m])}function ep(a,l,d,p,m){const v=l.insertBeforeIndex;if(Array.isArray(v)){let I=p,N=null;if(3&l.type||(N=I,I=m),null!==I&&0==(2&l.flags))for(let U=1;U<v.length;U++)jl(a,I,d[v[U]],N,!1)}}function eh(a,l){if(a.push(l),a.length>1)for(let d=a.length-2;d>=0;d--){const p=a[d];Ia(p)||E_(p,l)&&null===K0(p)&&T_(p,l.index)}}function Ia(a){return!(64&a.type)}function E_(a,l){return Ia(l)||a.index>l.index}function K0(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function T_(a,l){const d=a.insertBeforeIndex;Array.isArray(d)?d[0]=l:(ko(Pg,ep),a.insertBeforeIndex=l)}function xu(a,l){const d=a.data[l];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function kg(a,l,d){const p=Sf(a,d,64,null,null);return eh(l,p),p}function qh(a,l){const d=l[a.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function w_(a){return a>>>17}function Fg(a){return(131070&a)>>>1}let Zh=0,c=0;function g(a,l,d,p){const m=d[11];let I,v=null;for(let N=0;N<l.length;N++){const U=l[N];if("string"==typeof U){const K=l[++N];null===d[K]&&(d[K]=yf(m,U))}else if("number"==typeof U)switch(1&U){case 0:const K=w_(U);let se,Fe;if(null===v&&(v=K,I=lc(m,p)),K===v?(se=p,Fe=I):(se=null,Fe=G(d[K])),null!==Fe){const yn=Fg(U);jl(m,Fe,d[yn],se,!1);const si=xu(a,yn);if(null!==si&&"object"==typeof si){const tn=qh(si,d);null!==tn&&g(a,si.create[tn],d,d[si.anchorIdx])}}break;case 1:const It=l[++N],Zt=l[++N];Tm(m,Pt(U>>>1,d),null,null,It,Zt,null)}else switch(U){case Ec:const K=l[++N],se=l[++N];null===d[se]&&ha(d[se]=vf(m,K),d);break;case Xf:const Fe=l[++N],ot=l[++N];null===d[ot]&&ha(d[ot]=rm(m,Fe,null),d)}}}function y(a,l,d,p,m){for(let v=0;v<d.length;v++){const I=d[v],N=d[++v];if(I&m){let U="";for(let K=v+1;K<=v+N;K++){const se=d[K];if("string"==typeof se)U+=se;else if("number"==typeof se)if(se<0)U+=Ve(l[p-se]);else{const Fe=se>>>2;switch(3&se){case 1:const ot=d[++K],It=d[++K],Zt=a.data[Fe];"string"==typeof Zt?Tm(l[11],l[Fe],null,Zt,ot,U,It):$a(a,Zt,l,ot,U,l[11],It,!1);break;case 0:const yn=l[Fe];null!==yn&&sy(l[11],yn,U);break;case 2:B(a,xu(a,Fe),l,U);break;case 3:D(a,xu(a,Fe),p,l)}}}}else{const U=d[v+1];if(U>0&&3==(3&U)){const se=xu(a,U>>>2);l[se.currentCaseLViewIndex]<0&&D(a,se,p,l)}}v+=N}}function D(a,l,d,p){let m=p[l.currentCaseLViewIndex];if(null!==m){let v=Zh;m<0&&(m=p[l.currentCaseLViewIndex]=~m,v=-1),y(a,p,l.update[m],d,v)}}function B(a,l,d,p){const m=function ie(a,l){let d=a.cases.indexOf(l);if(-1===d)switch(a.type){case 1:{const p=function Xd(a,l){const d=ja(l)(parseInt(a,10)),p=Mu[d];return void 0!==p?p:"other"}(l,function Mv(){return Y0}());d=a.cases.indexOf(p),-1===d&&"other"!==p&&(d=a.cases.indexOf("other"));break}case 0:d=a.cases.indexOf("other")}return-1===d?null:d}(l,p);if(qh(l,d)!==m&&(J(a,l,d),d[l.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const I=d[l.anchorIdx];I&&g(a,l.create[m],d,I)}}function J(a,l,d){let p=qh(l,d);if(null!==p){const m=l.remove[p];for(let v=0;v<m.length;v++){const I=m[v];if(I>0){const N=Pt(I,d);null!==N&&Ad(d[11],N)}else J(a,xu(a,~I),d)}}}function ze(){const a=[];let d,p,l=-1;function v(N,U){l=0;const K=qh(N,U);p=null!==K?N.remove[K]:Ln}function I(){if(l<p.length){const N=p[l++];return N>0?d[N]:(a.push(l,p),v(d[1].data[~N],d),I())}return 0===a.length?null:(p=a.pop(),l=a.pop(),I())}return function m(N,U){for(d=U;a.length;)a.pop();return v(N.value,U),I}}const Si=/\ufffd(\d+):?\d*\ufffd/gi,vo=/\ufffd(\d+)\ufffd/,ls=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Cs=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ws=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,uo=/\uE500/g;function QE(a,l,d,p,m,v,I){const N=Bd(a,p,1,null);let U=N<<bs.SHIFT,K=Mt();l===K&&(K=null),null===K&&(U|=bs.APPEND_EAGERLY),I&&(U|=bs.COMMENT,function Ip(a){void 0===Dp&&(Dp=a())}(ze)),m.push(U,null===v?"":v);const se=Sf(a,N,I?32:1,null===v?"":v,null);eh(d,se);const Fe=se.index;return Yt(se,!1),null!==K&&l!==K&&function J0(a,l){let d=a.insertBeforeIndex;null===d?(ko(Pg,ep),d=a.insertBeforeIndex=[null,l]):(function Se(a,l,d){a!=l&&Je(d,a,l,"==")}(Array.isArray(d),!0,"Expecting array here"),d.push(l))}(K,Fe),se}function mw(a,l,d,p,m,v,I){const N=I.match(Si),U=QE(a,l,d,v,p,N?null:I,!1);N&&Uo(m,I,U.index,null,0,null)}function Uo(a,l,d,p,m,v){const I=a.length,N=I+1;a.push(null,null);const U=I+2,K=l.split(Si);let se=0;for(let Fe=0;Fe<K.length;Fe++){const ot=K[Fe];if(1&Fe){const It=m+parseInt(ot,10);a.push(-1-It),se|=Q0(It)}else""!==ot&&a.push(ot)}return a.push(d<<2|(p?1:0)),p&&a.push(p,v),a[I]=se,a[N]=a.length-U,se}function Q0(a){return 1<<Math.min(a,31)}function dC(a){let l,v,d="",p=0,m=!1;for(;null!==(l=Cs.exec(a));)m?l[0]===`\ufffd/*${v}\ufffd`&&(p=l.index,m=!1):(d+=a.substring(p,l.index+l[0].length),v=l[1],m=!0);return d+=a.substr(p),d}function Nv(a,l,d,p,m,v){let I=0;const N={type:m.type,currentCaseLViewIndex:Bd(a,l,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function r1(a,l,d){a.push(Q0(l.mainBinding),2,-1-l.mainBinding,d<<2|2)})(d,m,v),function xv(a,l,d){const p=a.data[l];null===p?a.data[l]=d:p.value=d}(a,v,N);const U=m.values;for(let K=0;K<U.length;K++){const se=U[K],Fe=[];for(let ot=0;ot<se.length;ot++){const It=se[ot];if("string"!=typeof It){const Zt=Fe.push(It)-1;se[ot]=`\x3c!--\ufffd${Zt}\ufffd--\x3e`}}I=t1(a,N,l,d,p,m.cases[K],se.join(""),Fe)|I}I&&function pC(a,l,d){a.push(l,1,d<<2|3)}(d,I,v)}function e1(a){const l=[],d=[];let p=1,m=0;const v=X0(a=a.replace(ls,function(I,N,U){return p="select"===U?0:1,m=parseInt(N.substr(1),10),""}));for(let I=0;I<v.length;){let N=v[I++].trim();1===p&&(N=N.replace(/\s*(?:=)?(\w+)\s*/,"$1")),N.length&&l.push(N);const U=X0(v[I++]);l.length>d.length&&d.push(U)}return{type:p,mainBinding:m,cases:l,values:d}}function X0(a){if(!a)return[];let l=0;const d=[],p=[],m=/[{}]/g;let v;for(m.lastIndex=0;v=m.exec(a);){const N=v.index;if("}"==v[0]){if(d.pop(),0==d.length){const U=a.substring(l,N);ls.test(U)?p.push(e1(U)):p.push(U),l=N+1}}else{if(0==d.length){const U=a.substring(l,N);p.push(U),l=N+1}d.push("{")}}const I=a.substring(l);return p.push(I),p}function t1(a,l,d,p,m,v,I,N){const U=[],K=[],se=[];l.cases.push(v),l.create.push(U),l.remove.push(K),l.update.push(se);const ot=function oh(a){const l=new Nc(a);return function M(){try{return!!(new window.DOMParser).parseFromString(fl(""),"text/html")}catch(a){return!1}}()?new oc(l):l}(Ks()).getInertBodyElement(I),It=function Gs(a){return"content"in a&&function cf(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}(ot)||ot;return It?hC(a,l,d,p,U,K,se,It,m,N,0):0}function hC(a,l,d,p,m,v,I,N,U,K,se){let Fe=0,ot=N.firstChild;for(;ot;){const It=Bd(a,d,1,null);switch(ot.nodeType){case Node.ELEMENT_NODE:const Zt=ot,yn=Zt.tagName.toLowerCase();if(pl.hasOwnProperty(yn)){Bg(m,Xf,yn,U,It),a.data[It]=yn;const Ei=Zt.attributes;for(let $r=0;$r<Ei.length;$r++){const ps=Ei.item($r),Tc=ps.name.toLowerCase();ps.value.match(Si)?Rc.hasOwnProperty(Tc)&&Uo(I,ps.value,It,ps.name,0,Ul[Tc]?ne:ju[Tc]?Oe:null):s1(m,It,ps)}Fe=hC(a,l,d,p,m,v,I,ot,It,K,se+1)|Fe,fC(v,It,se)}break;case Node.TEXT_NODE:const Mn=ot.textContent||"",si=Mn.match(Si);Bg(m,null,si?"":Mn,U,It),fC(v,It,se),si&&(Fe=Uo(I,Mn,It,null,0,null)|Fe);break;case Node.COMMENT_NODE:const tn=vo.exec(ot.textContent||"");if(tn){const $r=K[parseInt(tn[1],10)];Bg(m,Ec,"",U,It),Nv(a,d,p,U,$r,It),n1(v,It,se)}}ot=ot.nextSibling}return Fe}function fC(a,l,d){0===d&&a.push(l)}function n1(a,l,d){0===d&&(a.push(~l),a.push(l))}function Bg(a,l,d,p,m){null!==l&&a.push(l),a.push(d,m,function I_(a,l,d){return a|l<<17|d<<1}(0,p,m))}function s1(a,l,d){a.push(l<<1|1,d.name,d.value)}function tb(a,l,d=-1){const p=R(),m=T(),v=20+a,I=tr(p.consts,l),N=Mt();p.firstCreatePass&&function cC(a,l,d,p,m,v){const I=Mt(),N=[],U=[],K=[[]];m=function Ov(a,l){if(function XE(a){return-1===a}(l))return dC(a);{const d=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,p=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return dC(a.substring(d,p))}}(m,v);const se=function Yh(a){return a.replace(uo," ")}(m).split(Ws);for(let Fe=0;Fe<se.length;Fe++){let ot=se[Fe];if(0==(1&Fe)){const It=X0(ot);for(let Zt=0;Zt<It.length;Zt++){let yn=It[Zt];if(0==(1&Zt)){const Mn=yn;""!==Mn&&mw(a,I,K[0],N,U,d,Mn)}else{const Mn=yn;if("object"!=typeof Mn)throw new Error(`Unable to parse ICU expression in "${m}" message.`);Nv(a,d,U,l,Mn,QE(a,I,K[0],d,N,"",!0).index)}}}else{const It=47===ot.charCodeAt(0),yn=(ot.charCodeAt(It?1:0),20+Number.parseInt(ot.substring(It?2:1)));if(It)K.shift(),Yt(Mt(),!1);else{const Mn=kg(a,K[0],yn);K.unshift([]),Yt(Mn,!0)}}}a.data[p]={create:N,update:U}}(p,null===N?0:N.index,m,v,I,d);const U=p.data[v],se=$t(p,N===m[6]?null:N,m);(function h(a,l,d,p){const m=a[11];for(let v=0;v<l.length;v++){const I=l[v++],N=l[v],U=(I&bs.COMMENT)===bs.COMMENT,K=(I&bs.APPEND_EAGERLY)===bs.APPEND_EAGERLY,se=I>>>bs.SHIFT;let Fe=a[se];null===Fe&&(Fe=a[se]=U?m.createComment(N):yf(m,N)),K&&null!==d&&jl(m,d,Fe,p,!1)}})(m,U.create,se,N&&8&N.type?m[N.index]:null),Pi(!0)}function mC(a,l,d){tb(a,l,d),function gC(){Pi(!1)}()}function nb(a){return function i(a){a&&(Zh|=1<<Math.min(c,31)),c++}(wa(T(),mr(),a)),nb}function fs(a){!function o(a,l,d){if(c>0){const p=a.data[d];y(a,l,Array.isArray(p)?p:p.update,wr()-c-1,Zh)}Zh=0,c=0}(R(),T(),a+20)}function Pv(a,l,d,p,m){if(a=Be(a),Array.isArray(a))for(let v=0;v<a.length;v++)Pv(a[v],l,d,p,m);else{const v=R(),I=T();let N=Eu(a)?a:Be(a.provide),U=Rm(a);const K=Ee(),se=1048575&K.providerIndexes,Fe=K.directiveStart,ot=K.providerIndexes>>20;if(Eu(a)||!a.multi){const It=new Go(U,m,zf),Zt=kv(N,l,m?se:se+ot,Fe);-1===Zt?(pe(F(K,I),v,N),ib(v,a,l.length),l.push(N),K.directiveStart++,K.directiveEnd++,m&&(K.providerIndexes+=1048576),d.push(It),I.push(It)):(d[Zt]=It,I[Zt]=It)}else{const It=kv(N,l,se+ot,Fe),Zt=kv(N,l,se,se+ot),yn=It>=0&&d[It],Mn=Zt>=0&&d[Zt];if(m&&!Mn||!m&&!yn){pe(F(K,I),v,N);const si=function _C(a,l,d,p,m){const v=new Go(a,d,zf);return v.multi=[],v.index=l,v.componentProviders=0,A_(v,m,p&&!d),v}(m?g1:p1,d.length,m,p,U);!m&&Mn&&(d[Zt].providerFactory=si),ib(v,a,l.length,0),l.push(N),K.directiveStart++,K.directiveEnd++,m&&(K.providerIndexes+=1048576),d.push(si),I.push(si)}else ib(v,a,It>-1?It:Zt,A_(d[m?Zt:It],U,!m&&p));!m&&p&&Mn&&d[Zt].componentProviders++}}}function ib(a,l,d,p){const m=Eu(l),v=function vs(a){return!!a.useClass}(l);if(m||v){const U=(v?Be(l.useClass):l).prototype.ngOnDestroy;if(U){const K=a.destroyHooks||(a.destroyHooks=[]);if(!m&&l.multi){const se=K.indexOf(d);-1===se?K.push(d,[p,U]):K[se+1].push(p,U)}else K.push(d,U)}}}function A_(a,l,d){return d&&a.componentProviders++,a.multi.push(l)-1}function kv(a,l,d,p){for(let m=d;m<p;m++)if(l[m]===a)return m;return-1}function p1(a,l,d,p){return rb(this.multi,[])}function g1(a,l,d,p){const m=this.multi;let v;if(this.providerFactory){const I=this.providerFactory.componentProviders,N=Oi(d,d[1],this.providerFactory.index,p);v=N.slice(0,I),rb(m,v);for(let U=I;U<N.length;U++)v.push(N[U])}else v=[],rb(m,v);return v}function rb(a,l){for(let d=0;d<a.length;d++)l.push((0,a[d])());return l}function sb(a,l=[]){return d=>{d.providersResolver=(p,m)=>function f1(a,l,d){const p=R();if(p.firstCreatePass){const m=jt(a);Pv(d,p.data,p.blueprint,m,!0),Pv(l,p.data,p.blueprint,m,!1)}}(p,m?m(a):a,l)}}class yC{}class y1{resolveComponentFactory(l){throw function _1(a){const l=Error(`No component factory found for ${Pe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Fv=(()=>{class a{}return a.NULL=new y1,a})();function v1(){return Vg(Ee(),T())}function Vg(a,l){return new S_(qt(a,l))}let S_=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=v1,a})();function b1(a){return a instanceof S_?a.nativeElement:a}class bC{}let CC=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function C1(){const a=T(),d=Ii(Ee().index,a);return function EC(a){return a[11]}(be(d)?d:a)}(),a})(),vw=(()=>{class a{}return a.\u0275prov=_t({token:a,providedIn:"root",factory:()=>null}),a})();class E1{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const T1=new E1("13.3.0"),ob={};function ab(a,l,d,p,m=!1){for(;null!==d;){const v=l[d.index];if(null!==v&&p.push(G(v)),$e(v))for(let N=10;N<v.length;N++){const U=v[N],K=U[1].firstChild;null!==K&&ab(U[1],U,K,p)}const I=d.type;if(8&I)ab(a,l,d.child,p);else if(32&I){const N=Zo(d,l);let U;for(;U=N();)p.push(U)}else if(16&I){const N=Cf(l,d);if(Array.isArray(N))p.push(...N);else{const U=Po(l[16]);ab(U[1],U,N,p,!0)}}d=m?d.projectionNext:d.next}return p}class Lv{constructor(l,d){this._lView=l,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,d=l[1];return ab(d,l,d.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if($e(l)){const d=l[8],p=d?d.indexOf(this):-1;p>-1&&(Sp(l,p),oa(d,p))}this._attachedToViewContainer=!1}am(this._lView[1],this._lView)}onDestroy(l){Ey(this._lView[1],this._lView,null,l)}markForCheck(){wo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Am(this._lView[1],this._lView,this.context)}checkNoChanges(){!function b0(a,l,d){nr(!0);try{Am(a,l,d)}finally{nr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new it(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sm(a,l){Lc(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new it(902,"");this._appRef=l}}class bw extends Lv{constructor(l){super(l),this._view=l}detectChanges(){rg(this._view)}checkNoChanges(){!function Sm(a){nr(!0);try{rg(a)}finally{nr(!1)}}(this._view)}get context(){return null}}class w1 extends Fv{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const d=un(l);return new TC(d,this.ngModule)}}function D1(a){const l=[];for(let d in a)a.hasOwnProperty(d)&&l.push({propName:a[d],templateName:d});return l}class TC extends yC{constructor(l,d){super(),this.componentDef=l,this.ngModule=d,this.componentType=l.type,this.selector=function Md(a){return a.map(yu).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return D1(this.componentDef.inputs)}get outputs(){return D1(this.componentDef.outputs)}create(l,d,p,m){const v=(m=m||this.ngModule)?function Ew(a,l){return{get:(d,p,m)=>{const v=a.get(d,ob,m);return v!==ob||p===ob?v:l.get(d,p,m)}}}(l,m.injector):l,I=v.get(bC,z),N=v.get(vw,null),U=I.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",se=p?function Cy(a,l,d){if(Zi(a))return a.selectRootElement(l,d===ni.ShadowDom);let p="string"==typeof l?a.querySelector(l):l;return p.textContent="",p}(U,p,this.componentDef.encapsulation):rm(I.createRenderer(null,this.componentDef),K,function Cw(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(K)),Fe=this.componentDef.onPush?576:528,ot=function zy(a,l){return{components:[],scheduler:a||ey,clean:Oy,playerHandler:l||null,flags:0}}(),It=mo(0,null,null,1,0,null,null,null,null,null),Zt=td(null,It,ot,Fe,null,null,I,U,N,v);let yn,Mn;Wa(Zt);try{const si=function fg(a,l,d,p,m,v){const I=d[1];d[20]=a;const U=Lo(I,20,2,"#host",null),K=U.mergedAttrs=l.hostAttrs;null!==K&&(nd(U,K,!0),null!==a&&(ra(m,a,K),null!==U.classes&&Rp(m,a,U.classes),null!==U.styles&&Uc(m,a,U.styles)));const se=p.createRenderer(a,l),Fe=td(d,Yp(l),null,l.onPush?64:16,d[20],U,p,se,v||null,null);return I.firstCreatePass&&(pe(F(U,d),I,l.type),Dh(I,U),Ay(U,d.length,1)),Ko(d,Fe),d[20]=Fe}(se,this.componentDef,Zt,I,U);if(se)if(p)ra(U,se,["ng-version",T1.full]);else{const{attrs:tn,classes:Ei}=function Fp(a){const l=[],d=[];let p=1,m=2;for(;p<a.length;){let v=a[p];if("string"==typeof v)2===m?""!==v&&l.push(v,a[++p]):8===m&&d.push(v);else{if(!Va(m))break;m=v}p++}return{attrs:l,classes:d}}(this.componentDef.selectors[0]);tn&&ra(U,se,tn),Ei&&Ei.length>0&&Rp(U,se,Ei.join(" "))}if(Mn=yi(It,20),void 0!==d){const tn=Mn.projection=[];for(let Ei=0;Ei<this.ngContentSelectors.length;Ei++){const $r=d[Ei];tn.push(null!=$r?Array.from($r):null)}}yn=function kf(a,l,d,p,m){const v=d[1],I=function ym(a,l,d){const p=Ee();a.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),Sy(a,p,l,Bd(a,l,1,null),d));const m=Oi(l,a,p.directiveStart,p);ha(m,l);const v=qt(p,l);return v&&ha(v,l),m}(v,d,l);if(p.components.push(I),a[8]=I,m&&m.forEach(U=>U(I,l)),l.contentQueries){const U=Ee();l.contentQueries(1,I,U.directiveStart)}const N=Ee();return!v.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Oa(N.index),bm(d[1],N,0,N.directiveStart,N.directiveEnd,l),Cm(l,I)),I}(si,this.componentDef,Zt,ot,[Bm]),Th(It,Zt,null)}finally{Ho()}return new ww(this.componentType,yn,Vg(Mn,Zt),Zt,Mn)}}class ww extends class m1{}{constructor(l,d,p,m,v){super(),this.location=p,this._rootLView=m,this._tNode=v,this.instance=d,this.hostView=this.changeDetectorRef=new bw(m),this.componentType=l}get injector(){return new Hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class M_{}class I1{}const $g=new Map;class lb extends M_{constructor(l,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new w1(this);const p=Un(l);this._bootstrapComponents=el(p.bootstrap),this._r3Injector=Vd(l,d,[{provide:M_,useValue:this},{provide:Fv,useValue:this.componentFactoryResolver}],Pe(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,d=Cl.THROW_IF_NOT_FOUND,p=bn.Default){return l===Cl||l===M_||l===Nm?this:this._r3Injector.get(l,d,p)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class wC extends I1{constructor(l){super(),this.moduleType=l,null!==Un(l)&&function Iw(a){const l=new Set;!function d(p){const m=Un(p,!0),v=m.id;null!==v&&(function A1(a,l,d){if(l&&l!==d)throw new Error(`Duplicate module registered for ${a} - ${Pe(l)} vs ${Pe(l.name)}`)}(v,$g.get(v),p),$g.set(v,p));const I=el(m.imports);for(const N of I)l.has(N)||(l.add(N),d(N))}(a)}(l)}create(l){return new lb(this.moduleType,l)}}function eo(a,l,d,p){return function hb(a,l,d,p,m,v){const I=l+d;return wa(a,I,m)?pc(a,I+1,v?p.call(v,m):p(m)):Kh(a,I+1)}(T(),Wi(),a,l,d,p)}function Bv(a,l,d,p,m){return DC(T(),Wi(),a,l,d,p,m)}function cb(a,l,d,p,m,v){return IC(T(),Wi(),a,l,d,p,m,v)}function Kh(a,l){const d=a[l];return d===Gi?void 0:d}function DC(a,l,d,p,m,v,I){const N=l+d;return zc(a,N,m,v)?pc(a,N+2,I?p.call(I,m,v):p(m,v)):Kh(a,N+2)}function IC(a,l,d,p,m,v,I,N){const U=l+d;return function Uf(a,l,d,p,m){const v=zc(a,l,d,p);return wa(a,l+2,m)||v}(a,U,m,v,I)?pc(a,U+3,N?p.call(N,m,v,I):p(m,v,I)):Kh(a,U+3)}function AC(a,l,d,p,m,v,I,N,U){const K=l+d;return function nl(a,l,d,p,m,v){const I=zc(a,l,d,p);return zc(a,l+2,m,v)||I}(a,K,m,v,I,N)?pc(a,K+4,U?p.call(U,m,v,I,N):p(m,v,I,N)):Kh(a,K+4)}function np(a,l){const d=R();let p;const m=a+20;d.firstCreatePass?(p=function ip(a,l){if(l)for(let d=l.length-1;d>=0;d--){const p=l[d];if(a===p.name)return p}}(l,d.pipeRegistry),d.data[m]=p,p.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(m,p.onDestroy)):p=d.data[m];const v=p.factory||(p.factory=br(p.type)),I=Kt(zf);try{const N=ka(!1),U=v();return ka(N),function qc(a,l,d,p){d>=a.data.length&&(a.data[d]=null,a.blueprint[d]=null),l[d]=p}(d,T(),m,U),U}finally{Kt(I)}}function N_(a,l,d,p){const m=a+20,v=T(),I=xi(v,m);return Hg(v,m)?DC(v,Wi(),l,I.transform,d,p,I):I.transform(d,p)}function fb(a,l,d,p,m){const v=a+20,I=T(),N=xi(I,v);return Hg(I,v)?IC(I,Wi(),l,N.transform,d,p,m,N):N.transform(d,p,m)}function R_(a,l,d,p,m,v){const I=a+20,N=T(),U=xi(N,I);return Hg(N,I)?AC(N,Wi(),l,U.transform,d,p,m,v,U):U.transform(d,p,m,v)}function Hg(a,l){return a[1].data[l].pure}function MC(a){return l=>{setTimeout(a,void 0,l)}}const th=class Sw extends b.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,d,p){var m,v,I;let N=l,U=d||(()=>null),K=p;if(l&&"object"==typeof l){const Fe=l;N=null===(m=Fe.next)||void 0===m?void 0:m.bind(Fe),U=null===(v=Fe.error)||void 0===v?void 0:v.bind(Fe),K=null===(I=Fe.complete)||void 0===I?void 0:I.bind(Fe)}this.__isAsync&&(U=MC(U),N&&(N=MC(N)),K&&(K=MC(K)));const se=super.subscribe({next:N,error:U,complete:K});return l instanceof s.w0&&l.add(se),se}};function Mw(){return this._results[Jo()]()}class xC{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Jo(),p=xC.prototype;p[d]||(p[d]=Mw)}get changes(){return this._changes||(this._changes=new th)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,d){return this._results.reduce(l,d)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,d){const p=this;p.dirty=!1;const m=Ns(l);(this._changesDetected=!function ec(a,l,d){if(a.length!==l.length)return!1;for(let p=0;p<a.length;p++){let m=a[p],v=l[p];if(d&&(m=d(m),v=d(v)),v!==m)return!1}return!0}(p._results,m,d))&&(p._results=m,p.length=m.length,p.last=m[this.length-1],p.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Uv=(()=>{class a{}return a.__NG_ELEMENT_ID__=Nw,a})();const xw=Uv,Ow=class extends xw{constructor(l,d,p){super(),this._declarationLView=l,this._declarationTContainer=d,this.elementRef=p}createEmbeddedView(l){const d=this._declarationTContainer.tViews,p=td(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null);p[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[X];return null!==v&&(p[X]=v.createEmbeddedView(d)),Th(d,p,l),new Lv(p)}};function Nw(){return pb(Ee(),T())}function pb(a,l){return 4&a.type?new Ow(l,a,Vg(a,l)):null}let gb=(()=>{class a{}return a.__NG_ELEMENT_ID__=Rw,a})();function Rw(){return OC(Ee(),T())}const Pw=gb,O1=class extends Pw{constructor(l,d,p){super(),this._lContainer=l,this._hostTNode=d,this._hostLView=p}get element(){return Vg(this._hostTNode,this._hostLView)}get injector(){return new Hs(this._hostTNode,this._hostLView)}get parentInjector(){const l=we(this._hostTNode,this._hostLView);if(Es(l)){const d=Wo(l,this._hostLView),p=ba(l);return new Hs(d[1].data[p+8],d)}return new Hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const d=N1(this._lContainer);return null!==d&&d[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,d,p){const m=l.createEmbeddedView(d||{});return this.insert(m,p),m}createComponent(l,d,p,m,v){const I=l&&!function _s(a){return"function"==typeof a}(l);let N;if(I)N=d;else{const Fe=d||{};N=Fe.index,p=Fe.injector,m=Fe.projectableNodes,v=Fe.ngModuleRef}const U=I?l:new TC(un(l)),K=p||this.parentInjector;if(!v&&null==U.ngModule){const ot=(I?K:this.parentInjector).get(M_,null);ot&&(v=ot)}const se=U.create(K,m,void 0,v);return this.insert(se.hostView,N),se}insert(l,d){const p=l._lView,m=p[1];if(function gr(a){return $e(a[3])}(p)){const se=this.indexOf(l);if(-1!==se)this.detach(se);else{const Fe=p[3],ot=new O1(Fe,Fe[6],Fe[3]);ot.detach(ot.indexOf(l))}}const v=this._adjustIndex(d),I=this._lContainer;!function u0(a,l,d,p){const m=10+p,v=d.length;p>0&&(d[m-1][4]=l),p<v-10?(l[4]=d[m],sa(d,10+p,l)):(d.push(l),l[4]=null),l[3]=d;const I=l[17];null!==I&&d!==I&&function oy(a,l){const d=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===d?a[9]=[l]:d.push(l)}(I,l);const N=l[X];null!==N&&N.insertView(a),l[2]|=128}(m,p,I,v);const N=Fc(v,I),U=p[11],K=lc(U,I[7]);return null!==K&&function c0(a,l,d,p,m,v){p[0]=m,p[6]=l,Lc(a,p,d,1,m,v)}(m,I[6],U,p,K,N),l.attachToViewContainerRef(),sa(Vv(I),v,l),l}move(l,d){return this.insert(l,d)}indexOf(l){const d=N1(this._lContainer);return null!==d?d.indexOf(l):-1}remove(l){const d=this._adjustIndex(l,-1),p=Sp(this._lContainer,d);p&&(oa(Vv(this._lContainer),d),am(p[1],p))}detach(l){const d=this._adjustIndex(l,-1),p=Sp(this._lContainer,d);return p&&null!=oa(Vv(this._lContainer),d)?new Lv(p):null}_adjustIndex(l,d=0){return null==l?this.length+d:l}};function N1(a){return a[8]}function Vv(a){return a[8]||(a[8]=[])}function OC(a,l){let d;const p=l[a.index];if($e(p))d=p;else{let m;if(8&a.type)m=G(p);else{const v=l[11];m=v.createComment("");const I=qt(a,l);jl(v,lc(v,I),m,function d0(a,l){return Zi(a)?a.nextSibling(l):l.nextSibling}(v,I),!1)}l[a.index]=d=tg(p,l,m,a),Ko(l,d)}return new O1(d,a,l)}class jg{constructor(l){this.queryList=l,this.matches=null}clone(){return new jg(this.queryList)}setDirty(){this.queryList.setDirty()}}class _b{constructor(l=[]){this.queries=l}createEmbeddedView(l){const d=l.queries;if(null!==d){const p=null!==l.contentQueries?l.contentQueries[0]:d.length,m=[];for(let v=0;v<p;v++){const I=d.getByIndex(v);m.push(this.queries[I.indexInDeclarationView].clone())}return new _b(m)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let d=0;d<this.queries.length;d++)null!==HC(l,d).matches&&this.queries[d].setDirty()}}class P_{constructor(l,d,p=null){this.predicate=l,this.flags=d,this.read=p}}class RC{constructor(l=[]){this.queries=l}elementStart(l,d){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(l,d)}elementEnd(l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(l)}embeddedTView(l){let d=null;for(let p=0;p<this.length;p++){const m=null!==d?d.length:0,v=this.getByIndex(p).embeddedTView(l,m);v&&(v.indexInDeclarationView=p,null!==d?d.push(v):d=[v])}return null!==d?new RC(d):null}template(l,d){for(let p=0;p<this.queries.length;p++)this.queries[p].template(l,d)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class $v{constructor(l,d=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(l,d){this.isApplyingToNode(d)&&this.matchTNode(l,d)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,d){this.elementStart(l,d)}embeddedTView(l,d){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,d),new $v(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let p=l.parent;for(;null!==p&&8&p.type&&p.index!==d;)p=p.parent;return d===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(l,d){const p=this.metadata.predicate;if(Array.isArray(p))for(let m=0;m<p.length;m++){const v=p[m];this.matchTNodeWithReadOption(l,d,sp(d,v)),this.matchTNodeWithReadOption(l,d,_r(d,l,v,!1,!1))}else p===Uv?4&d.type&&this.matchTNodeWithReadOption(l,d,-1):this.matchTNodeWithReadOption(l,d,_r(d,l,p,!1,!1))}matchTNodeWithReadOption(l,d,p){if(null!==p){const m=this.metadata.read;if(null!==m)if(m===S_||m===gb||m===Uv&&4&d.type)this.addMatch(d.index,-2);else{const v=_r(d,l,m,!1,!1);null!==v&&this.addMatch(d.index,v)}else this.addMatch(d.index,p)}}addMatch(l,d){null===this.matches?this.matches=[l,d]:this.matches.push(l,d)}}function sp(a,l){const d=a.localNames;if(null!==d)for(let p=0;p<d.length;p+=2)if(d[p]===l)return d[p+1];return null}function P1(a,l,d,p){return-1===d?function kw(a,l){return 11&a.type?Vg(a,l):4&a.type?pb(a,l):null}(l,a):-2===d?function PC(a,l,d){return d===S_?Vg(l,a):d===Uv?pb(l,a):d===gb?OC(l,a):void 0}(a,l,p):Oi(a,a[1],d,l)}function kC(a,l,d,p){const m=l[X].queries[p];if(null===m.matches){const v=a.data,I=d.matches,N=[];for(let U=0;U<I.length;U+=2){const K=I[U];N.push(K<0?null:P1(l,v[K],I[U+1],d.metadata.read))}m.matches=N}return m.matches}function op(a,l,d,p){const m=a.queries.getByIndex(d),v=m.matches;if(null!==v){const I=kC(a,l,m,d);for(let N=0;N<v.length;N+=2){const U=v[N];if(U>0)p.push(I[N/2]);else{const K=v[N+1],se=l[-U];for(let Fe=10;Fe<se.length;Fe++){const ot=se[Fe];ot[17]===ot[3]&&op(ot[1],ot,K,p)}if(null!==se[9]){const Fe=se[9];for(let ot=0;ot<Fe.length;ot++){const It=Fe[ot];op(It[1],It,K,p)}}}}}return p}function FC(a){const l=T(),d=R(),p=_a();Ma(p+1);const m=HC(d,p);if(a.dirty&&ei(l)===(2==(2&m.metadata.flags))){if(null===m.matches)a.reset([]);else{const v=m.crossesNgTemplate?op(d,l,p,[]):kC(d,l,m,p);a.reset(v,b1),a.notifyOnChanges()}return!0}return!1}function LC(a,l,d){const p=R();p.firstCreatePass&&(VC(p,new P_(a,l,d),-1),2==(2&l)&&(p.staticViewQueries=!0)),yb(p,T(),l)}function BC(a,l,d,p){const m=R();if(m.firstCreatePass){const v=Ee();VC(m,new P_(l,d,p),v.index),function $C(a,l){const d=a.contentQueries||(a.contentQueries=[]);l!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,l)}(m,a),2==(2&d)&&(m.staticContentQueries=!0)}yb(m,T(),d)}function UC(){return function k1(a,l){return a[X].queries[l].queryList}(T(),_a())}function yb(a,l,d){const p=new xC(4==(4&d));Ey(a,l,p,p.destroy),null===l[X]&&(l[X]=new _b),l[X].queries.push(new jg(p))}function VC(a,l,d){null===a.queries&&(a.queries=new RC),a.queries.track(new $v(l,d))}function HC(a,l){return a.queries.getByIndex(l)}function vb(a,l){return pb(a,l)}function Db(...a){}const K1=new Xr("Application Initializer");let XC=(()=>{class a{constructor(d){this.appInits=d,this.resolve=Db,this.reject=Db,this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,m)=>{this.resolve=p,this.reject=m})}runInitializers(){if(this.initialized)return;const d=[],p=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const v=this.appInits[m]();if(Qm(v))d.push(v);else if(e_(v)){const I=new Promise((N,U)=>{v.subscribe({complete:N,error:U})});d.push(I)}}Promise.all(d).then(()=>{p()}).catch(m=>{this.reject(m)}),0===d.length&&p(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(qn(K1,8))},a.\u0275prov=_t({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const J1=new Xr("AppId",{providedIn:"root",factory:function Q1(){return`${eE()}${eE()}${eE()}`}});function eE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eT=new Xr("Platform Initializer"),tT=new Xr("Platform ID"),nT=new Xr("appBootstrapListener");let iT=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=_t({token:a,factory:a.\u0275fac}),a})();const tE=new Xr("LocaleId",{providedIn:"root",factory:()=>Ki(tE,bn.Optional|bn.SkipSelf)||function Ww(){return"undefined"!=typeof $localize&&$localize.locale||C_}()}),qw=new Xr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class In{constructor(l,d){this.ngModuleFactory=l,this.componentFactories=d}}let Kw=(()=>{class a{compileModuleSync(d){return new wC(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const p=this.compileModuleSync(d),v=el(Un(d).declarations).reduce((I,N)=>{const U=un(N);return U&&I.push(new TC(U)),I},[]);return new In(p,v)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=_t({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Ib=(()=>Promise.resolve(0))();function Qh(a){"undefined"==typeof Zone?Ib.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class pd{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new th(!1),this.onMicrotaskEmpty=new th(!1),this.onStable=new th(!1),this.onError=new th(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!p&&d,m.shouldCoalesceRunChangeDetection=p,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function F_(){let a=xn.requestAnimationFrame,l=xn.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const p=l[Zone.__symbol__("OriginalDelegate")];p&&(l=p)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function sT(a){const l=()=>{!function rE(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(xn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,sE(a),a.isCheckStableRunning=!0,iE(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),sE(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,p,m,v,I,N)=>{try{return Ab(a),d.invokeTask(m,v,I,N)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||a.shouldCoalesceRunChangeDetection)&&l(),oT(a)}},onInvoke:(d,p,m,v,I,N,U)=>{try{return Ab(a),d.invoke(m,v,I,N,U)}finally{a.shouldCoalesceRunChangeDetection&&l(),oT(a)}},onHasTask:(d,p,m,v)=>{d.hasTask(m,v),p===m&&("microTask"==v.change?(a._hasPendingMicrotasks=v.microTask,sE(a),iE(a)):"macroTask"==v.change&&(a.hasPendingMacrotasks=v.macroTask))},onHandleError:(d,p,m,v)=>(d.handleError(m,v),a.runOutsideAngular(()=>a.onError.emit(v)),!1)})}(m)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pd.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pd.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,d,p){return this._inner.run(l,d,p)}runTask(l,d,p,m){const v=this._inner,I=v.scheduleEventTask("NgZoneEvent: "+m,l,nE,Db,Db);try{return v.runTask(I,d,p)}finally{v.cancelTask(I)}}runGuarded(l,d,p){return this._inner.runGuarded(l,d,p)}runOutsideAngular(l){return this._outer.run(l)}}const nE={};function iE(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function sE(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Ab(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function oT(a){a._nesting--,iE(a)}class Qw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new th,this.onMicrotaskEmpty=new th,this.onStable=new th,this.onError=new th}run(l,d,p){return l.apply(d,p)}runGuarded(l,d,p){return l.apply(d,p)}runOutsideAngular(l){return l()}runTask(l,d,p,m){return l.apply(d,p)}}let oE=(()=>{class a{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pd.assertNotInAngularZone(),Qh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qh(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(d)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,p,m){let v=-1;p&&p>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==v),d(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:d,timeoutId:v,updateCb:m})}whenStable(d,p,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,p,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,p,m){return[]}}return a.\u0275fac=function(d){return new(d||a)(qn(pd))},a.\u0275prov=_t({token:a,factory:a.\u0275fac}),a})(),aE=(()=>{class a{constructor(){this._applications=new Map,Nn.addToWindow(this)}registerApplication(d,p){this._applications.set(d,p)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,p=!0){return Nn.findTestabilityInTree(this,d,p)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=_t({token:a,factory:a.\u0275fac}),a})();class aT{addToWindow(l){}findTestabilityInTree(l,d,p){return null}}function lT(a){Nn=a}let Nu,Nn=new aT;const lE=new Xr("AllowMultipleToken");class cE{constructor(l,d){this.name=l,this.token=d}}function lp(a,l,d=[]){const p=`Platform: ${l}`,m=new Xr(p);return(v=[])=>{let I=dE();if(!I||I.injector.get(lE,!1))if(a)a(d.concat(v).concat({provide:m,useValue:!0}));else{const N=d.concat(v).concat({provide:m,useValue:!0},{provide:ag,useValue:"platform"});!function L_(a){if(Nu&&!Nu.destroyed&&!Nu.injector.get(lE,!1))throw new it(400,"");Nu=a.get(hE);const l=a.get(eT,null);l&&l.forEach(d=>d())}(Cl.create({providers:N,name:p}))}return function dT(a){const l=dE();if(!l)throw new it(401,"");return l}()}}function dE(){return Nu&&!Nu.destroyed?Nu:null}let hE=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,p){const N=function hT(a,l){let d;return d="noop"===a?new Qw:("zone.js"===a?void 0:a)||new pd({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),d}(p?p.ngZone:void 0,{ngZoneEventCoalescing:p&&p.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:p&&p.ngZoneRunCoalescing||!1}),U=[{provide:pd,useValue:N}];return N.run(()=>{const K=Cl.create({providers:U,parent:this.injector,name:d.moduleType.name}),se=d.create(K),Fe=se.injector.get(hf,null);if(!Fe)throw new it(402,"");return N.runOutsideAngular(()=>{const ot=N.onError.subscribe({next:It=>{Fe.handleError(It)}});se.onDestroy(()=>{Mb(this._modules,se),ot.unsubscribe()})}),function fT(a,l,d){try{const p=d();return Qm(p)?p.catch(m=>{throw l.runOutsideAngular(()=>a.handleError(m)),m}):p}catch(p){throw l.runOutsideAngular(()=>a.handleError(p)),p}}(Fe,N,()=>{const ot=se.injector.get(XC);return ot.runInitializers(),ot.donePromise.then(()=>(function Sv(a){(function nt(a,l){null==a&&Je(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(Y0=a.toLowerCase().replace(/_/g,"-"))}(se.injector.get(tE,C_)||C_),this._moduleDoBootstrap(se),se))})})}bootstrapModule(d,p=[]){const m=fE({},p);return function cT(a,l,d){const p=new wC(d);return Promise.resolve(p)}(0,0,d).then(v=>this.bootstrapModuleFactory(v,m))}_moduleDoBootstrap(d){const p=d.injector.get(Sb);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>p.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new it(403,"");d.instance.ngDoBootstrap(p)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new it(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(qn(Cl))},a.\u0275prov=_t({token:a,factory:a.\u0275fac}),a})();function fE(a,l){return Array.isArray(l)?l.reduce(fE,a):Object.assign(Object.assign({},a),l)}let Sb=(()=>{class a{constructor(d,p,m,v,I){this._zone=d,this._injector=p,this._exceptionHandler=m,this._componentFactoryResolver=v,this._initStatus=I,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const N=new Q.y(K=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{K.next(this._stable),K.complete()})}),U=new Q.y(K=>{let se;this._zone.runOutsideAngular(()=>{se=this._zone.onStable.subscribe(()=>{pd.assertNotInAngularZone(),Qh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,K.next(!0))})})});const Fe=this._zone.onUnstable.subscribe(()=>{pd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{K.next(!1)}))});return()=>{se.unsubscribe(),Fe.unsubscribe()}});this.isStable=(0,Ce.T)(N,U.pipe((0,Ie.B)()))}bootstrap(d,p){if(!this._initStatus.done)throw new it(405,"");let m;m=d instanceof yC?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(m.componentType);const v=function uT(a){return a.isBoundToModule}(m)?void 0:this._injector.get(M_),N=m.create(Cl.NULL,[],p||m.selector,v),U=N.location.nativeElement,K=N.injector.get(oE,null),se=K&&N.injector.get(aE);return K&&se&&se.registerApplication(U,K),N.onDestroy(()=>{this.detachView(N.hostView),Mb(this.components,N),se&&se.unregisterApplication(U)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new it(101,"");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const p=d;this._views.push(p),p.attachToAppRef(this)}detachView(d){const p=d;Mb(this._views,p),p.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(nT,[]).concat(this._bootstrapListeners).forEach(m=>m(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(d){return new(d||a)(qn(pd),qn(Cl),qn(hf),qn(Fv),qn(XC))},a.\u0275prov=_t({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Mb(a,l){const d=a.indexOf(l);d>-1&&a.splice(d,1)}let pT=!0,Sn=!1;function gT(){return Sn=!0,pT}function mT(){if(Sn)throw new Error("Cannot enable prod mode after platform setup.");pT=!1}let _T=(()=>{class a{}return a.__NG_ELEMENT_ID__=yT,a})();function yT(a){return function vT(a,l,d){if(Rt(a)&&!d){const p=Ii(a.index,l);return new Lv(p,p)}return 47&a.type?new Lv(l[16],l):null}(Ee(),T(),16==(16&a))}class yE{constructor(){}supports(l){return wu(l)}create(l){return new DT(l)}}const wT=(a,l)=>l;class DT{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||wT}forEachItem(l){let d;for(d=this._itHead;null!==d;d=d._next)l(d)}forEachOperation(l){let d=this._itHead,p=this._removalsHead,m=0,v=null;for(;d||p;){const I=!p||d&&d.currentIndex<bE(p,m,v)?d:p,N=bE(I,m,v),U=I.currentIndex;if(I===p)m--,p=p._nextRemoved;else if(d=d._next,null==I.previousIndex)m++;else{v||(v=[]);const K=N-m,se=U-m;if(K!=se){for(let ot=0;ot<K;ot++){const It=ot<v.length?v[ot]:v[ot]=0,Zt=It+ot;se<=Zt&&Zt<K&&(v[ot]=It+1)}v[I.previousIndex]=se-K}}N!==U&&l(I,N,U)}}forEachPreviousItem(l){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachMovedItem(l){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}forEachIdentityChange(l){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)l(d)}diff(l){if(null==l&&(l=[]),!wu(l))throw new it(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let m,v,I,d=this._itHead,p=!1;if(Array.isArray(l)){this.length=l.length;for(let N=0;N<this.length;N++)v=l[N],I=this._trackByFn(N,v),null!==d&&Object.is(d.trackById,I)?(p&&(d=this._verifyReinsertion(d,v,I,N)),Object.is(d.item,v)||this._addIdentityChange(d,v)):(d=this._mismatch(d,v,I,N),p=!0),d=d._next}else m=0,function Lf(a,l){if(Array.isArray(a))for(let d=0;d<a.length;d++)l(a[d]);else{const d=a[Jo()]();let p;for(;!(p=d.next()).done;)l(p.value)}}(l,N=>{I=this._trackByFn(m,N),null!==d&&Object.is(d.trackById,I)?(p&&(d=this._verifyReinsertion(d,N,I,m)),Object.is(d.item,N)||this._addIdentityChange(d,N)):(d=this._mismatch(d,N,I,m),p=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,d,p,m){let v;return null===l?v=this._itTail:(v=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._reinsertAfter(l,v,m)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(p,m))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._moveAfter(l,v,m)):l=this._addAfter(new IT(d,p),v,m),l}_verifyReinsertion(l,d,p,m){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==v?l=this._reinsertAfter(v,l._prev,m):l.currentIndex!=m&&(l.currentIndex=m,this._addToMoves(l,m)),l}_truncate(l){for(;null!==l;){const d=l._next;this._addToRemovals(this._unlink(l)),l=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,d,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const m=l._prevRemoved,v=l._nextRemoved;return null===m?this._removalsHead=v:m._nextRemoved=v,null===v?this._removalsTail=m:v._prevRemoved=m,this._insertAfter(l,d,p),this._addToMoves(l,p),l}_moveAfter(l,d,p){return this._unlink(l),this._insertAfter(l,d,p),this._addToMoves(l,p),l}_addAfter(l,d,p){return this._insertAfter(l,d,p),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,d,p){const m=null===d?this._itHead:d._next;return l._next=m,l._prev=d,null===m?this._itTail=l:m._prev=l,null===d?this._itHead=l:d._next=l,null===this._linkedRecords&&(this._linkedRecords=new vE),this._linkedRecords.put(l),l.currentIndex=p,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const d=l._prev,p=l._next;return null===d?this._itHead=p:d._next=p,null===p?this._itTail=d:p._prev=d,l}_addToMoves(l,d){return l.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vE),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,d){return l.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class IT{constructor(l,d){this.item=l,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AT{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,d){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===d||d<=p.currentIndex)&&Object.is(p.trackById,l))return p;return null}remove(l){const d=l._prevDup,p=l._nextDup;return null===d?this._head=p:d._nextDup=p,null===p?this._tail=d:p._prevDup=d,null===this._head}}class vE{constructor(){this.map=new Map}put(l){const d=l.trackById;let p=this.map.get(d);p||(p=new AT,this.map.set(d,p)),p.add(l)}get(l,d){const m=this.map.get(l);return m?m.get(l,d):null}remove(l){const d=l.trackById;return this.map.get(d).remove(l)&&this.map.delete(d),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bE(a,l,d){const p=a.previousIndex;if(null===p)return p;let m=0;return d&&p<d.length&&(m=d[p]),p+l+m}class CE{constructor(){}supports(l){return l instanceof Map||Bf(l)}create(){return new ST}}class ST{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let d;for(d=this._mapHead;null!==d;d=d._next)l(d)}forEachPreviousItem(l){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)l(d)}forEachChangedItem(l){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}diff(l){if(l){if(!(l instanceof Map||Bf(l)))throw new it(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(l,(p,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,p),this._appendAfter=d,d=d._next;else{const v=this._getOrCreateRecordForKey(m,p);d=this._insertBeforeOrAppend(d,v)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let p=d;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,d){if(l){const p=l._prev;return d._next=l,d._prev=p,l._prev=d,p&&(p._next=d),l===this._mapHead&&(this._mapHead=d),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(l,d){if(this._records.has(l)){const m=this._records.get(l);this._maybeAddToChanges(m,d);const v=m._prev,I=m._next;return v&&(v._next=I),I&&(I._prev=v),m._next=null,m._prev=null,m}const p=new MT(l);return this._records.set(l,p),p.currentValue=d,this._addToAdditions(p),p}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,d){Object.is(d,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=d,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,d){l instanceof Map?l.forEach(d):Object.keys(l).forEach(p=>d(l[p],p))}}class MT{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function EE(){return new Pb([new yE])}let Pb=(()=>{class a{constructor(d){this.factories=d}static create(d,p){if(null!=p){const m=p.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:p=>a.create(d,p||EE()),deps:[[a,new Rl,new No]]}}find(d){const p=this.factories.find(m=>m.supports(d));if(null!=p)return p;throw new it(901,"")}}return a.\u0275prov=_t({token:a,providedIn:"root",factory:EE}),a})();function TE(){return new kb([new CE])}let kb=(()=>{class a{constructor(d){this.factories=d}static create(d,p){if(p){const m=p.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:p=>a.create(d,p||TE()),deps:[[a,new Rl,new No]]}}find(d){const p=this.factories.find(v=>v.supports(d));if(p)return p;throw new it(901,"")}}return a.\u0275prov=_t({token:a,providedIn:"root",factory:TE}),a})();const NT=lp(null,"core",[{provide:tT,useValue:"unknown"},{provide:hE,deps:[Cl]},{provide:aE,deps:[]},{provide:iT,deps:[]}]);let RT=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(qn(Sb))},a.\u0275mod=ue({type:a}),a.\u0275inj=Ot({}),a})()},2382:(nn,ht,L)=>{"use strict";L.d(ht,{Wl:()=>Ve,Zs:()=>He,Fj:()=>lt,qu:()=>ss,u:()=>As,sg:()=>ro,u5:()=>Rn,nD:()=>Ii,wO:()=>yi,qQ:()=>z,JU:()=>it,a5:()=>Gn,JJ:()=>rr,JL:()=>Nr,F:()=>be,On:()=>ns,YN:()=>us,wV:()=>et,c5:()=>xr,UX:()=>xs,Q7:()=>ce,EJ:()=>qr,kI:()=>Se,_Y:()=>vr,Kr:()=>Us});var b=L(5e3),s=L(9808),Q=L(8306),Ce=L(4742),Ie=L(8421),ae=L(3269),ge=L(5403),Pe=L(3268),Ze=L(1810),de=L(8996),Be=L(4004);let Te=(()=>{class q{constructor(V,T){this._renderer=V,this._elementRef=T,this.onChange=R=>{},this.onTouched=()=>{}}setProperty(V,T){this._renderer.setProperty(this._elementRef.nativeElement,V,T)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}}return q.\u0275fac=function(V){return new(V||q)(b.Y36(b.Qsj),b.Y36(b.SBq))},q.\u0275dir=b.lG2({type:q}),q})(),je=(()=>{class q extends Te{}return q.\u0275fac=function(){let j;return function(T){return(j||(j=b.n5z(q)))(T||q)}}(),q.\u0275dir=b.lG2({type:q,features:[b.qOj]}),q})();const it=new b.OlP("NgValueAccessor"),Le={provide:it,useExisting:(0,b.Gpc)(()=>Ve),multi:!0};let Ve=(()=>{class q extends je{writeValue(V){this.setProperty("checked",V)}}return q.\u0275fac=function(){let j;return function(T){return(j||(j=b.n5z(q)))(T||q)}}(),q.\u0275dir=b.lG2({type:q,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(V,T){1&V&&b.NdJ("change",function(re){return T.onChange(re.target.checked)})("blur",function(){return T.onTouched()})},features:[b._Bn([Le]),b.qOj]}),q})();const fe={provide:it,useExisting:(0,b.Gpc)(()=>lt),multi:!0},vt=new b.OlP("CompositionEventMode");let lt=(()=>{class q extends Te{constructor(V,T,R){super(V,T),this._compositionMode=R,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _e(){const q=(0,s.q)()?(0,s.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(V){this.setProperty("value",null==V?"":V)}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}}return q.\u0275fac=function(V){return new(V||q)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(vt,8))},q.\u0275dir=b.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(V,T){1&V&&b.NdJ("input",function(re){return T._handleInput(re.target.value)})("blur",function(){return T.onTouched()})("compositionstart",function(){return T._compositionStart()})("compositionend",function(re){return T._compositionEnd(re.target.value)})},features:[b._Bn([fe]),b.qOj]}),q})();function Qe(q){return null==q||0===q.length}function We(q){return null!=q&&"number"==typeof q.length}const Ye=new b.OlP("NgValidators"),Ae=new b.OlP("NgAsyncValidators"),Ke=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Se{static min(j){return ke(j)}static max(j){return function De(q){return j=>{if(Qe(j.value)||Qe(q))return null;const V=parseFloat(j.value);return!isNaN(V)&&V>q?{max:{max:q,actual:j.value}}:null}}(j)}static required(j){return Re(j)}static requiredTrue(j){return rt(j)}static email(j){return function tt(q){return Qe(q.value)||Ke.test(q.value)?null:{email:!0}}(j)}static minLength(j){return Jt(j)}static maxLength(j){return Gt(j)}static pattern(j){return mt(j)}static nullValidator(j){return null}static compose(j){return Ot(j)}static composeAsync(j){return ti(j)}}function ke(q){return j=>{if(Qe(j.value)||Qe(q))return null;const V=parseFloat(j.value);return!isNaN(V)&&V<q?{min:{min:q,actual:j.value}}:null}}function Re(q){return Qe(q.value)?{required:!0}:null}function rt(q){return!0===q.value?null:{required:!0}}function Jt(q){return j=>Qe(j.value)||!We(j.value)?null:j.value.length<q?{minlength:{requiredLength:q,actualLength:j.value.length}}:null}function Gt(q){return j=>We(j.value)&&j.value.length>q?{maxlength:{requiredLength:q,actualLength:j.value.length}}:null}function mt(q){if(!q)return nt;let j,V;return"string"==typeof q?(V="","^"!==q.charAt(0)&&(V+="^"),V+=q,"$"!==q.charAt(q.length-1)&&(V+="$"),j=new RegExp(V)):(V=q.toString(),j=q),T=>{if(Qe(T.value))return null;const R=T.value;return j.test(R)?null:{pattern:{requiredPattern:V,actualValue:R}}}}function nt(q){return null}function Je(q){return null!=q}function Et(q){const j=(0,b.QGY)(q)?(0,de.D)(q):q;return(0,b.CqO)(j),j}function pt(q){let j={};return q.forEach(V=>{j=null!=V?Object.assign(Object.assign({},j),V):j}),0===Object.keys(j).length?null:j}function Dt(q,j){return j.map(V=>V(q))}function Ft(q){return q.map(j=>function _t(q){return!q.validate}(j)?j:V=>j.validate(V))}function Ot(q){if(!q)return null;const j=q.filter(Je);return 0==j.length?null:function(V){return pt(Dt(V,j))}}function Cn(q){return null!=q?Ot(Ft(q)):null}function ti(q){if(!q)return null;const j=q.filter(Je);return 0==j.length?null:function(V){return function Ne(...q){const j=(0,ae.jO)(q),{args:V,keys:T}=(0,Ce.D)(q),R=new Q.y(re=>{const{length:Ee}=V;if(!Ee)return void re.complete();const st=new Array(Ee);let Mt=Ee,Yt=Ee;for(let Dn=0;Dn<Ee;Dn++){let _n=!1;(0,Ie.Xf)(V[Dn]).subscribe((0,ge.x)(re,pi=>{_n||(_n=!0,Yt--),st[Dn]=pi},()=>Mt--,void 0,()=>{(!Mt||!_n)&&(Yt||re.next(T?(0,Ze.n)(T,st):st),re.complete())}))}});return j?R.pipe((0,Pe.Z)(j)):R}(Dt(V,j).map(Et)).pipe((0,Be.U)(pt))}}function $n(q){return null!=q?ti(Ft(q)):null}function Zn(q,j){return null===q?[j]:Array.isArray(q)?[...q,j]:[q,j]}function Hn(q){return q._rawValidators}function ai(q){return q._rawAsyncValidators}function jn(q){return q?Array.isArray(q)?q:[q]:[]}function ki(q,j){return Array.isArray(q)?q.includes(j):q===j}function gi(q,j){const V=jn(j);return jn(q).forEach(R=>{ki(V,R)||V.push(R)}),V}function bn(q,j){return jn(j).filter(V=>!ki(q,V))}class Qn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=Cn(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=$n(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j){this.control&&this.control.reset(j)}hasError(j,V){return!!this.control&&this.control.hasError(j,V)}getError(j,V){return this.control?this.control.getError(j,V):null}}class Gn extends Qn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kt extends Qn{get formDirective(){return null}get path(){return null}}class Di{constructor(j){this._cd=j}is(j){var V,T,R;return"submitted"===j?!!(null===(V=this._cd)||void 0===V?void 0:V.submitted):!!(null===(R=null===(T=this._cd)||void 0===T?void 0:T.control)||void 0===R?void 0:R[j])}}let rr=(()=>{class q extends Di{constructor(V){super(V)}}return q.\u0275fac=function(V){return new(V||q)(b.Y36(Gn,2))},q.\u0275dir=b.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(V,T){2&V&&b.ekj("ng-untouched",T.is("untouched"))("ng-touched",T.is("touched"))("ng-pristine",T.is("pristine"))("ng-dirty",T.is("dirty"))("ng-valid",T.is("valid"))("ng-invalid",T.is("invalid"))("ng-pending",T.is("pending"))},features:[b.qOj]}),q})(),Nr=(()=>{class q extends Di{constructor(V){super(V)}}return q.\u0275fac=function(V){return new(V||q)(b.Y36(Kt,10))},q.\u0275dir=b.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(V,T){2&V&&b.ekj("ng-untouched",T.is("untouched"))("ng-touched",T.is("touched"))("ng-pristine",T.is("pristine"))("ng-dirty",T.is("dirty"))("ng-valid",T.is("valid"))("ng-invalid",T.is("invalid"))("ng-pending",T.is("pending"))("ng-submitted",T.is("submitted"))},features:[b.qOj]}),q})();function ln(q,j){return[...j.path,q]}function Bn(q,j){Xe(q,j),j.valueAccessor.writeValue(q.value),function ue(q,j){j.valueAccessor.registerOnChange(V=>{q._pendingValue=V,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&ye(q,j)})}(q,j),function St(q,j){const V=(T,R)=>{j.valueAccessor.writeValue(T),R&&j.viewToModelUpdate(T)};q.registerOnChange(V),j._registerOnDestroy(()=>{q._unregisterOnChange(V)})}(q,j),function Me(q,j){j.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&ye(q,j),"submit"!==q.updateOn&&q.markAsTouched()})}(q,j),function ve(q,j){if(j.valueAccessor.setDisabledState){const V=T=>{j.valueAccessor.setDisabledState(T)};q.registerOnDisabledChange(V),j._registerOnDestroy(()=>{q._unregisterOnDisabledChange(V)})}}(q,j)}function zn(q,j,V=!0){const T=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(T),j.valueAccessor.registerOnTouched(T)),Tt(q,j),q&&(j._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function qe(q,j){q.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(j)})}function Xe(q,j){const V=Hn(q);null!==j.validator?q.setValidators(Zn(V,j.validator)):"function"==typeof V&&q.setValidators([V]);const T=ai(q);null!==j.asyncValidator?q.setAsyncValidators(Zn(T,j.asyncValidator)):"function"==typeof T&&q.setAsyncValidators([T]);const R=()=>q.updateValueAndValidity();qe(j._rawValidators,R),qe(j._rawAsyncValidators,R)}function Tt(q,j){let V=!1;if(null!==q){if(null!==j.validator){const R=Hn(q);if(Array.isArray(R)&&R.length>0){const re=R.filter(Ee=>Ee!==j.validator);re.length!==R.length&&(V=!0,q.setValidators(re))}}if(null!==j.asyncValidator){const R=ai(q);if(Array.isArray(R)&&R.length>0){const re=R.filter(Ee=>Ee!==j.asyncValidator);re.length!==R.length&&(V=!0,q.setAsyncValidators(re))}}}const T=()=>{};return qe(j._rawValidators,T),qe(j._rawAsyncValidators,T),V}function ye(q,j){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function Xt(q,j){Xe(q,j)}function Mi(q,j){if(!q.hasOwnProperty("model"))return!1;const V=q.model;return!!V.isFirstChange()||!Object.is(j,V.currentValue)}function Hi(q,j){q._syncPendingControls(),j.forEach(V=>{const T=V.control;"submit"===T.updateOn&&T._pendingChange&&(V.viewToModelUpdate(T._pendingValue),T._pendingChange=!1)})}function Xi(q,j){if(!j)return null;let V,T,R;return Array.isArray(j),j.forEach(re=>{re.constructor===lt?V=re:function fi(q){return Object.getPrototypeOf(q.constructor)===je}(re)?T=re:R=re}),R||T||V||null}function qi(q,j){const V=q.indexOf(j);V>-1&&q.splice(V,1)}const Ht="VALID",ii="INVALID",hi="PENDING",fr="DISABLED";function wi(q){return(ui(q)?q.validators:q)||null}function Ar(q){return Array.isArray(q)?Cn(q):q||null}function Vi(q,j){return(ui(j)?j.asyncValidators:q)||null}function Bi(q){return Array.isArray(q)?$n(q):q||null}function ui(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}const Wn=q=>q instanceof Lr,Rr=q=>q instanceof X,Sr=q=>q instanceof he;function Is(q){return Wn(q)?q.value:q.getRawValue()}function er(q,j){const V=Rr(q),T=q.controls;if(!(V?Object.keys(T):T).length)throw new b.vHH(1e3,"");if(!T[j])throw new b.vHH(1001,"")}function pr(q,j){Rr(q),q._forEachChild((T,R)=>{if(void 0===j[R])throw new b.vHH(1002,"")})}class zr{constructor(j,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=j,this._rawAsyncValidators=V,this._composedValidatorFn=Ar(this._rawValidators),this._composedAsyncValidatorFn=Bi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===Ht}get invalid(){return this.status===ii}get pending(){return this.status==hi}get disabled(){return this.status===fr}get enabled(){return this.status!==fr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._rawValidators=j,this._composedValidatorFn=Ar(j)}setAsyncValidators(j){this._rawAsyncValidators=j,this._composedAsyncValidatorFn=Bi(j)}addValidators(j){this.setValidators(gi(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(gi(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(bn(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(bn(j,this._rawAsyncValidators))}hasValidator(j){return ki(this._rawValidators,j)}hasAsyncValidator(j){return ki(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=hi,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const V=this._parentMarkedDirty(j.onlySelf);this.status=fr,this.errors=null,this._forEachChild(T=>{T.disable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:V})),this._onDisabledChange.forEach(T=>T(!0))}enable(j={}){const V=this._parentMarkedDirty(j.onlySelf);this.status=Ht,this._forEachChild(T=>{T.enable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:V})),this._onDisabledChange.forEach(T=>T(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ht||this.status===hi)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fr:Ht}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=hi,this._hasOwnPendingAsyncValidator=!0;const V=Et(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(T=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(T,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,V={}){this.errors=j,this._updateControlsErrors(!1!==V.emitEvent)}get(j){return function Ir(q,j,V){if(null==j||(Array.isArray(j)||(j=j.split(V)),Array.isArray(j)&&0===j.length))return null;let T=q;return j.forEach(R=>{T=Rr(T)?T.controls.hasOwnProperty(R)?T.controls[R]:null:Sr(T)&&T.at(R)||null}),T}(this,j,".")}getError(j,V){const T=V?this.get(V):this;return T&&T.errors?T.errors[j]:null}hasError(j,V){return!!this.getError(j,V)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?fr:this.errors?ii:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hi)?hi:this._anyControlsHaveStatus(ii)?ii:Ht}_anyControlsHaveStatus(j){return this._anyControls(V=>V.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_isBoxedValue(j){return"object"==typeof j&&null!==j&&2===Object.keys(j).length&&"value"in j&&"disabled"in j}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){ui(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Lr extends zr{constructor(j=null,V,T){super(wi(V),Vi(T,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ui(V)&&V.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(j)?j.value:j)}setValue(j,V={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(T=>T(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(j,V={}){this.setValue(j,V)}reset(j=this.defaultValue,V={}){this._applyFormState(j),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){qi(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){qi(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){this._isBoxedValue(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}}class X extends zr{constructor(j,V,T){super(wi(V),Vi(T,V)),this.controls=j,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,V){return this.controls[j]?this.controls[j]:(this.controls[j]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(j,V,T={}){this.registerControl(j,V),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}removeControl(j,V={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(j,V,T={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],V&&this.registerControl(j,V),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,V={}){pr(this,j),Object.keys(j).forEach(T=>{er(this,T),this.controls[T].setValue(j[T],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(j,V={}){null!=j&&(Object.keys(j).forEach(T=>{this.controls[T]&&this.controls[T].patchValue(j[T],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(j={},V={}){this._forEachChild((T,R)=>{T.reset(j[R],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(j,V,T)=>(j[T]=Is(V),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(V,T)=>!!T._syncPendingControls()||V);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(V=>{const T=this.controls[V];T&&j(T,V)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const V of Object.keys(this.controls)){const T=this.controls[V];if(this.contains(V)&&j(T))return!0}return!1}_reduceValue(){return this._reduceChildren({},(j,V,T)=>((V.enabled||this.disabled)&&(j[T]=V.value),j))}_reduceChildren(j,V){let T=j;return this._forEachChild((R,re)=>{T=V(T,R,re)}),T}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class he extends zr{constructor(j,V,T){super(wi(V),Vi(T,V)),this.controls=j,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[j]}push(j,V={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(j,V,T={}){this.controls.splice(j,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:T.emitEvent})}removeAt(j,V={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(j,V,T={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),V&&(this.controls.splice(j,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,V={}){pr(this,j),j.forEach((T,R)=>{er(this,R),this.at(R).setValue(T,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(j,V={}){null!=j&&(j.forEach((T,R)=>{this.at(R)&&this.at(R).patchValue(T,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(j=[],V={}){this._forEachChild((T,R)=>{T.reset(j[R],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(j=>Is(j))}clear(j={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_syncPendingControls(){let j=this.controls.reduce((V,T)=>!!T._syncPendingControls()||V,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){this.controls.forEach((V,T)=>{j(V,T)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(V=>V.enabled&&j(V))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}}const ct={provide:Kt,useExisting:(0,b.Gpc)(()=>be)},yt=(()=>Promise.resolve(null))();let be=(()=>{class q extends Kt{constructor(V,T){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new b.vpe,this.form=new X({},Cn(V),$n(T))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){yt.then(()=>{const T=this._findContainer(V.path);V.control=T.registerControl(V.name,V.control),Bn(V.control,V),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){yt.then(()=>{const T=this._findContainer(V.path);T&&T.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){yt.then(()=>{const T=this._findContainer(V.path),R=new X({});Xt(R,V),T.registerControl(V.name,R),R.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){yt.then(()=>{const T=this._findContainer(V.path);T&&T.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,T){yt.then(()=>{this.form.get(V.path).setValue(T)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,Hi(this.form,this._directives),this.ngSubmit.emit(V),!1}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}}return q.\u0275fac=function(V){return new(V||q)(b.Y36(Ye,10),b.Y36(Ae,10))},q.\u0275dir=b.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(V,T){1&V&&b.NdJ("submit",function(re){return T.onSubmit(re)})("reset",function(){return T.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([ct]),b.qOj]}),q})();const Xn={provide:Gn,useExisting:(0,b.Gpc)(()=>ns)},oi=(()=>Promise.resolve(null))();let ns=(()=>{class q extends Gn{constructor(V,T,R,re,Ee){super(),this._changeDetectorRef=Ee,this.control=new Lr,this._registered=!1,this.update=new b.vpe,this._parent=V,this._setValidators(T),this._setAsyncValidators(R),this.valueAccessor=Xi(0,re)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const T=V.name.previousValue;this.formDirective.removeControl({name:T,path:this._getPath(T)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),Mi(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){oi.then(()=>{var T;this.control.setValue(V,{emitViewToModelChange:!1}),null===(T=this._changeDetectorRef)||void 0===T||T.markForCheck()})}_updateDisabled(V){const T=V.isDisabled.currentValue,R=""===T||T&&"false"!==T;oi.then(()=>{var re;R&&!this.control.disabled?this.control.disable():!R&&this.control.disabled&&this.control.enable(),null===(re=this._changeDetectorRef)||void 0===re||re.markForCheck()})}_getPath(V){return this._parent?ln(V,this._parent):[V]}}return q.\u0275fac=function(V){return new(V||q)(b.Y36(Kt,9),b.Y36(Ye,10),b.Y36(Ae,10),b.Y36(it,10),b.Y36(b.sBO,8))},q.\u0275dir=b.lG2({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[b._Bn([Xn]),b.qOj,b.TTD]}),q})(),vr=(()=>{class q{}return q.\u0275fac=function(V){return new(V||q)},q.\u0275dir=b.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),q})();const ut={provide:it,useExisting:(0,b.Gpc)(()=>et),multi:!0};let et=(()=>{class q extends je{writeValue(V){this.setProperty("value",null==V?"":V)}registerOnChange(V){this.onChange=T=>{V(""==T?null:parseFloat(T))}}}return q.\u0275fac=function(){let j;return function(T){return(j||(j=b.n5z(q)))(T||q)}}(),q.\u0275dir=b.lG2({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(V,T){1&V&&b.NdJ("input",function(re){return T.onChange(re.target.value)})("blur",function(){return T.onTouched()})},features:[b._Bn([ut]),b.qOj]}),q})(),on=(()=>{class q{}return q.\u0275fac=function(V){return new(V||q)},q.\u0275mod=b.oAB({type:q}),q.\u0275inj=b.cJS({}),q})();const Mr=new b.OlP("NgModelWithFormControlWarning"),Bs={provide:Kt,useExisting:(0,b.Gpc)(()=>ro)};let ro=(()=>{class q extends Kt{constructor(V,T){super(),this.validators=V,this.asyncValidators=T,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(V),this._setAsyncValidators(T)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const T=this.form.get(V.path);return Bn(T,V),T.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),T}getControl(V){return this.form.get(V.path)}removeControl(V){zn(V.control||null,V,!1),qi(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,T){this.form.get(V.path).setValue(T)}onSubmit(V){return this.submitted=!0,Hi(this.form,this.directives),this.ngSubmit.emit(V),!1}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const T=V.control,R=this.form.get(V.path);T!==R&&(zn(T||null,V),Wn(R)&&(Bn(R,V),V.control=R))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const T=this.form.get(V.path);Xt(T,V),T.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const T=this.form.get(V.path);T&&function un(q,j){return Tt(q,j)}(T,V)&&T.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xe(this.form,this),this._oldForm&&Tt(this._oldForm,this)}_checkFormPresent(){}}return q.\u0275fac=function(V){return new(V||q)(b.Y36(Ye,10),b.Y36(Ae,10))},q.\u0275dir=b.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(V,T){1&V&&b.NdJ("submit",function(re){return T.onSubmit(re)})("reset",function(){return T.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([Bs]),b.qOj,b.TTD]}),q})();const gs={provide:Gn,useExisting:(0,b.Gpc)(()=>As)};let As=(()=>{class q extends Gn{constructor(V,T,R,re,Ee){super(),this._ngModelWarningConfig=Ee,this._added=!1,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(T),this._setAsyncValidators(R),this.valueAccessor=Xi(0,re)}set isDisabled(V){}ngOnChanges(V){this._added||this._setUpControl(),Mi(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return ln(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return q._ngModelWarningSentOnce=!1,q.\u0275fac=function(V){return new(V||q)(b.Y36(Kt,13),b.Y36(Ye,10),b.Y36(Ae,10),b.Y36(it,10),b.Y36(Mr,8))},q.\u0275dir=b.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([gs]),b.qOj,b.TTD]}),q})();const ma={provide:it,useExisting:(0,b.Gpc)(()=>qr),multi:!0};function Ss(q,j){return null==q?`${j}`:(j&&"object"==typeof j&&(j="Object"),`${q}: ${j}`.slice(0,50))}let qr=(()=>{class q extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){this.value=V;const R=Ss(this._getOptionId(V),V);this.setProperty("value",R)}registerOnChange(V){this.onChange=T=>{this.value=this._getOptionValue(T),V(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(V){for(const T of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(T),V))return T;return null}_getOptionValue(V){const T=function Qo(q){return q.split(":")[0]}(V);return this._optionMap.has(T)?this._optionMap.get(T):V}}return q.\u0275fac=function(){let j;return function(T){return(j||(j=b.n5z(q)))(T||q)}}(),q.\u0275dir=b.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(V,T){1&V&&b.NdJ("change",function(re){return T.onChange(re.target.value)})("blur",function(){return T.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([ma]),b.qOj]}),q})(),us=(()=>{class q{constructor(V,T,R){this._element=V,this._renderer=T,this._select=R,this._select&&(this.id=this._select._registerOption())}set ngValue(V){null!=this._select&&(this._select._optionMap.set(this.id,V),this._setElementValue(Ss(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._setElementValue(V),this._select&&this._select.writeValue(this._select.value)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return q.\u0275fac=function(V){return new(V||q)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(qr,9))},q.\u0275dir=b.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),q})();const ds={provide:it,useExisting:(0,b.Gpc)(()=>Sa),multi:!0};function ho(q,j){return null==q?`${j}`:("string"==typeof j&&(j=`'${j}'`),j&&"object"==typeof j&&(j="Object"),`${q}: ${j}`.slice(0,50))}let Sa=(()=>{class q extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){let T;if(this.value=V,Array.isArray(V)){const R=V.map(re=>this._getOptionId(re));T=(re,Ee)=>{re._setSelected(R.indexOf(Ee.toString())>-1)}}else T=(R,re)=>{R._setSelected(!1)};this._optionMap.forEach(T)}registerOnChange(V){this.onChange=T=>{const R=[],re=T.selectedOptions;if(void 0!==re){const Ee=re;for(let st=0;st<Ee.length;st++){const Yt=this._getOptionValue(Ee[st].value);R.push(Yt)}}else{const Ee=T.options;for(let st=0;st<Ee.length;st++){const Mt=Ee[st];if(Mt.selected){const Yt=this._getOptionValue(Mt.value);R.push(Yt)}}}this.value=R,V(R)}}_registerOption(V){const T=(this._idCounter++).toString();return this._optionMap.set(T,V),T}_getOptionId(V){for(const T of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(T)._value,V))return T;return null}_getOptionValue(V){const T=function ar(q){return q.split(":")[0]}(V);return this._optionMap.has(T)?this._optionMap.get(T)._value:V}}return q.\u0275fac=function(){let j;return function(T){return(j||(j=b.n5z(q)))(T||q)}}(),q.\u0275dir=b.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(V,T){1&V&&b.NdJ("change",function(re){return T.onChange(re.target)})("blur",function(){return T.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([ds]),b.qOj]}),q})(),Us=(()=>{class q{constructor(V,T,R){this._element=V,this._renderer=T,this._select=R,this._select&&(this.id=this._select._registerOption(this))}set ngValue(V){null!=this._select&&(this._value=V,this._setElementValue(ho(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._select?(this._value=V,this._setElementValue(ho(this.id,V)),this._select.writeValue(this._select.value)):this._setElementValue(V)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}_setSelected(V){this._renderer.setProperty(this._element.nativeElement,"selected",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return q.\u0275fac=function(V){return new(V||q)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(Sa,9))},q.\u0275dir=b.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),q})();function xe(q){return"number"==typeof q?q:parseInt(q,10)}let rs=(()=>{class q{constructor(){this._validator=nt}ngOnChanges(V){if(this.inputName in V){const T=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(T),this._validator=this._enabled?this.createValidator(T):nt,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}}return q.\u0275fac=function(V){return new(V||q)},q.\u0275dir=b.lG2({type:q,features:[b.TTD]}),q})();const Zi={provide:Ye,useExisting:(0,b.Gpc)(()=>z),multi:!0};let z=(()=>{class q extends rs{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=V=>function Vs(q){return"number"==typeof q?q:parseFloat(q)}(V),this.createValidator=V=>ke(V)}}return q.\u0275fac=function(){let j;return function(T){return(j||(j=b.n5z(q)))(T||q)}}(),q.\u0275dir=b.lG2({type:q,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(V,T){2&V&&b.uIk("min",T._enabled?T.min:null)},inputs:{min:"min"},features:[b._Bn([Zi]),b.qOj]}),q})();const oe={provide:Ye,useExisting:(0,b.Gpc)(()=>ce),multi:!0},G={provide:Ye,useExisting:(0,b.Gpc)(()=>He),multi:!0};let ce=(()=>{class q extends rs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=V=>function is(q){return null!=q&&!1!==q&&"false"!=`${q}`}(V),this.createValidator=V=>Re}enabled(V){return V}}return q.\u0275fac=function(){let j;return function(T){return(j||(j=b.n5z(q)))(T||q)}}(),q.\u0275dir=b.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(V,T){2&V&&b.uIk("required",T._enabled?"":null)},inputs:{required:"required"},features:[b._Bn([oe]),b.qOj]}),q})(),He=(()=>{class q extends ce{constructor(){super(...arguments),this.createValidator=V=>rt}}return q.\u0275fac=function(){let j;return function(T){return(j||(j=b.n5z(q)))(T||q)}}(),q.\u0275dir=b.lG2({type:q,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(V,T){2&V&&b.uIk("required",T._enabled?"":null)},features:[b._Bn([G]),b.qOj]}),q})();const dn={provide:Ye,useExisting:(0,b.Gpc)(()=>yi),multi:!0};let yi=(()=>{class q extends rs{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=V=>xe(V),this.createValidator=V=>Jt(V)}}return q.\u0275fac=function(){let j;return function(T){return(j||(j=b.n5z(q)))(T||q)}}(),q.\u0275dir=b.lG2({type:q,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(V,T){2&V&&b.uIk("minlength",T._enabled?T.minlength:null)},inputs:{minlength:"minlength"},features:[b._Bn([dn]),b.qOj]}),q})();const xi={provide:Ye,useExisting:(0,b.Gpc)(()=>Ii),multi:!0};let Ii=(()=>{class q extends rs{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=V=>xe(V),this.createValidator=V=>Gt(V)}}return q.\u0275fac=function(){let j;return function(T){return(j||(j=b.n5z(q)))(T||q)}}(),q.\u0275dir=b.lG2({type:q,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(V,T){2&V&&b.uIk("maxlength",T._enabled?T.maxlength:null)},inputs:{maxlength:"maxlength"},features:[b._Bn([xi]),b.qOj]}),q})();const ei={provide:Ye,useExisting:(0,b.Gpc)(()=>xr),multi:!0};let xr=(()=>{class q extends rs{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=V=>V,this.createValidator=V=>mt(V)}}return q.\u0275fac=function(){let j;return function(T){return(j||(j=b.n5z(q)))(T||q)}}(),q.\u0275dir=b.lG2({type:q,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(V,T){2&V&&b.uIk("pattern",T._enabled?T.pattern:null)},inputs:{pattern:"pattern"},features:[b._Bn([ei]),b.qOj]}),q})(),Gr=(()=>{class q{}return q.\u0275fac=function(V){return new(V||q)},q.\u0275mod=b.oAB({type:q}),q.\u0275inj=b.cJS({imports:[[on]]}),q})(),Rn=(()=>{class q{}return q.\u0275fac=function(V){return new(V||q)},q.\u0275mod=b.oAB({type:q}),q.\u0275inj=b.cJS({imports:[Gr]}),q})(),xs=(()=>{class q{static withConfig(V){return{ngModule:q,providers:[{provide:Mr,useValue:V.warnOnNgModelWithFormControl}]}}}return q.\u0275fac=function(V){return new(V||q)},q.\u0275mod=b.oAB({type:q}),q.\u0275inj=b.cJS({imports:[Gr]}),q})(),ss=(()=>{class q{group(V,T=null){const R=this._reduceControls(V);let st,re=null,Ee=null;return null!=T&&(function Js(q){return void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn}(T)?(re=null!=T.validators?T.validators:null,Ee=null!=T.asyncValidators?T.asyncValidators:null,st=null!=T.updateOn?T.updateOn:void 0):(re=null!=T.validator?T.validator:null,Ee=null!=T.asyncValidator?T.asyncValidator:null)),new X(R,{asyncValidators:Ee,updateOn:st,validators:re})}control(V,T,R){return new Lr(V,T,R)}array(V,T,R){const re=V.map(Ee=>this._createControl(Ee));return new he(re,T,R)}_reduceControls(V){const T={};return Object.keys(V).forEach(R=>{T[R]=this._createControl(V[R])}),T}_createControl(V){return Wn(V)||Rr(V)||Sr(V)?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}}return q.\u0275fac=function(V){return new(V||q)},q.\u0275prov=b.Yz7({token:q,factory:q.\u0275fac,providedIn:xs}),q})()},386:(nn,ht,L)=>{"use strict";L.d(ht,{gz:()=>er,y6:()=>us,OD:()=>Dt,eC:()=>Kt,F0:()=>$s,rH:()=>ya,Od:()=>hs,yS:()=>Ra,Bz:()=>zo,lC:()=>ds,Hx:()=>ye});var b=L(5e3),s=L(8306),Q=L(576);function Ce(k,O){const S=(0,Q.m)(k)?k:()=>k,F=Y=>Y.error(S());return new s.y(O?Y=>O.schedule(F,0,Y):F)}var Ie=L(8421);function ae(k){return new s.y(O=>{(0,Ie.Xf)(k()).subscribe(O)})}var ge=L(727),Pe=L(4482),Ze=L(5403);function Ne(){return(0,Pe.e)((k,O)=>{let S=null;k._refCount++;const F=(0,Ze.x)(O,void 0,void 0,void 0,()=>{if(!k||k._refCount<=0||0<--k._refCount)return void(S=null);const Y=k._connection,le=S;S=null,Y&&(!le||Y===le)&&Y.unsubscribe(),O.unsubscribe()});k.subscribe(F),F.closed||(S=k.connect())})}class de extends s.y{constructor(O,S){super(),this.source=O,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,Pe.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,null==O||O.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new ge.w0;const S=this.getSubject();O.add(this.source.subscribe((0,Ze.x)(S,void 0,()=>{this._teardown(),S.complete()},F=>{this._teardown(),S.error(F)},()=>this._teardown()))),O.closed&&(this._connection=null,O=ge.w0.EMPTY)}return O}refCount(){return Ne()(this)}}var Be=L(8996),Te=L(9646),je=L(1135),it=L(9841),Le=L(6805),Ve=L(7272),fe=L(515),_e=L(7579);function vt(k){return(0,Pe.e)((O,S)=>{let le,F=null,Y=!1;F=O.subscribe((0,Ze.x)(S,void 0,void 0,we=>{le=(0,Ie.Xf)(k(we,vt(k)(O))),F?(F.unsubscribe(),F=null,le.subscribe(S)):Y=!0})),Y&&(F.unsubscribe(),F=null,le.subscribe(S))})}var lt=L(9300);function Qe(k){return k<=0?()=>fe.E:(0,Pe.e)((O,S)=>{let F=[];O.subscribe((0,Ze.x)(S,Y=>{F.push(Y),k<F.length&&F.shift()},()=>{for(const Y of F)S.next(Y);S.complete()},void 0,()=>{F=null}))})}var We=L(8068),Ye=L(6590),Ae=L(4671),Se=L(4004),ke=L(3900),De=L(5698),Re=L(8675),rt=L(5026),tt=L(4351),Jt=L(590),Gt=L(5577),mt=L(8505),nt=L(8746),Je=L(8189),Et=L(9808);class pt{constructor(O,S){this.id=O,this.url=S}}class Dt extends pt{constructor(O,S,F="imperative",Y=null){super(O,S),this.navigationTrigger=F,this.restoredState=Y}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _t extends pt{constructor(O,S,F){super(O,S),this.urlAfterRedirects=F}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ft extends pt{constructor(O,S,F){super(O,S),this.reason=F}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ot extends pt{constructor(O,S,F){super(O,S),this.error=F}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cn extends pt{constructor(O,S,F,Y){super(O,S),this.urlAfterRedirects=F,this.state=Y}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends pt{constructor(O,S,F,Y){super(O,S),this.urlAfterRedirects=F,this.state=Y}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $n extends pt{constructor(O,S,F,Y,le){super(O,S),this.urlAfterRedirects=F,this.state=Y,this.shouldActivate=le}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zn extends pt{constructor(O,S,F,Y){super(O,S),this.urlAfterRedirects=F,this.state=Y}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hn extends pt{constructor(O,S,F,Y){super(O,S),this.urlAfterRedirects=F,this.state=Y}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ai{constructor(O){this.route=O}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jn{constructor(O){this.route=O}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ki{constructor(O){this.snapshot=O}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gi{constructor(O){this.snapshot=O}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{constructor(O){this.snapshot=O}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qn{constructor(O){this.snapshot=O}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gn{constructor(O,S,F){this.routerEvent=O,this.position=S,this.anchor=F}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kt="primary";class Di{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const S=this.params[O];return Array.isArray(S)?S[0]:S}return null}getAll(O){if(this.has(O)){const S=this.params[O];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function sr(k){return new Di(k)}const zi="ngNavigationCancelingError";function rr(k){const O=Error("NavigationCancelingError: "+k);return O[zi]=!0,O}function cr(k,O,S){const F=S.path.split("/");if(F.length>k.length||"full"===S.pathMatch&&(O.hasChildren()||F.length<k.length))return null;const Y={};for(let le=0;le<F.length;le++){const we=F[le],pe=k[le];if(we.startsWith(":"))Y[we.substring(1)]=pe;else if(we!==pe.path)return null}return{consumed:k.slice(0,F.length),posParams:Y}}function hn(k,O){const S=k?Object.keys(k):void 0,F=O?Object.keys(O):void 0;if(!S||!F||S.length!=F.length)return!1;let Y;for(let le=0;le<S.length;le++)if(Y=S[le],!pn(k[Y],O[Y]))return!1;return!0}function pn(k,O){if(Array.isArray(k)&&Array.isArray(O)){if(k.length!==O.length)return!1;const S=[...k].sort(),F=[...O].sort();return S.every((Y,le)=>F[le]===Y)}return k===O}function ur(k){return Array.prototype.concat.apply([],k)}function jr(k){return k.length>0?k[k.length-1]:null}function Fi(k,O){for(const S in k)k.hasOwnProperty(S)&&O(k[S],S)}function Ti(k){return(0,b.CqO)(k)?k:(0,b.QGY)(k)?(0,Be.D)(Promise.resolve(k)):(0,Te.of)(k)}const Ln={exact:function zt(k,O,S){if(!ue(k.segments,O.segments)||!zn(k.segments,O.segments,S)||k.numberOfChildren!==O.numberOfChildren)return!1;for(const F in O.children)if(!k.children[F]||!zt(k.children[F],O.children[F],S))return!1;return!0},subset:ln},or={exact:function cn(k,O){return hn(k,O)},subset:function mn(k,O){return Object.keys(O).length<=Object.keys(k).length&&Object.keys(O).every(S=>pn(k[S],O[S]))},ignored:()=>!0};function ci(k,O,S){return Ln[S.paths](k.root,O.root,S.matrixParams)&&or[S.queryParams](k.queryParams,O.queryParams)&&!("exact"===S.fragment&&k.fragment!==O.fragment)}function ln(k,O,S){return Bn(k,O,O.segments,S)}function Bn(k,O,S,F){if(k.segments.length>S.length){const Y=k.segments.slice(0,S.length);return!(!ue(Y,S)||O.hasChildren()||!zn(Y,S,F))}if(k.segments.length===S.length){if(!ue(k.segments,S)||!zn(k.segments,S,F))return!1;for(const Y in O.children)if(!k.children[Y]||!ln(k.children[Y],O.children[Y],F))return!1;return!0}{const Y=S.slice(0,k.segments.length),le=S.slice(k.segments.length);return!!(ue(k.segments,Y)&&zn(k.segments,Y,F)&&k.children[Kt])&&Bn(k.children[Kt],O,le,F)}}function zn(k,O,S){return O.every((F,Y)=>or[S](k[Y].parameters,F.parameters))}class qe{constructor(O,S,F){this.root=O,this.queryParams=S,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sr(this.queryParams)),this._queryParamMap}toString(){return Xt.serialize(this)}}class ve{constructor(O,S){this.segments=O,this.children=S,this.parent=null,Fi(S,(F,Y)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return un(this)}}class Xe{constructor(O,S){this.path=O,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=sr(this.parameters)),this._parameterMap}toString(){return Xi(this)}}function ue(k,O){return k.length===O.length&&k.every((S,F)=>S.path===O[F].path)}class ye{}class St{parse(O){const S=new wi(O);return new qe(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(O){const S=`/${En(O.root,!0)}`,F=function Jr(k){const O=Object.keys(k).map(S=>{const F=k[S];return Array.isArray(F)?F.map(Y=>`${Un(S)}=${Un(Y)}`).join("&"):`${Un(S)}=${Un(F)}`}).filter(S=>!!S);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${S}${F}${"string"==typeof O.fragment?`#${function Qi(k){return encodeURI(k)}(O.fragment)}`:""}`}}const Xt=new St;function un(k){return k.segments.map(O=>Xi(O)).join("/")}function En(k,O){if(!k.hasChildren())return un(k);if(O){const S=k.children[Kt]?En(k.children[Kt],!1):"",F=[];return Fi(k.children,(Y,le)=>{le!==Kt&&F.push(`${le}:${En(Y,!1)}`)}),F.length>0?`${S}(${F.join("//")})`:S}{const S=function Me(k,O){let S=[];return Fi(k.children,(F,Y)=>{Y===Kt&&(S=S.concat(O(F,Y)))}),Fi(k.children,(F,Y)=>{Y!==Kt&&(S=S.concat(O(F,Y)))}),S}(k,(F,Y)=>Y===Kt?[En(k.children[Kt],!1)]:[`${Y}:${En(F,!1)}`]);return 1===Object.keys(k.children).length&&null!=k.children[Kt]?`${un(k)}/${S[0]}`:`${un(k)}/(${S.join("//")})`}}function sn(k){return encodeURIComponent(k).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Un(k){return sn(k).replace(/%3B/gi,";")}function Mi(k){return sn(k).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fi(k){return decodeURIComponent(k)}function Hi(k){return fi(k.replace(/\+/g,"%20"))}function Xi(k){return`${Mi(k.path)}${function qi(k){return Object.keys(k).map(O=>`;${Mi(O)}=${Mi(k[O])}`).join("")}(k.parameters)}`}const Yn=/^[^\/()?;=#]+/;function Ht(k){const O=k.match(Yn);return O?O[0]:""}const ii=/^[^=?&#]+/,fr=/^[^&#]+/;class wi{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(O.length>0||Object.keys(S).length>0)&&(F[Kt]=new ve(O,S)),F}parseSegment(){const O=Ht(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(O),new Xe(fi(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const S=Ht(this.remaining);if(!S)return;this.capture(S);let F="";if(this.consumeOptional("=")){const Y=Ht(this.remaining);Y&&(F=Y,this.capture(F))}O[fi(S)]=fi(F)}parseQueryParam(O){const S=function hi(k){const O=k.match(ii);return O?O[0]:""}(this.remaining);if(!S)return;this.capture(S);let F="";if(this.consumeOptional("=")){const we=function Ir(k){const O=k.match(fr);return O?O[0]:""}(this.remaining);we&&(F=we,this.capture(F))}const Y=Hi(S),le=Hi(F);if(O.hasOwnProperty(Y)){let we=O[Y];Array.isArray(we)||(we=[we],O[Y]=we),we.push(le)}else O[Y]=le}parseParens(O){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Ht(this.remaining),Y=this.remaining[F.length];if("/"!==Y&&")"!==Y&&";"!==Y)throw new Error(`Cannot parse url '${this.url}'`);let le;F.indexOf(":")>-1?(le=F.substr(0,F.indexOf(":")),this.capture(le),this.capture(":")):O&&(le=Kt);const we=this.parseChildren();S[le]=1===Object.keys(we).length?we[Kt]:new ve([],we),this.consumeOptional("//")}return S}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new Error(`Expected "${O}".`)}}class Ar{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const S=this.pathFromRoot(O);return S.length>1?S[S.length-2]:null}children(O){const S=Vi(O,this._root);return S?S.children.map(F=>F.value):[]}firstChild(O){const S=Vi(O,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(O){const S=Bi(O,this._root);return S.length<2?[]:S[S.length-2].children.map(Y=>Y.value).filter(Y=>Y!==O)}pathFromRoot(O){return Bi(O,this._root).map(S=>S.value)}}function Vi(k,O){if(k===O.value)return O;for(const S of O.children){const F=Vi(k,S);if(F)return F}return null}function Bi(k,O){if(k===O.value)return[O];for(const S of O.children){const F=Bi(k,S);if(F.length)return F.unshift(O),F}return[]}class ui{constructor(O,S){this.value=O,this.children=S}toString(){return`TreeNode(${this.value})`}}function Wn(k){const O={};return k&&k.children.forEach(S=>O[S.value.outlet]=S),O}class Rr extends Ar{constructor(O,S){super(O),this.snapshot=S,he(this,O)}toString(){return this.snapshot.toString()}}function Sr(k,O){const S=function Is(k,O){const we=new Lr([],{},{},"",{},Kt,O,null,k.root,-1,{});return new X("",new ui(we,[]))}(k,O),F=new je.X([new Xe("",{})]),Y=new je.X({}),le=new je.X({}),we=new je.X({}),pe=new je.X(""),at=new er(F,Y,we,pe,le,Kt,O,S.root);return at.snapshot=S.root,new Rr(new ui(at,[]),S)}class er{constructor(O,S,F,Y,le,we,pe,at){this.url=O,this.params=S,this.queryParams=F,this.fragment=Y,this.data=le,this.outlet=we,this.component=pe,this._futureSnapshot=at}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Se.U)(O=>sr(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Se.U)(O=>sr(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pr(k,O="emptyOnly"){const S=k.pathFromRoot;let F=0;if("always"!==O)for(F=S.length-1;F>=1;){const Y=S[F],le=S[F-1];if(Y.routeConfig&&""===Y.routeConfig.path)F--;else{if(le.component)break;F--}}return function zr(k){return k.reduce((O,S)=>({params:Object.assign(Object.assign({},O.params),S.params),data:Object.assign(Object.assign({},O.data),S.data),resolve:Object.assign(Object.assign({},O.resolve),S._resolvedData)}),{params:{},data:{},resolve:{}})}(S.slice(F))}class Lr{constructor(O,S,F,Y,le,we,pe,at,Tn,Bt,gt){this.url=O,this.params=S,this.queryParams=F,this.fragment=Y,this.data=le,this.outlet=we,this.component=pe,this.routeConfig=at,this._urlSegment=Tn,this._lastPathIndex=Bt,this._resolve=gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class X extends Ar{constructor(O,S){super(S),this.url=O,he(this,S)}toString(){return ct(this._root)}}function he(k,O){O.value._routerState=k,O.children.forEach(S=>he(k,S))}function ct(k){const O=k.children.length>0?` { ${k.children.map(ct).join(", ")} } `:"";return`${k.value}${O}`}function yt(k){if(k.snapshot){const O=k.snapshot,S=k._futureSnapshot;k.snapshot=S,hn(O.queryParams,S.queryParams)||k.queryParams.next(S.queryParams),O.fragment!==S.fragment&&k.fragment.next(S.fragment),hn(O.params,S.params)||k.params.next(S.params),function ni(k,O){if(k.length!==O.length)return!1;for(let S=0;S<k.length;++S)if(!hn(k[S],O[S]))return!1;return!0}(O.url,S.url)||k.url.next(S.url),hn(O.data,S.data)||k.data.next(S.data)}else k.snapshot=k._futureSnapshot,k.data.next(k._futureSnapshot.data)}function be(k,O){const S=hn(k.params,O.params)&&function Tt(k,O){return ue(k,O)&&k.every((S,F)=>hn(S.parameters,O[F].parameters))}(k.url,O.url);return S&&!(!k.parent!=!O.parent)&&(!k.parent||be(k.parent,O.parent))}function bt(k,O,S){if(S&&k.shouldReuseRoute(O.value,S.value.snapshot)){const F=S.value;F._futureSnapshot=O.value;const Y=function Rt(k,O,S){return O.children.map(F=>{for(const Y of S.children)if(k.shouldReuseRoute(F.value,Y.value.snapshot))return bt(k,F,Y);return bt(k,F)})}(k,O,S);return new ui(F,Y)}{if(k.shouldAttach(O.value)){const le=k.retrieve(O.value);if(null!==le){const we=le.route;return we.value._futureSnapshot=O.value,we.children=O.children.map(pe=>bt(k,pe)),we}}const F=function Lt(k){return new er(new je.X(k.url),new je.X(k.params),new je.X(k.queryParams),new je.X(k.fragment),new je.X(k.data),k.outlet,k.component,k)}(O.value),Y=O.children.map(le=>bt(k,le));return new ui(F,Y)}}function fn(k){return"object"==typeof k&&null!=k&&!k.outlets&&!k.segmentPath}function wn(k){return"object"==typeof k&&null!=k&&k.outlets}function Xn(k,O,S,F,Y){let le={};if(F&&Fi(F,(pe,at)=>{le[at]=Array.isArray(pe)?pe.map(Tn=>`${Tn}`):`${pe}`}),k===O)return new qe(S,le,Y);const we=oi(k,O,S);return new qe(we,le,Y)}function oi(k,O,S){const F={};return Fi(k.children,(Y,le)=>{F[le]=Y===O?S:oi(Y,O,S)}),new ve(k.segments,F)}class ns{constructor(O,S,F){if(this.isAbsolute=O,this.numberOfDoubleDots=S,this.commands=F,O&&F.length>0&&fn(F[0]))throw new Error("Root segment cannot have matrix parameters");const Y=F.find(wn);if(Y&&Y!==jr(F))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ut{constructor(O,S,F){this.segmentGroup=O,this.processChildren=S,this.index=F}}function on(k,O,S){if(k||(k=new ve([],{})),0===k.segments.length&&k.hasChildren())return An(k,O,S);const F=function dr(k,O,S){let F=0,Y=O;const le={match:!1,pathIndex:0,commandIndex:0};for(;Y<k.segments.length;){if(F>=S.length)return le;const we=k.segments[Y],pe=S[F];if(wn(pe))break;const at=`${pe}`,Tn=F<S.length-1?S[F+1]:null;if(Y>0&&void 0===at)break;if(at&&Tn&&"object"==typeof Tn&&void 0===Tn.outlets){if(!Ao(at,Tn,we))return le;F+=2}else{if(!Ao(at,{},we))return le;F++}Y++}return{match:!0,pathIndex:Y,commandIndex:F}}(k,O,S),Y=S.slice(F.commandIndex);if(F.match&&F.pathIndex<k.segments.length){const le=new ve(k.segments.slice(0,F.pathIndex),{});return le.children[Kt]=new ve(k.segments.slice(F.pathIndex),k.children),An(le,0,Y)}return F.match&&0===Y.length?new ve(k.segments,{}):F.match&&!k.hasChildren()?Wr(k,O,S):F.match?An(k,0,Y):Wr(k,O,S)}function An(k,O,S){if(0===S.length)return new ve(k.segments,{});{const F=function Wt(k){return wn(k[0])?k[0].outlets:{[Kt]:k}}(S),Y={};return Fi(F,(le,we)=>{"string"==typeof le&&(le=[le]),null!==le&&(Y[we]=on(k.children[we],O,le))}),Fi(k.children,(le,we)=>{void 0===F[we]&&(Y[we]=le)}),new ve(k.segments,Y)}}function Wr(k,O,S){const F=k.segments.slice(0,O);let Y=0;for(;Y<S.length;){const le=S[Y];if(wn(le)){const at=ji(le.outlets);return new ve(F,at)}if(0===Y&&fn(S[0])){F.push(new Xe(k.segments[O].path,Mr(S[0]))),Y++;continue}const we=wn(le)?le.outlets[Kt]:`${le}`,pe=Y<S.length-1?S[Y+1]:null;we&&pe&&fn(pe)?(F.push(new Xe(we,Mr(pe))),Y+=2):(F.push(new Xe(we,{})),Y++)}return new ve(F,{})}function ji(k){const O={};return Fi(k,(S,F)=>{"string"==typeof S&&(S=[S]),null!==S&&(O[F]=Wr(new ve([],{}),0,S))}),O}function Mr(k){const O={};return Fi(k,(S,F)=>O[F]=`${S}`),O}function Ao(k,O,S){return k==S.path&&hn(O,S.parameters)}class Bs{constructor(O,S,F,Y){this.routeReuseStrategy=O,this.futureState=S,this.currState=F,this.forwardEvent=Y}activate(O){const S=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,F,O),yt(this.futureState.root),this.activateChildRoutes(S,F,O)}deactivateChildRoutes(O,S,F){const Y=Wn(S);O.children.forEach(le=>{const we=le.value.outlet;this.deactivateRoutes(le,Y[we],F),delete Y[we]}),Fi(Y,(le,we)=>{this.deactivateRouteAndItsChildren(le,F)})}deactivateRoutes(O,S,F){const Y=O.value,le=S?S.value:null;if(Y===le)if(Y.component){const we=F.getContext(Y.outlet);we&&this.deactivateChildRoutes(O,S,we.children)}else this.deactivateChildRoutes(O,S,F);else le&&this.deactivateRouteAndItsChildren(S,F)}deactivateRouteAndItsChildren(O,S){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,S):this.deactivateRouteAndOutlet(O,S)}detachAndStoreRouteSubtree(O,S){const F=S.getContext(O.value.outlet),Y=F&&O.value.component?F.children:S,le=Wn(O);for(const we of Object.keys(le))this.deactivateRouteAndItsChildren(le[we],Y);if(F&&F.outlet){const we=F.outlet.detach(),pe=F.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:we,route:O,contexts:pe})}}deactivateRouteAndOutlet(O,S){const F=S.getContext(O.value.outlet),Y=F&&O.value.component?F.children:S,le=Wn(O);for(const we of Object.keys(le))this.deactivateRouteAndItsChildren(le[we],Y);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(O,S,F){const Y=Wn(S);O.children.forEach(le=>{this.activateRoutes(le,Y[le.value.outlet],F),this.forwardEvent(new Qn(le.value.snapshot))}),O.children.length&&this.forwardEvent(new gi(O.value.snapshot))}activateRoutes(O,S,F){const Y=O.value,le=S?S.value:null;if(yt(Y),Y===le)if(Y.component){const we=F.getOrCreateContext(Y.outlet);this.activateChildRoutes(O,S,we.children)}else this.activateChildRoutes(O,S,F);else if(Y.component){const we=F.getOrCreateContext(Y.outlet);if(this.routeReuseStrategy.shouldAttach(Y.snapshot)){const pe=this.routeReuseStrategy.retrieve(Y.snapshot);this.routeReuseStrategy.store(Y.snapshot,null),we.children.onOutletReAttached(pe.contexts),we.attachRef=pe.componentRef,we.route=pe.route.value,we.outlet&&we.outlet.attach(pe.componentRef,pe.route.value),yt(pe.route.value),this.activateChildRoutes(O,null,we.children)}else{const pe=function ro(k){for(let O=k.parent;O;O=O.parent){const S=O.routeConfig;if(S&&S._loadedConfig)return S._loadedConfig;if(S&&S.component)return null}return null}(Y.snapshot),at=pe?pe.module.componentFactoryResolver:null;we.attachRef=null,we.route=Y,we.resolver=at,we.outlet&&we.outlet.activateWith(Y,at),this.activateChildRoutes(O,null,we.children)}}else this.activateChildRoutes(O,null,F)}}class qs{constructor(O,S){this.routes=O,this.module=S}}function Br(k){return"function"==typeof k}function br(k){return k instanceof qe}const Ss=Symbol("INITIAL_VALUE");function Qo(){return(0,ke.w)(k=>(0,it.a)(k.map(O=>O.pipe((0,De.q)(1),(0,Re.O)(Ss)))).pipe((0,rt.R)((O,S)=>{let F=!1;return S.reduce((Y,le,we)=>Y!==Ss?Y:(le===Ss&&(F=!0),F||!1!==le&&we!==S.length-1&&!br(le)?Y:le),O)},Ss),(0,lt.h)(O=>O!==Ss),(0,Se.U)(O=>br(O)?O:!0===O),(0,De.q)(1)))}class qr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new us,this.attachRef=null}}class us{constructor(){this.contexts=new Map}onChildOutletCreated(O,S){const F=this.getOrCreateContext(O);F.outlet=S,this.contexts.set(O,F)}onChildOutletDestroyed(O){const S=this.getContext(O);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let S=this.getContext(O);return S||(S=new qr,this.contexts.set(O,S)),S}getContext(O){return this.contexts.get(O)||null}}let ds=(()=>{class k{constructor(S,F,Y,le,we){this.parentContexts=S,this.location=F,this.resolver=Y,this.changeDetector=we,this.activated=null,this._activatedRoute=null,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.name=le||Kt,S.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const S=this.parentContexts.getContext(this.name);S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,F){this.activated=S,this._activatedRoute=F,this.location.insert(S.hostView),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,F){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=S;const we=(F=F||this.resolver).resolveComponentFactory(S._futureSnapshot.routeConfig.component),pe=this.parentContexts.getOrCreateContext(this.name).children,at=new ho(S,pe,this.location.injector);this.activated=this.location.createComponent(we,this.location.length,at),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return k.\u0275fac=function(S){return new(S||k)(b.Y36(us),b.Y36(b.s_b),b.Y36(b._Vd),b.$8M("name"),b.Y36(b.sBO))},k.\u0275dir=b.lG2({type:k,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),k})();class ho{constructor(O,S,F){this.route=O,this.childContexts=S,this.parent=F}get(O,S){return O===er?this.route:O===us?this.childContexts:this.parent.get(O,S)}}let ar=(()=>{class k{}return k.\u0275fac=function(S){return new(S||k)},k.\u0275cmp=b.Xpm({type:k,selectors:[["ng-component"]],decls:1,vars:0,template:function(S,F){1&S&&b._UZ(0,"router-outlet")},directives:[ds],encapsulation:2}),k})();function Ys(k,O=""){for(let S=0;S<k.length;S++){const F=k[S];Sa(F,Us(O,F))}}function Sa(k,O){k.children&&Ys(k.children,O)}function Us(k,O){return O?k||O.path?k&&!O.path?`${k}/`:!k&&O.path?O.path:`${k}/${O.path}`:"":k}function xe(k){const O=k.children&&k.children.map(xe),S=O?Object.assign(Object.assign({},k),{children:O}):Object.assign({},k);return!S.component&&(O||S.loadChildren)&&S.outlet&&S.outlet!==Kt&&(S.component=ar),S}function is(k){return k.outlet||Kt}function Vs(k,O){const S=k.filter(F=>is(F)===O);return S.push(...k.filter(F=>is(F)!==O)),S}const rs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ks(k,O,S){var F;if(""===O.path)return"full"===O.pathMatch&&(k.hasChildren()||S.length>0)?Object.assign({},rs):{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const le=(O.matcher||cr)(S,k,O);if(!le)return Object.assign({},rs);const we={};Fi(le.posParams,(at,Tn)=>{we[Tn]=at.path});const pe=le.consumed.length>0?Object.assign(Object.assign({},we),le.consumed[le.consumed.length-1].parameters):we;return{matched:!0,consumedSegments:le.consumed,remainingSegments:S.slice(le.consumed.length),parameters:pe,positionalParamSegments:null!==(F=le.posParams)&&void 0!==F?F:{}}}function Ms(k,O,S,F,Y="corrected"){if(S.length>0&&function oe(k,O,S){return S.some(F=>ce(k,O,F)&&is(F)!==Kt)}(k,S,F)){const we=new ve(O,function z(k,O,S,F){const Y={};Y[Kt]=F,F._sourceSegment=k,F._segmentIndexShift=O.length;for(const le of S)if(""===le.path&&is(le)!==Kt){const we=new ve([],{});we._sourceSegment=k,we._segmentIndexShift=O.length,Y[is(le)]=we}return Y}(k,O,F,new ve(S,k.children)));return we._sourceSegment=k,we._segmentIndexShift=O.length,{segmentGroup:we,slicedSegments:[]}}if(0===S.length&&function G(k,O,S){return S.some(F=>ce(k,O,F))}(k,S,F)){const we=new ve(k.segments,function Zi(k,O,S,F,Y,le){const we={};for(const pe of F)if(ce(k,S,pe)&&!Y[is(pe)]){const at=new ve([],{});at._sourceSegment=k,at._segmentIndexShift="legacy"===le?k.segments.length:O.length,we[is(pe)]=at}return Object.assign(Object.assign({},Y),we)}(k,O,S,F,k.children,Y));return we._sourceSegment=k,we._segmentIndexShift=O.length,{segmentGroup:we,slicedSegments:S}}const le=new ve(k.segments,k.children);return le._sourceSegment=k,le._segmentIndexShift=O.length,{segmentGroup:le,slicedSegments:S}}function ce(k,O,S){return(!(k.hasChildren()||O.length>0)||"full"!==S.pathMatch)&&""===S.path}function He(k,O,S,F){return!!(is(k)===F||F!==Kt&&ce(O,S,k))&&("**"===k.path||Ks(O,k,S).matched)}function Pt(k,O,S){return 0===O.length&&!k.children[S]}class qt{constructor(O){this.segmentGroup=O||null}}class dn{constructor(O){this.urlTree=O}}function yi(k){return Ce(new qt(k))}function xi(k){return Ce(new dn(k))}class gr{constructor(O,S,F,Y,le){this.configLoader=S,this.urlSerializer=F,this.urlTree=Y,this.config=le,this.allowRedirects=!0,this.ngModule=O.get(b.h0i)}apply(){const O=Ms(this.urlTree.root,[],[],this.config).segmentGroup,S=new ve(O.segments,O.children);return this.expandSegmentGroup(this.ngModule,this.config,S,Kt).pipe((0,Se.U)(le=>this.createUrlTree(Er(le),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vt(le=>{if(le instanceof dn)return this.allowRedirects=!1,this.match(le.urlTree);throw le instanceof qt?this.noMatchError(le):le}))}match(O){return this.expandSegmentGroup(this.ngModule,this.config,O.root,Kt).pipe((0,Se.U)(Y=>this.createUrlTree(Er(Y),O.queryParams,O.fragment))).pipe(vt(Y=>{throw Y instanceof qt?this.noMatchError(Y):Y}))}noMatchError(O){return new Error(`Cannot match any routes. URL Segment: '${O.segmentGroup}'`)}createUrlTree(O,S,F){const Y=O.segments.length>0?new ve([],{[Kt]:O}):O;return new qe(Y,S,F)}expandSegmentGroup(O,S,F,Y){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(O,S,F).pipe((0,Se.U)(le=>new ve([],le))):this.expandSegment(O,F,S,F.segments,Y,!0)}expandChildren(O,S,F){const Y=[];for(const le of Object.keys(F.children))"primary"===le?Y.unshift(le):Y.push(le);return(0,Be.D)(Y).pipe((0,tt.b)(le=>{const we=F.children[le],pe=Vs(S,le);return this.expandSegmentGroup(O,pe,we,le).pipe((0,Se.U)(at=>({segment:at,outlet:le})))}),(0,rt.R)((le,we)=>(le[we.outlet]=we.segment,le),{}),function Ke(k,O){const S=arguments.length>=2;return F=>F.pipe(k?(0,lt.h)((Y,le)=>k(Y,le,F)):Ae.y,Qe(1),S?(0,Ye.d)(O):(0,We.T)(()=>new Le.K))}())}expandSegment(O,S,F,Y,le,we){return(0,Be.D)(F).pipe((0,tt.b)(pe=>this.expandSegmentAgainstRoute(O,S,F,pe,Y,le,we).pipe(vt(Tn=>{if(Tn instanceof qt)return(0,Te.of)(null);throw Tn}))),(0,Jt.P)(pe=>!!pe),vt((pe,at)=>{if(pe instanceof Le.K||"EmptyError"===pe.name)return Pt(S,Y,le)?(0,Te.of)(new ve([],{})):yi(S);throw pe}))}expandSegmentAgainstRoute(O,S,F,Y,le,we,pe){return He(Y,S,le,we)?void 0===Y.redirectTo?this.matchSegmentAgainstRoute(O,S,Y,le,we):pe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,S,F,Y,le,we):yi(S):yi(S)}expandSegmentAgainstRouteUsingRedirect(O,S,F,Y,le,we){return"**"===Y.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,F,Y,we):this.expandRegularSegmentAgainstRouteUsingRedirect(O,S,F,Y,le,we)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,S,F,Y){const le=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?xi(le):this.lineralizeSegments(F,le).pipe((0,Gt.z)(we=>{const pe=new ve(we,{});return this.expandSegment(O,pe,S,we,Y,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,S,F,Y,le,we){const{matched:pe,consumedSegments:at,remainingSegments:Tn,positionalParamSegments:Bt}=Ks(S,Y,le);if(!pe)return yi(S);const gt=this.applyRedirectCommands(at,Y.redirectTo,Bt);return Y.redirectTo.startsWith("/")?xi(gt):this.lineralizeSegments(Y,gt).pipe((0,Gt.z)(Ut=>this.expandSegment(O,S,F,Ut.concat(Tn),we,!1)))}matchSegmentAgainstRoute(O,S,F,Y,le){if("**"===F.path)return F.loadChildren?(F._loadedConfig?(0,Te.of)(F._loadedConfig):this.configLoader.load(O.injector,F)).pipe((0,Se.U)(gt=>(F._loadedConfig=gt,new ve(Y,{})))):(0,Te.of)(new ve(Y,{}));const{matched:we,consumedSegments:pe,remainingSegments:at}=Ks(S,F,Y);return we?this.getChildConfig(O,F,Y).pipe((0,Gt.z)(Bt=>{const gt=Bt.module,Ut=Bt.routes,{segmentGroup:di,slicedSegments:Ca}=Ms(S,pe,at,Ut),_r=new ve(di.segments,di.children);if(0===Ca.length&&_r.hasChildren())return this.expandChildren(gt,Ut,_r).pipe((0,Se.U)(xl=>new ve(pe,xl)));if(0===Ut.length&&0===Ca.length)return(0,Te.of)(new ve(pe,{}));const Oi=is(F)===le;return this.expandSegment(gt,_r,Ut,Ca,Oi?Kt:le,!0).pipe((0,Se.U)(qa=>new ve(pe.concat(qa.segments),qa.children)))})):yi(S)}getChildConfig(O,S,F){return S.children?(0,Te.of)(new qs(S.children,O)):S.loadChildren?void 0!==S._loadedConfig?(0,Te.of)(S._loadedConfig):this.runCanLoadGuards(O.injector,S,F).pipe((0,Gt.z)(Y=>Y?this.configLoader.load(O.injector,S).pipe((0,Se.U)(le=>(S._loadedConfig=le,le))):function ei(k){return Ce(rr(`Cannot load children because the guard of the route "path: '${k.path}'" returned false`))}(S))):(0,Te.of)(new qs([],O))}runCanLoadGuards(O,S,F){const Y=S.canLoad;if(!Y||0===Y.length)return(0,Te.of)(!0);const le=Y.map(we=>{const pe=O.get(we);let at;if(function Zs(k){return k&&Br(k.canLoad)}(pe))at=pe.canLoad(S,F);else{if(!Br(pe))throw new Error("Invalid CanLoad guard");at=pe(S,F)}return Ti(at)});return(0,Te.of)(le).pipe(Qo(),(0,mt.b)(we=>{if(!br(we))return;const pe=rr(`Redirecting to "${this.urlSerializer.serialize(we)}"`);throw pe.url=we,pe}),(0,Se.U)(we=>!0===we))}lineralizeSegments(O,S){let F=[],Y=S.root;for(;;){if(F=F.concat(Y.segments),0===Y.numberOfChildren)return(0,Te.of)(F);if(Y.numberOfChildren>1||!Y.children[Kt])return Ce(new Error(`Only absolute redirects can have named outlets. redirectTo: '${O.redirectTo}'`));Y=Y.children[Kt]}}applyRedirectCommands(O,S,F){return this.applyRedirectCreatreUrlTree(S,this.urlSerializer.parse(S),O,F)}applyRedirectCreatreUrlTree(O,S,F,Y){const le=this.createSegmentGroup(O,S.root,F,Y);return new qe(le,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(O,S){const F={};return Fi(O,(Y,le)=>{if("string"==typeof Y&&Y.startsWith(":")){const pe=Y.substring(1);F[le]=S[pe]}else F[le]=Y}),F}createSegmentGroup(O,S,F,Y){const le=this.createSegments(O,S.segments,F,Y);let we={};return Fi(S.children,(pe,at)=>{we[at]=this.createSegmentGroup(O,pe,F,Y)}),new ve(le,we)}createSegments(O,S,F,Y){return S.map(le=>le.path.startsWith(":")?this.findPosParam(O,le,Y):this.findOrReturn(le,F))}findPosParam(O,S,F){const Y=F[S.path.substring(1)];if(!Y)throw new Error(`Cannot redirect to '${O}'. Cannot find '${S.path}'.`);return Y}findOrReturn(O,S){let F=0;for(const Y of S){if(Y.path===O.path)return S.splice(F),Y;F++}return O}}function Er(k){const O={};for(const F of Object.keys(k.children)){const le=Er(k.children[F]);(le.segments.length>0||le.hasChildren())&&(O[F]=le)}return function tr(k){if(1===k.numberOfChildren&&k.children[Kt]){const O=k.children[Kt];return new ve(k.segments.concat(O.segments),O.children)}return k}(new ve(k.segments,O))}class Rn{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class xs{constructor(O,S){this.component=O,this.route=S}}function Js(k,O,S){const F=k._root;return j(F,O?O._root:null,S,[F.value])}function os(k,O,S){const F=function q(k){if(!k)return null;for(let O=k.parent;O;O=O.parent){const S=O.routeConfig;if(S&&S._loadedConfig)return S._loadedConfig}return null}(O);return(F?F.module.injector:S).get(k)}function j(k,O,S,F,Y={canDeactivateChecks:[],canActivateChecks:[]}){const le=Wn(O);return k.children.forEach(we=>{(function V(k,O,S,F,Y={canDeactivateChecks:[],canActivateChecks:[]}){const le=k.value,we=O?O.value:null,pe=S?S.getContext(k.value.outlet):null;if(we&&le.routeConfig===we.routeConfig){const at=function T(k,O,S){if("function"==typeof S)return S(k,O);switch(S){case"pathParamsChange":return!ue(k.url,O.url);case"pathParamsOrQueryParamsChange":return!ue(k.url,O.url)||!hn(k.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!be(k,O)||!hn(k.queryParams,O.queryParams);default:return!be(k,O)}}(we,le,le.routeConfig.runGuardsAndResolvers);at?Y.canActivateChecks.push(new Rn(F)):(le.data=we.data,le._resolvedData=we._resolvedData),j(k,O,le.component?pe?pe.children:null:S,F,Y),at&&pe&&pe.outlet&&pe.outlet.isActivated&&Y.canDeactivateChecks.push(new xs(pe.outlet.component,we))}else we&&R(O,pe,Y),Y.canActivateChecks.push(new Rn(F)),j(k,null,le.component?pe?pe.children:null:S,F,Y)})(we,le[we.value.outlet],S,F.concat([we.value]),Y),delete le[we.value.outlet]}),Fi(le,(we,pe)=>R(we,S.getContext(pe),Y)),Y}function R(k,O,S){const F=Wn(k),Y=k.value;Fi(F,(le,we)=>{R(le,Y.component?O?O.children.getContext(we):null:O,S)}),S.canDeactivateChecks.push(new xs(Y.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,Y))}class Ri{}function Tr(k){return new s.y(O=>O.error(k))}class Wi{constructor(O,S,F,Y,le,we){this.rootComponentType=O,this.config=S,this.urlTree=F,this.url=Y,this.paramsInheritanceStrategy=le,this.relativeLinkResolution=we}recognize(){const O=Ms(this.urlTree.root,[],[],this.config.filter(we=>void 0===we.redirectTo),this.relativeLinkResolution).segmentGroup,S=this.processSegmentGroup(this.config,O,Kt);if(null===S)return null;const F=new Lr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),Y=new ui(F,S),le=new X(this.url,Y);return this.inheritParamsAndData(le._root),le}inheritParamsAndData(O){const S=O.value,F=pr(S,this.paramsInheritanceStrategy);S.params=Object.freeze(F.params),S.data=Object.freeze(F.data),O.children.forEach(Y=>this.inheritParamsAndData(Y))}processSegmentGroup(O,S,F){return 0===S.segments.length&&S.hasChildren()?this.processChildren(O,S):this.processSegment(O,S,S.segments,F)}processChildren(O,S){const F=[];for(const le of Object.keys(S.children)){const we=S.children[le],pe=Vs(O,le),at=this.processSegmentGroup(pe,we,le);if(null===at)return null;F.push(...at)}const Y=Ur(F);return function wr(k){k.sort((O,S)=>O.value.outlet===Kt?-1:S.value.outlet===Kt?1:O.value.outlet.localeCompare(S.value.outlet))}(Y),Y}processSegment(O,S,F,Y){for(const le of O){const we=this.processSegmentAgainstRoute(le,S,F,Y);if(null!==we)return we}return Pt(S,F,Y)?[]:null}processSegmentAgainstRoute(O,S,F,Y){if(O.redirectTo||!He(O,S,F,Y))return null;let le,we=[],pe=[];if("**"===O.path){const di=F.length>0?jr(F).parameters:{};le=new Lr(F,di,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Co(O),is(O),O.component,O,Pi(S),as(S)+F.length,$o(O))}else{const di=Ks(S,O,F);if(!di.matched)return null;we=di.consumedSegments,pe=di.remainingSegments,le=new Lr(we,di.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Co(O),is(O),O.component,O,Pi(S),as(S)+we.length,$o(O))}const at=function Qr(k){return k.children?k.children:k.loadChildren?k._loadedConfig.routes:[]}(O),{segmentGroup:Tn,slicedSegments:Bt}=Ms(S,we,pe,at.filter(di=>void 0===di.redirectTo),this.relativeLinkResolution);if(0===Bt.length&&Tn.hasChildren()){const di=this.processChildren(at,Tn);return null===di?null:[new ui(le,di)]}if(0===at.length&&0===Bt.length)return[new ui(le,[])];const gt=is(O)===Y,Ut=this.processSegment(at,Tn,Bt,gt?Kt:Y);return null===Ut?null:[new ui(le,Ut)]}}function mr(k){const O=k.value.routeConfig;return O&&""===O.path&&void 0===O.redirectTo}function Ur(k){const O=[],S=new Set;for(const F of k){if(!mr(F)){O.push(F);continue}const Y=O.find(le=>F.value.routeConfig===le.value.routeConfig);void 0!==Y?(Y.children.push(...F.children),S.add(Y)):O.push(F)}for(const F of S){const Y=Ur(F.children);O.push(new ui(F.value,Y))}return O.filter(F=>!S.has(F))}function Pi(k){let O=k;for(;O._sourceSegment;)O=O._sourceSegment;return O}function as(k){let O=k,S=O._segmentIndexShift?O._segmentIndexShift:0;for(;O._sourceSegment;)O=O._sourceSegment,S+=O._segmentIndexShift?O._segmentIndexShift:0;return S-1}function Co(k){return k.data||{}}function $o(k){return k.resolve||{}}function xa(k){return[...Object.keys(k),...Object.getOwnPropertySymbols(k)]}function ta(k){return(0,ke.w)(O=>{const S=k(O);return S?(0,Be.D)(S).pipe((0,Se.U)(()=>O)):(0,Te.of)(O)})}class Kl extends class Yl{shouldDetach(O){return!1}store(O,S){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,S){return O.routeConfig===S.routeConfig}}{}const Ho=new b.OlP("ROUTES");class Ml{constructor(O,S,F,Y){this.injector=O,this.compiler=S,this.onLoadStartListener=F,this.onLoadEndListener=Y}load(O,S){if(S._loader$)return S._loader$;this.onLoadStartListener&&this.onLoadStartListener(S);const Y=this.loadModuleFactory(S.loadChildren).pipe((0,Se.U)(le=>{this.onLoadEndListener&&this.onLoadEndListener(S);const we=le.create(O);return new qs(ur(we.injector.get(Ho,void 0,b.XFs.Self|b.XFs.Optional)).map(xe),we)}),vt(le=>{throw S._loader$=void 0,le}));return S._loader$=new de(Y,()=>new _e.x).pipe(Ne()),S._loader$}loadModuleFactory(O){return Ti(O()).pipe((0,Gt.z)(S=>S instanceof b.YKP?(0,Te.of)(S):(0,Be.D)(this.compiler.compileModuleAsync(S))))}}class Qs{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,S){return O}}function Oa(k){throw k}function ms(k,O,S){return O.parse("/")}function Jl(k,O){return(0,Te.of)(null)}const Xc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ih={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $s=(()=>{class k{constructor(S,F,Y,le,we,pe,at){this.rootComponentType=S,this.urlSerializer=F,this.rootContexts=Y,this.location=le,this.config=at,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _e.x,this.errorHandler=Oa,this.malformedUriErrorHandler=ms,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Jl,afterPreactivation:Jl},this.urlHandlingStrategy=new Qs,this.routeReuseStrategy=new Kl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=we.get(b.h0i),this.console=we.get(b.c2e);const gt=we.get(b.R0b);this.isNgZoneEnabled=gt instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(at),this.currentUrlTree=function Li(){return new qe(new ve([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ml(we,pe,Ut=>this.triggerEvent(new ai(Ut)),Ut=>this.triggerEvent(new jn(Ut))),this.routerState=Sr(this.currentUrlTree,this.rootComponentType),this.transitions=new je.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var S;return null===(S=this.location.getState())||void 0===S?void 0:S.\u0275routerPageId}setupNavigations(S){const F=this.events;return S.pipe((0,lt.h)(Y=>0!==Y.id),(0,Se.U)(Y=>Object.assign(Object.assign({},Y),{extractedUrl:this.urlHandlingStrategy.extract(Y.rawUrl)})),(0,ke.w)(Y=>{let le=!1,we=!1;return(0,Te.of)(Y).pipe((0,mt.b)(pe=>{this.currentNavigation={id:pe.id,initialUrl:pe.currentRawUrl,extractedUrl:pe.extractedUrl,trigger:pe.source,extras:pe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,ke.w)(pe=>{const at=this.browserUrlTree.toString(),Tn=!this.navigated||pe.extractedUrl.toString()!==at||at!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Tn)&&this.urlHandlingStrategy.shouldProcessUrl(pe.rawUrl))return Na(pe.source)&&(this.browserUrlTree=pe.extractedUrl),(0,Te.of)(pe).pipe((0,ke.w)(gt=>{const Ut=this.transitions.getValue();return F.next(new Dt(gt.id,this.serializeUrl(gt.extractedUrl),gt.source,gt.restoredState)),Ut!==this.transitions.getValue()?fe.E:Promise.resolve(gt)}),function Gr(k,O,S,F){return(0,ke.w)(Y=>function xr(k,O,S,F,Y){return new gr(k,O,S,F,Y).apply()}(k,O,S,Y.extractedUrl,F).pipe((0,Se.U)(le=>Object.assign(Object.assign({},Y),{urlAfterRedirects:le}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,mt.b)(gt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:gt.urlAfterRedirects})}),function ea(k,O,S,F,Y){return(0,Gt.z)(le=>function nr(k,O,S,F,Y="emptyOnly",le="legacy"){try{const we=new Wi(k,O,S,F,Y,le).recognize();return null===we?Tr(new Ri):(0,Te.of)(we)}catch(we){return Tr(we)}}(k,O,le.urlAfterRedirects,S(le.urlAfterRedirects),F,Y).pipe((0,Se.U)(we=>Object.assign(Object.assign({},le),{targetSnapshot:we}))))}(this.rootComponentType,this.config,gt=>this.serializeUrl(gt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,mt.b)(gt=>{if("eager"===this.urlUpdateStrategy){if(!gt.extras.skipLocationChange){const di=this.urlHandlingStrategy.merge(gt.urlAfterRedirects,gt.rawUrl);this.setBrowserUrl(di,gt)}this.browserUrlTree=gt.urlAfterRedirects}const Ut=new Cn(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);F.next(Ut)}));if(Tn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ut,extractedUrl:di,source:Ca,restoredState:_r,extras:Oi}=pe,oo=new Dt(Ut,this.serializeUrl(di),Ca,_r);F.next(oo);const qa=Sr(di,this.rootComponentType).snapshot;return(0,Te.of)(Object.assign(Object.assign({},pe),{targetSnapshot:qa,urlAfterRedirects:di,extras:Object.assign(Object.assign({},Oi),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=pe.rawUrl,pe.resolve(null),fe.E}),ta(pe=>{const{targetSnapshot:at,id:Tn,extractedUrl:Bt,rawUrl:gt,extras:{skipLocationChange:Ut,replaceUrl:di}}=pe;return this.hooks.beforePreactivation(at,{navigationId:Tn,appliedUrlTree:Bt,rawUrlTree:gt,skipLocationChange:!!Ut,replaceUrl:!!di})}),(0,mt.b)(pe=>{const at=new ti(pe.id,this.serializeUrl(pe.extractedUrl),this.serializeUrl(pe.urlAfterRedirects),pe.targetSnapshot);this.triggerEvent(at)}),(0,Se.U)(pe=>Object.assign(Object.assign({},pe),{guards:Js(pe.targetSnapshot,pe.currentSnapshot,this.rootContexts)})),function re(k,O){return(0,Gt.z)(S=>{const{targetSnapshot:F,currentSnapshot:Y,guards:{canActivateChecks:le,canDeactivateChecks:we}}=S;return 0===we.length&&0===le.length?(0,Te.of)(Object.assign(Object.assign({},S),{guardsResult:!0})):function Ee(k,O,S,F){return(0,Be.D)(k).pipe((0,Gt.z)(Y=>function pi(k,O,S,F,Y){const le=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,Te.of)(!0);const we=le.map(pe=>{const at=os(pe,O,Y);let Tn;if(function ma(k){return k&&Br(k.canDeactivate)}(at))Tn=Ti(at.canDeactivate(k,O,S,F));else{if(!Br(at))throw new Error("Invalid CanDeactivate guard");Tn=Ti(at(k,O,S,F))}return Tn.pipe((0,Jt.P)())});return(0,Te.of)(we).pipe(Qo())}(Y.component,Y.route,S,O,F)),(0,Jt.P)(Y=>!0!==Y,!0))}(we,F,Y,k).pipe((0,Gt.z)(pe=>pe&&function So(k){return"boolean"==typeof k}(pe)?function st(k,O,S,F){return(0,Be.D)(O).pipe((0,tt.b)(Y=>(0,Ve.z)(function Yt(k,O){return null!==k&&O&&O(new ki(k)),(0,Te.of)(!0)}(Y.route.parent,F),function Mt(k,O){return null!==k&&O&&O(new bn(k)),(0,Te.of)(!0)}(Y.route,F),function _n(k,O,S){const F=O[O.length-1],le=O.slice(0,O.length-1).reverse().map(we=>function ss(k){const O=k.routeConfig?k.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:k,guards:O}:null}(we)).filter(we=>null!==we).map(we=>ae(()=>{const pe=we.guards.map(at=>{const Tn=os(at,we.node,S);let Bt;if(function As(k){return k&&Br(k.canActivateChild)}(Tn))Bt=Ti(Tn.canActivateChild(F,k));else{if(!Br(Tn))throw new Error("Invalid CanActivateChild guard");Bt=Ti(Tn(F,k))}return Bt.pipe((0,Jt.P)())});return(0,Te.of)(pe).pipe(Qo())}));return(0,Te.of)(le).pipe(Qo())}(k,Y.path,S),function Dn(k,O,S){const F=O.routeConfig?O.routeConfig.canActivate:null;if(!F||0===F.length)return(0,Te.of)(!0);const Y=F.map(le=>ae(()=>{const we=os(le,O,S);let pe;if(function gs(k){return k&&Br(k.canActivate)}(we))pe=Ti(we.canActivate(O,k));else{if(!Br(we))throw new Error("Invalid CanActivate guard");pe=Ti(we(O,k))}return pe.pipe((0,Jt.P)())}));return(0,Te.of)(Y).pipe(Qo())}(k,Y.route,S))),(0,Jt.P)(Y=>!0!==Y,!0))}(F,le,k,O):(0,Te.of)(pe)),(0,Se.U)(pe=>Object.assign(Object.assign({},S),{guardsResult:pe})))})}(this.ngModule.injector,pe=>this.triggerEvent(pe)),(0,mt.b)(pe=>{if(br(pe.guardsResult)){const Tn=rr(`Redirecting to "${this.serializeUrl(pe.guardsResult)}"`);throw Tn.url=pe.guardsResult,Tn}const at=new $n(pe.id,this.serializeUrl(pe.extractedUrl),this.serializeUrl(pe.urlAfterRedirects),pe.targetSnapshot,!!pe.guardsResult);this.triggerEvent(at)}),(0,lt.h)(pe=>!!pe.guardsResult||(this.restoreHistory(pe),this.cancelNavigationTransition(pe,""),!1)),ta(pe=>{if(pe.guards.canActivateChecks.length)return(0,Te.of)(pe).pipe((0,mt.b)(at=>{const Tn=new Zn(at.id,this.serializeUrl(at.extractedUrl),this.serializeUrl(at.urlAfterRedirects),at.targetSnapshot);this.triggerEvent(Tn)}),(0,ke.w)(at=>{let Tn=!1;return(0,Te.of)(at).pipe(function _a(k,O){return(0,Gt.z)(S=>{const{targetSnapshot:F,guards:{canActivateChecks:Y}}=S;if(!Y.length)return(0,Te.of)(S);let le=0;return(0,Be.D)(Y).pipe((0,tt.b)(we=>function Ma(k,O,S,F){return function Sl(k,O,S,F){const Y=xa(k);if(0===Y.length)return(0,Te.of)({});const le={};return(0,Be.D)(Y).pipe((0,Gt.z)(we=>function Wa(k,O,S,F){const Y=os(k,O,F);return Ti(Y.resolve?Y.resolve(O,S):Y(O,S))}(k[we],O,S,F).pipe((0,mt.b)(pe=>{le[we]=pe}))),Qe(1),(0,Gt.z)(()=>xa(le).length===Y.length?(0,Te.of)(le):fe.E))}(k._resolve,k,O,F).pipe((0,Se.U)(le=>(k._resolvedData=le,k.data=Object.assign(Object.assign({},k.data),pr(k,S).resolve),null)))}(we.route,F,k,O)),(0,mt.b)(()=>le++),Qe(1),(0,Gt.z)(we=>le===Y.length?(0,Te.of)(S):fe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,mt.b)({next:()=>Tn=!0,complete:()=>{Tn||(this.restoreHistory(at),this.cancelNavigationTransition(at,"At least one route resolver didn't emit any value."))}}))}),(0,mt.b)(at=>{const Tn=new Hn(at.id,this.serializeUrl(at.extractedUrl),this.serializeUrl(at.urlAfterRedirects),at.targetSnapshot);this.triggerEvent(Tn)}))}),ta(pe=>{const{targetSnapshot:at,id:Tn,extractedUrl:Bt,rawUrl:gt,extras:{skipLocationChange:Ut,replaceUrl:di}}=pe;return this.hooks.afterPreactivation(at,{navigationId:Tn,appliedUrlTree:Bt,rawUrlTree:gt,skipLocationChange:!!Ut,replaceUrl:!!di})}),(0,Se.U)(pe=>{const at=function $e(k,O,S){const F=bt(k,O._root,S?S._root:void 0);return new Rr(F,O)}(this.routeReuseStrategy,pe.targetSnapshot,pe.currentRouterState);return Object.assign(Object.assign({},pe),{targetRouterState:at})}),(0,mt.b)(pe=>{this.currentUrlTree=pe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(pe.urlAfterRedirects,pe.rawUrl),this.routerState=pe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(pe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,pe),this.browserUrlTree=pe.urlAfterRedirects)}),((k,O,S)=>(0,Se.U)(F=>(new Bs(O,F.targetRouterState,F.currentRouterState,S).activate(k),F)))(this.rootContexts,this.routeReuseStrategy,pe=>this.triggerEvent(pe)),(0,mt.b)({next(){le=!0},complete(){le=!0}}),(0,nt.x)(()=>{var pe;le||we||this.cancelNavigationTransition(Y,`Navigation ID ${Y.id} is not equal to the current navigation id ${this.navigationId}`),(null===(pe=this.currentNavigation)||void 0===pe?void 0:pe.id)===Y.id&&(this.currentNavigation=null)}),vt(pe=>{if(we=!0,function Nr(k){return k&&k[zi]}(pe)){const at=br(pe.url);at||(this.navigated=!0,this.restoreHistory(Y,!0));const Tn=new Ft(Y.id,this.serializeUrl(Y.extractedUrl),pe.message);F.next(Tn),at?setTimeout(()=>{const Bt=this.urlHandlingStrategy.merge(pe.url,this.rawUrlTree),gt={skipLocationChange:Y.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Na(Y.source)};this.scheduleNavigation(Bt,"imperative",null,gt,{resolve:Y.resolve,reject:Y.reject,promise:Y.promise})},0):Y.resolve(!1)}else{this.restoreHistory(Y,!0);const at=new Ot(Y.id,this.serializeUrl(Y.extractedUrl),pe);F.next(at);try{Y.resolve(this.errorHandler(pe))}catch(Tn){Y.reject(Tn)}}return fe.E}))}))}resetRootComponentType(S){this.rootComponentType=S,this.routerState.root.component=this.rootComponentType}setTransition(S){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),S))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const F="popstate"===S.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{var Y;const le={replaceUrl:!0},we=(null===(Y=S.state)||void 0===Y?void 0:Y.navigationId)?S.state:null;if(we){const at=Object.assign({},we);delete at.navigationId,delete at.\u0275routerPageId,0!==Object.keys(at).length&&(le.state=at)}const pe=this.parseUrl(S.url);this.scheduleNavigation(pe,F,we,le)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(S){this.events.next(S)}resetConfig(S){Ys(S),this.config=S.map(xe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(S,F={}){const{relativeTo:Y,queryParams:le,fragment:we,queryParamsHandling:pe,preserveFragment:at}=F,Tn=Y||this.routerState.root,Bt=at?this.currentUrlTree.fragment:we;let gt=null;switch(pe){case"merge":gt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),le);break;case"preserve":gt=this.currentUrlTree.queryParams;break;default:gt=le||null}return null!==gt&&(gt=this.removeEmptyProps(gt)),function jt(k,O,S,F,Y){if(0===S.length)return Xn(O.root,O.root,O.root,F,Y);const le=function vr(k){if("string"==typeof k[0]&&1===k.length&&"/"===k[0])return new ns(!0,0,k);let O=0,S=!1;const F=k.reduce((Y,le,we)=>{if("object"==typeof le&&null!=le){if(le.outlets){const pe={};return Fi(le.outlets,(at,Tn)=>{pe[Tn]="string"==typeof at?at.split("/"):at}),[...Y,{outlets:pe}]}if(le.segmentPath)return[...Y,le.segmentPath]}return"string"!=typeof le?[...Y,le]:0===we?(le.split("/").forEach((pe,at)=>{0==at&&"."===pe||(0==at&&""===pe?S=!0:".."===pe?O++:""!=pe&&Y.push(pe))}),Y):[...Y,le]},[]);return new ns(S,O,F)}(S);if(le.toRoot())return Xn(O.root,O.root,new ve([],{}),F,Y);const we=function et(k,O,S){if(k.isAbsolute)return new ut(O.root,!0,0);if(-1===S.snapshot._lastPathIndex){const le=S.snapshot._urlSegment;return new ut(le,le===O.root,0)}const F=fn(k.commands[0])?0:1;return function xt(k,O,S){let F=k,Y=O,le=S;for(;le>Y;){if(le-=Y,F=F.parent,!F)throw new Error("Invalid number of '../'");Y=F.segments.length}return new ut(F,!1,Y-le)}(S.snapshot._urlSegment,S.snapshot._lastPathIndex+F,k.numberOfDoubleDots)}(le,O,k),pe=we.processChildren?An(we.segmentGroup,we.index,le.commands):on(we.segmentGroup,we.index,le.commands);return Xn(O.root,we.segmentGroup,pe,F,Y)}(Tn,this.currentUrlTree,S,gt,null!=Bt?Bt:null)}navigateByUrl(S,F={skipLocationChange:!1}){const Y=br(S)?S:this.parseUrl(S),le=this.urlHandlingStrategy.merge(Y,this.rawUrlTree);return this.scheduleNavigation(le,"imperative",null,F)}navigate(S,F={skipLocationChange:!1}){return function rl(k){for(let O=0;O<k.length;O++){const S=k[O];if(null==S)throw new Error(`The requested path contains ${S} segment at index ${O}`)}}(S),this.navigateByUrl(this.createUrlTree(S,F),F)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let F;try{F=this.urlSerializer.parse(S)}catch(Y){F=this.malformedUriErrorHandler(Y,this.urlSerializer,S)}return F}isActive(S,F){let Y;if(Y=!0===F?Object.assign({},Xc):!1===F?Object.assign({},ih):F,br(S))return ci(this.currentUrlTree,S,Y);const le=this.parseUrl(S);return ci(this.currentUrlTree,le,Y)}removeEmptyProps(S){return Object.keys(S).reduce((F,Y)=>{const le=S[Y];return null!=le&&(F[Y]=le),F},{})}processNavigations(){this.navigations.subscribe(S=>{this.navigated=!0,this.lastSuccessfulId=S.id,this.currentPageId=S.targetPageId,this.events.next(new _t(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,S.resolve(!0)},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}scheduleNavigation(S,F,Y,le,we){var pe,at;if(this.disposed)return Promise.resolve(!1);let Tn,Bt,gt;we?(Tn=we.resolve,Bt=we.reject,gt=we.promise):gt=new Promise((Ca,_r)=>{Tn=Ca,Bt=_r});const Ut=++this.navigationId;let di;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Y=this.location.getState()),di=Y&&Y.\u0275routerPageId?Y.\u0275routerPageId:le.replaceUrl||le.skipLocationChange?null!==(pe=this.browserPageId)&&void 0!==pe?pe:0:(null!==(at=this.browserPageId)&&void 0!==at?at:0)+1):di=0,this.setTransition({id:Ut,targetPageId:di,source:F,restoredState:Y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:S,extras:le,resolve:Tn,reject:Bt,promise:gt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),gt.catch(Ca=>Promise.reject(Ca))}setBrowserUrl(S,F){const Y=this.urlSerializer.serialize(S),le=Object.assign(Object.assign({},F.extras.state),this.generateNgRouterState(F.id,F.targetPageId));this.location.isCurrentPathEqualTo(Y)||F.extras.replaceUrl?this.location.replaceState(Y,"",le):this.location.go(Y,"",le)}restoreHistory(S,F=!1){var Y,le;if("computed"===this.canceledNavigationResolution){const we=this.currentPageId-S.targetPageId;"popstate"!==S.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Y=this.currentNavigation)||void 0===Y?void 0:Y.finalUrl)||0===we?this.currentUrlTree===(null===(le=this.currentNavigation)||void 0===le?void 0:le.finalUrl)&&0===we&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(we)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(S,F){const Y=new Ft(S.id,this.serializeUrl(S.extractedUrl),F);this.triggerEvent(Y),S.resolve(!1)}generateNgRouterState(S,F){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:F}:{navigationId:S}}}return k.\u0275fac=function(S){b.$Z()},k.\u0275prov=b.Yz7({token:k,factory:k.\u0275fac}),k})();function Na(k){return"imperative"!==k}let ya=(()=>{class k{constructor(S,F,Y,le,we){this.router=S,this.route=F,this.tabIndexAttribute=Y,this.renderer=le,this.el=we,this.commands=null,this.onChanges=new _e.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(S){if(null!=this.tabIndexAttribute)return;const F=this.renderer,Y=this.el.nativeElement;null!==S?F.setAttribute(Y,"tabindex",S):F.removeAttribute(Y,"tabindex")}ngOnChanges(S){this.onChanges.next(this)}set routerLink(S){null!=S?(this.commands=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const S={skipLocationChange:jo(this.skipLocationChange),replaceUrl:jo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,S),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:jo(this.preserveFragment)})}}return k.\u0275fac=function(S){return new(S||k)(b.Y36($s),b.Y36(er),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq))},k.\u0275dir=b.lG2({type:k,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(S,F){1&S&&b.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[b.TTD]}),k})(),Ra=(()=>{class k{constructor(S,F,Y){this.router=S,this.route=F,this.locationStrategy=Y,this.commands=null,this.href=null,this.onChanges=new _e.x,this.subscription=S.events.subscribe(le=>{le instanceof _t&&this.updateTargetUrlAndHref()})}set routerLink(S){this.commands=null!=S?Array.isArray(S)?S:[S]:null}ngOnChanges(S){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(S,F,Y,le,we){if(0!==S||F||Y||le||we||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const pe={skipLocationChange:jo(this.skipLocationChange),replaceUrl:jo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,pe),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:jo(this.preserveFragment)})}}return k.\u0275fac=function(S){return new(S||k)(b.Y36($s),b.Y36(er),b.Y36(Et.S$))},k.\u0275dir=b.lG2({type:k,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(S,F){1&S&&b.NdJ("click",function(le){return F.onClick(le.button,le.ctrlKey,le.shiftKey,le.altKey,le.metaKey)}),2&S&&b.uIk("target",F.target)("href",F.href,b.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[b.TTD]}),k})();function jo(k){return""===k||!!k}let hs=(()=>{class k{constructor(S,F,Y,le,we,pe){this.router=S,this.element=F,this.renderer=Y,this.cdr=le,this.link=we,this.linkWithHref=pe,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new b.vpe,this.routerEventsSubscription=S.events.subscribe(at=>{at instanceof _t&&this.update()})}ngAfterContentInit(){(0,Te.of)(this.links.changes,this.linksWithHrefs.changes,(0,Te.of)(null)).pipe((0,Je.J)()).subscribe(S=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var S;null===(S=this.linkInputChangesSubscription)||void 0===S||S.unsubscribe();const F=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(Y=>!!Y).map(Y=>Y.onChanges);this.linkInputChangesSubscription=(0,Be.D)(F).pipe((0,Je.J)()).subscribe(Y=>{this.isActive!==this.isLinkActive(this.router)(Y)&&this.update()})}set routerLinkActive(S){const F=Array.isArray(S)?S:S.split(" ");this.classes=F.filter(Y=>!!Y)}ngOnChanges(S){this.update()}ngOnDestroy(){var S;this.routerEventsSubscription.unsubscribe(),null===(S=this.linkInputChangesSubscription)||void 0===S||S.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const S=this.hasActiveLinks();this.isActive!==S&&(this.isActive=S,this.cdr.markForCheck(),this.classes.forEach(F=>{S?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),this.isActiveChange.emit(S))})}isLinkActive(S){const F=function sl(k){return!!k.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Y=>!!Y.urlTree&&S.isActive(Y.urlTree,F)}hasActiveLinks(){const S=this.isLinkActive(this.router);return this.link&&S(this.link)||this.linkWithHref&&S(this.linkWithHref)||this.links.some(S)||this.linksWithHrefs.some(S)}}return k.\u0275fac=function(S){return new(S||k)(b.Y36($s),b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(b.sBO),b.Y36(ya,8),b.Y36(Ra,8))},k.\u0275dir=b.lG2({type:k,selectors:[["","routerLinkActive",""]],contentQueries:function(S,F,Y){if(1&S&&(b.Suo(Y,ya,5),b.Suo(Y,Ra,5)),2&S){let le;b.iGM(le=b.CRH())&&(F.links=le),b.iGM(le=b.CRH())&&(F.linksWithHrefs=le)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[b.TTD]}),k})();class Ql{}class Go{preload(O,S){return(0,Te.of)(null)}}let Mo=(()=>{class k{constructor(S,F,Y,le){this.router=S,this.injector=Y,this.preloadingStrategy=le,this.loader=new Ml(Y,F,at=>S.triggerEvent(new ai(at)),at=>S.triggerEvent(new jn(at)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,lt.h)(S=>S instanceof _t),(0,tt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const S=this.injector.get(b.h0i);return this.processRoutes(S,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,F){const Y=[];for(const le of F)if(le.loadChildren&&!le.canLoad&&le._loadedConfig){const we=le._loadedConfig;Y.push(this.processRoutes(we.module,we.routes))}else le.loadChildren&&!le.canLoad?Y.push(this.preloadConfig(S,le)):le.children&&Y.push(this.processRoutes(S,le.children));return(0,Be.D)(Y).pipe((0,Je.J)(),(0,Se.U)(le=>{}))}preloadConfig(S,F){return this.preloadingStrategy.preload(F,()=>(F._loadedConfig?(0,Te.of)(F._loadedConfig):this.loader.load(S.injector,F)).pipe((0,Gt.z)(le=>(F._loadedConfig=le,this.processRoutes(le.module,le.routes)))))}}return k.\u0275fac=function(S){return new(S||k)(b.LFG($s),b.LFG(b.Sil),b.LFG(b.zs3),b.LFG(Ql))},k.\u0275prov=b.Yz7({token:k,factory:k.\u0275fac}),k})(),ol=(()=>{class k{constructor(S,F,Y={}){this.router=S,this.viewportScroller=F,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(S=>{S instanceof Dt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof _t&&(this.lastId=S.id,this.scheduleScrollEvent(S,this.router.parseUrl(S.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(S=>{S instanceof Gn&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,F){this.router.triggerEvent(new Gn(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return k.\u0275fac=function(S){b.$Z()},k.\u0275prov=b.Yz7({token:k,factory:k.\u0275fac}),k})();const va=new b.OlP("ROUTER_CONFIGURATION"),Pa=new b.OlP("ROUTER_FORROOT_GUARD"),so=[Et.Ye,{provide:ye,useClass:St},{provide:$s,useFactory:function tu(k,O,S,F,Y,le,we={},pe,at){const Tn=new $s(null,k,O,S,F,Y,ur(le));return pe&&(Tn.urlHandlingStrategy=pe),at&&(Tn.routeReuseStrategy=at),function Es(k,O){k.errorHandler&&(O.errorHandler=k.errorHandler),k.malformedUriErrorHandler&&(O.malformedUriErrorHandler=k.malformedUriErrorHandler),k.onSameUrlNavigation&&(O.onSameUrlNavigation=k.onSameUrlNavigation),k.paramsInheritanceStrategy&&(O.paramsInheritanceStrategy=k.paramsInheritanceStrategy),k.relativeLinkResolution&&(O.relativeLinkResolution=k.relativeLinkResolution),k.urlUpdateStrategy&&(O.urlUpdateStrategy=k.urlUpdateStrategy),k.canceledNavigationResolution&&(O.canceledNavigationResolution=k.canceledNavigationResolution)}(we,Tn),we.enableTracing&&Tn.events.subscribe(Bt=>{var gt,Ut;null===(gt=console.group)||void 0===gt||gt.call(console,`Router Event: ${Bt.constructor.name}`),console.log(Bt.toString()),console.log(Bt),null===(Ut=console.groupEnd)||void 0===Ut||Ut.call(console)}),Tn},deps:[ye,us,Et.Ye,b.zs3,b.Sil,Ho,va,[class Dc{},new b.FiY],[class na{},new b.FiY]]},us,{provide:er,useFactory:function ba(k){return k.routerState.root},deps:[$s]},Mo,Go,class ia{preload(O,S){return S().pipe(vt(()=>(0,Te.of)(null)))}},{provide:va,useValue:{enableTracing:!1}}];function Ic(){return new b.PXZ("Router",$s)}let zo=(()=>{class k{constructor(S,F){}static forRoot(S,F){return{ngModule:k,providers:[so,Eo(S),{provide:Pa,useFactory:eu,deps:[[$s,new b.FiY,new b.tp0]]},{provide:va,useValue:F||{}},{provide:Et.S$,useFactory:Fu,deps:[Et.lw,[new b.tBr(Et.mr),new b.FiY],va]},{provide:ol,useFactory:ra,deps:[$s,Et.EM,va]},{provide:Ql,useExisting:F&&F.preloadingStrategy?F.preloadingStrategy:Go},{provide:b.PXZ,multi:!0,useFactory:Ic},[Xl,{provide:b.ip1,multi:!0,useFactory:Wo,deps:[Xl]},{provide:ka,useFactory:ll,deps:[Xl]},{provide:b.tb,multi:!0,useExisting:ka}]]}}static forChild(S){return{ngModule:k,providers:[Eo(S)]}}}return k.\u0275fac=function(S){return new(S||k)(b.LFG(Pa,8),b.LFG($s,8))},k.\u0275mod=b.oAB({type:k}),k.\u0275inj=b.cJS({}),k})();function ra(k,O,S){return S.scrollOffset&&O.setOffset(S.scrollOffset),new ol(k,O,S)}function Fu(k,O,S={}){return S.useHash?new Et.Do(k,O):new Et.b0(k,O)}function eu(k){return"guarded"}function Eo(k){return[{provide:b.deG,multi:!0,useValue:k},{provide:Ho,multi:!0,useValue:k}]}let Xl=(()=>{class k{constructor(S){this.injector=S,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new _e.x}appInitializer(){return this.injector.get(Et.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let F=null;const Y=new Promise(pe=>F=pe),le=this.injector.get($s),we=this.injector.get(va);return"disabled"===we.initialNavigation?(le.setUpLocationChangeListener(),F(!0)):"enabled"===we.initialNavigation||"enabledBlocking"===we.initialNavigation?(le.hooks.afterPreactivation=()=>this.initNavigation?(0,Te.of)(null):(this.initNavigation=!0,F(!0),this.resultOfPreactivationDone),le.initialNavigation()):F(!0),Y})}bootstrapListener(S){const F=this.injector.get(va),Y=this.injector.get(Mo),le=this.injector.get(ol),we=this.injector.get($s),pe=this.injector.get(b.z2F);S===pe.components[0]&&(("enabledNonBlocking"===F.initialNavigation||void 0===F.initialNavigation)&&we.initialNavigation(),Y.setUpPreloading(),le.init(),we.resetRootComponentType(pe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return k.\u0275fac=function(S){return new(S||k)(b.LFG(b.zs3))},k.\u0275prov=b.Yz7({token:k,factory:k.\u0275fac}),k})();function Wo(k){return k.appInitializer.bind(k)}function ll(k){return k.bootstrapListener.bind(k)}const ka=new b.OlP("Router Initializer")},3942:(nn,ht,L)=>{"use strict";L.d(ht,{Z:()=>it});var b=L(2090),s=L(4859),Q=L(9681),Ce=L(1877);class Ie{constructor(Ve,fe){this._delegate=Ve,this.firebase=fe,(0,Q._addComponent)(Ve,new s.wA("app-compat",()=>this,"PUBLIC")),this.container=Ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this._delegate.automaticDataCollectionEnabled=Ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ve=>{this._delegate.checkDestroyed(),Ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Q.deleteApp)(this._delegate)))}_getService(Ve,fe=Q._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const vt=this._delegate.container.getProvider(Ve);return!vt.isInitialized()&&"EXPLICIT"===(null===(_e=vt.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:fe})}_removeServiceInstance(Ve,fe=Q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ve).clearInstance(fe)}_addComponent(Ve){(0,Q._addComponent)(this._delegate,Ve)}_addOrOverwriteComponent(Ve){(0,Q._addOrOverwriteComponent)(this._delegate,Ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ne=function Ze(){const Le=function Pe(Le){const Ve={},fe={__esModule:!0,initializeApp:function lt(Ae,Ke={}){const Se=Q.initializeApp(Ae,Ke);if((0,b.r3)(Ve,Se.name))return Ve[Se.name];const ke=new Le(Se,fe);return Ve[Se.name]=ke,ke},app:vt,registerVersion:Q.registerVersion,setLogLevel:Q.setLogLevel,onLog:Q.onLog,apps:null,SDK_VERSION:Q.SDK_VERSION,INTERNAL:{registerComponent:function We(Ae){const Ke=Ae.name,Se=Ke.replace("-compat","");if(Q._registerComponent(Ae)&&"PUBLIC"===Ae.type){const ke=(De=vt())=>{if("function"!=typeof De[Se])throw ge.create("invalid-app-argument",{appName:Ke});return De[Se]()};void 0!==Ae.serviceProps&&(0,b.ZB)(ke,Ae.serviceProps),fe[Se]=ke,Le.prototype[Se]=function(...De){return this._getService.bind(this,Ke).apply(this,Ae.multipleInstances?De:[])}}return"PUBLIC"===Ae.type?fe[Se]:null},removeApp:function _e(Ae){delete Ve[Ae]},useAsService:function Ye(Ae,Ke){return"serverAuth"===Ke?null:Ke},modularAPIs:Q}};function vt(Ae){if(!(0,b.r3)(Ve,Ae=Ae||Q._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Ae});return Ve[Ae]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function Qe(){return Object.keys(Ve).map(Ae=>Ve[Ae])}}),vt.App=Le,fe}(Ie);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:Ze,extendNamespace:function Ve(fe){(0,b.ZB)(Le,fe)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),Le}(),de=new Ce.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const it=Ne;!function je(Le){(0,Q.registerVersion)("@firebase/app-compat","0.1.22",Le)}()},9681:(nn,ht,L)=>{"use strict";L.r(ht),L.d(ht,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>Hn,_DEFAULT_ENTRY_NAME:()=>mt,_addComponent:()=>pt,_addOrOverwriteComponent:()=>Dt,_apps:()=>Je,_clearComponents:()=>Cn,_components:()=>Et,_getProvider:()=>Ft,_registerComponent:()=>_t,_removeServiceInstance:()=>Ot,deleteApp:()=>gi,getApp:()=>jn,getApps:()=>ki,initializeApp:()=>ai,onLog:()=>Gn,registerVersion:()=>Qn,setLogLevel:()=>Kt});var b=L(5861),s=L(4859),Q=L(1877),Ce=L(2090);class Ie{constructor(zt){this.container=zt}getPlatformInfoString(){return this.container.getProviders().map(mn=>{if(function ae(cn){const zt=cn.getComponent();return"VERSION"===(null==zt?void 0:zt.type)}(mn)){const ln=mn.getImmediate();return`${ln.library}/${ln.version}`}return null}).filter(mn=>mn).join(" ")}}const ge="@firebase/app",Ze=new Q.Yd("@firebase/app"),mt="[DEFAULT]",nt={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,Et=new Map;function pt(cn,zt){try{cn.container.addComponent(zt)}catch(mn){Ze.debug(`Component ${zt.name} failed to register with FirebaseApp ${cn.name}`,mn)}}function Dt(cn,zt){cn.container.addOrOverwriteComponent(zt)}function _t(cn){const zt=cn.name;if(Et.has(zt))return Ze.debug(`There were multiple attempts to register component ${zt}.`),!1;Et.set(zt,cn);for(const mn of Je.values())pt(mn,cn);return!0}function Ft(cn,zt){const mn=cn.container.getProvider("heartbeat").getImmediate({optional:!0});return mn&&mn.triggerHeartbeat(),cn.container.getProvider(zt)}function Ot(cn,zt,mn=mt){Ft(cn,zt).clearInstance(mn)}function Cn(){Et.clear()}const $n=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Zn{constructor(zt,mn,ln){this._isDeleted=!1,this._options=Object.assign({},zt),this._config=Object.assign({},mn),this._name=mn.name,this._automaticDataCollectionEnabled=mn.automaticDataCollectionEnabled,this._container=ln,this.container.addComponent(new s.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(zt){this.checkDestroyed(),this._automaticDataCollectionEnabled=zt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(zt){this._isDeleted=zt}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const Hn="9.6.11";function ai(cn,zt={}){"object"!=typeof zt&&(zt={name:zt});const mn=Object.assign({name:mt,automaticDataCollectionEnabled:!1},zt),ln=mn.name;if("string"!=typeof ln||!ln)throw $n.create("bad-app-name",{appName:String(ln)});const Bn=Je.get(ln);if(Bn){if((0,Ce.vZ)(cn,Bn.options)&&(0,Ce.vZ)(mn,Bn.config))return Bn;throw $n.create("duplicate-app",{appName:ln})}const zn=new s.H0(ln);for(const ve of Et.values())zn.addComponent(ve);const qe=new Zn(cn,mn,zn);return Je.set(ln,qe),qe}function jn(cn=mt){const zt=Je.get(cn);if(!zt)throw $n.create("no-app",{appName:cn});return zt}function ki(){return Array.from(Je.values())}function gi(cn){return bn.apply(this,arguments)}function bn(){return(bn=(0,b.Z)(function*(cn){const zt=cn.name;Je.has(zt)&&(Je.delete(zt),yield Promise.all(cn.container.getProviders().map(mn=>mn.delete())),cn.isDeleted=!0)})).apply(this,arguments)}function Qn(cn,zt,mn){var ln;let Bn=null!==(ln=nt[cn])&&void 0!==ln?ln:cn;mn&&(Bn+=`-${mn}`);const zn=Bn.match(/\s|\//),qe=zt.match(/\s|\//);if(zn||qe){const ve=[`Unable to register library "${Bn}" with version "${zt}":`];return zn&&ve.push(`library name "${Bn}" contains illegal characters (whitespace or "/")`),zn&&qe&&ve.push("and"),qe&&ve.push(`version name "${zt}" contains illegal characters (whitespace or "/")`),void Ze.warn(ve.join(" "))}_t(new s.wA(`${Bn}-version`,()=>({library:Bn,version:zt}),"VERSION"))}function Gn(cn,zt){if(null!==cn&&"function"!=typeof cn)throw $n.create("invalid-log-argument");(0,Q.Am)(cn,zt)}function Kt(cn){(0,Q.Ub)(cn)}const zi="firebase-heartbeat-store";let rr=null;function Nr(){return rr||(rr=(0,Ce.X3)("firebase-heartbeat-database",1,(cn,zt)=>{0===zt&&cn.createObjectStore(zi)}).catch(cn=>{throw $n.create("storage-open",{originalErrorMessage:cn.message})})),rr}function ni(){return(ni=(0,b.Z)(function*(cn){try{return(yield Nr()).transaction(zi).objectStore(zi).get(ur(cn))}catch(zt){throw $n.create("storage-get",{originalErrorMessage:zt.message})}})).apply(this,arguments)}function hn(cn,zt){return pn.apply(this,arguments)}function pn(){return(pn=(0,b.Z)(function*(cn,zt){try{const ln=(yield Nr()).transaction(zi,"readwrite");return yield ln.objectStore(zi).put(zt,ur(cn)),ln.complete}catch(mn){throw $n.create("storage-set",{originalErrorMessage:mn.message})}})).apply(this,arguments)}function ur(cn){return`${cn.name}!${cn.options.appId}`}class Fi{constructor(zt){this.container=zt,this._heartbeatsCache=null;const mn=this.container.getProvider("app").getImmediate();this._storage=new Ln(mn),this._heartbeatsCachePromise=this._storage.read().then(ln=>(this._heartbeatsCache=ln,ln))}triggerHeartbeat(){var zt=this;return(0,b.Z)(function*(){const ln=zt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bn=Ti();if(null===zt._heartbeatsCache&&(zt._heartbeatsCache=yield zt._heartbeatsCachePromise),zt._heartbeatsCache.lastSentHeartbeatDate!==Bn&&!zt._heartbeatsCache.heartbeats.some(zn=>zn.date===Bn))return zt._heartbeatsCache.heartbeats.push({date:Bn,agent:ln}),zt._heartbeatsCache.heartbeats=zt._heartbeatsCache.heartbeats.filter(zn=>{const qe=new Date(zn.date).valueOf();return Date.now()-qe<=2592e6}),zt._storage.overwrite(zt._heartbeatsCache)})()}getHeartbeatsHeader(){var zt=this;return(0,b.Z)(function*(){if(null===zt._heartbeatsCache&&(yield zt._heartbeatsCachePromise),null===zt._heartbeatsCache||0===zt._heartbeatsCache.heartbeats.length)return"";const mn=Ti(),{heartbeatsToSend:ln,unsentEntries:Bn}=function Li(cn,zt=1024){const mn=[];let ln=cn.slice();for(const Bn of cn){const zn=mn.find(qe=>qe.agent===Bn.agent);if(zn){if(zn.dates.push(Bn.date),or(mn)>zt){zn.dates.pop();break}}else if(mn.push({agent:Bn.agent,dates:[Bn.date]}),or(mn)>zt){mn.pop();break}ln=ln.slice(1)}return{heartbeatsToSend:mn,unsentEntries:ln}}(zt._heartbeatsCache.heartbeats),zn=(0,Ce.L)(JSON.stringify({version:2,heartbeats:ln}));return zt._heartbeatsCache.lastSentHeartbeatDate=mn,Bn.length>0?(zt._heartbeatsCache.heartbeats=Bn,yield zt._storage.overwrite(zt._heartbeatsCache)):(zt._heartbeatsCache.heartbeats=[],zt._storage.overwrite(zt._heartbeatsCache)),zn})()}}function Ti(){return(new Date).toISOString().substring(0,10)}class Ln{constructor(zt){this.app=zt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var zt=this;return(0,b.Z)(function*(){return(yield zt._canUseIndexedDBPromise)&&(yield function cr(cn){return ni.apply(this,arguments)}(zt.app))||{heartbeats:[]}})()}overwrite(zt){var mn=this;return(0,b.Z)(function*(){var ln;if(yield mn._canUseIndexedDBPromise){const zn=yield mn.read();return hn(mn.app,{lastSentHeartbeatDate:null!==(ln=zt.lastSentHeartbeatDate)&&void 0!==ln?ln:zn.lastSentHeartbeatDate,heartbeats:zt.heartbeats})}})()}add(zt){var mn=this;return(0,b.Z)(function*(){var ln;if(yield mn._canUseIndexedDBPromise){const zn=yield mn.read();return hn(mn.app,{lastSentHeartbeatDate:null!==(ln=zt.lastSentHeartbeatDate)&&void 0!==ln?ln:zn.lastSentHeartbeatDate,heartbeats:[...zn.heartbeats,...zt.heartbeats]})}})()}}function or(cn){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:cn})).length}!function ci(cn){_t(new s.wA("platform-logger",zt=>new Ie(zt),"PRIVATE")),_t(new s.wA("heartbeat",zt=>new Fi(zt),"PRIVATE")),Qn(ge,"0.7.21",cn),Qn(ge,"0.7.21","esm2017"),Qn("fire-js","")}("")},4859:(nn,ht,L)=>{"use strict";L.d(ht,{H0:()=>Pe,wA:()=>Q,zt:()=>Ie});var b=L(5861),s=L(2090);class Q{constructor(Ne,de,Be){this.name=Ne,this.instanceFactory=de,this.type=Be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ne){return this.instantiationMode=Ne,this}setMultipleInstances(Ne){return this.multipleInstances=Ne,this}setServiceProps(Ne){return this.serviceProps=Ne,this}setInstanceCreatedCallback(Ne){return this.onInstanceCreated=Ne,this}}const Ce="[DEFAULT]";class Ie{constructor(Ne,de){this.name=Ne,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ne){const de=this.normalizeInstanceIdentifier(Ne);if(!this.instancesDeferred.has(de)){const Be=new s.BH;if(this.instancesDeferred.set(de,Be),this.isInitialized(de)||this.shouldAutoInitialize())try{const Te=this.getOrInitializeService({instanceIdentifier:de});Te&&Be.resolve(Te)}catch(Te){}}return this.instancesDeferred.get(de).promise}getImmediate(Ne){var de;const Be=this.normalizeInstanceIdentifier(null==Ne?void 0:Ne.identifier),Te=null!==(de=null==Ne?void 0:Ne.optional)&&void 0!==de&&de;if(!this.isInitialized(Be)&&!this.shouldAutoInitialize()){if(Te)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Be})}catch(je){if(Te)return null;throw je}}getComponent(){return this.component}setComponent(Ne){if(Ne.name!==this.name)throw Error(`Mismatching Component ${Ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ne,this.shouldAutoInitialize()){if(function ge(Ze){return"EAGER"===Ze.instantiationMode}(Ne))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(de){}for(const[de,Be]of this.instancesDeferred.entries()){const Te=this.normalizeInstanceIdentifier(de);try{const je=this.getOrInitializeService({instanceIdentifier:Te});Be.resolve(je)}catch(je){}}}}clearInstance(Ne=Ce){this.instancesDeferred.delete(Ne),this.instancesOptions.delete(Ne),this.instances.delete(Ne)}delete(){var Ne=this;return(0,b.Z)(function*(){const de=Array.from(Ne.instances.values());yield Promise.all([...de.filter(Be=>"INTERNAL"in Be).map(Be=>Be.INTERNAL.delete()),...de.filter(Be=>"_delete"in Be).map(Be=>Be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ne=Ce){return this.instances.has(Ne)}getOptions(Ne=Ce){return this.instancesOptions.get(Ne)||{}}initialize(Ne={}){const{options:de={}}=Ne,Be=this.normalizeInstanceIdentifier(Ne.instanceIdentifier);if(this.isInitialized(Be))throw Error(`${this.name}(${Be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Te=this.getOrInitializeService({instanceIdentifier:Be,options:de});for(const[je,it]of this.instancesDeferred.entries())Be===this.normalizeInstanceIdentifier(je)&&it.resolve(Te);return Te}onInit(Ne,de){var Be;const Te=this.normalizeInstanceIdentifier(de),je=null!==(Be=this.onInitCallbacks.get(Te))&&void 0!==Be?Be:new Set;je.add(Ne),this.onInitCallbacks.set(Te,je);const it=this.instances.get(Te);return it&&Ne(it,Te),()=>{je.delete(Ne)}}invokeOnInitCallbacks(Ne,de){const Be=this.onInitCallbacks.get(de);if(Be)for(const Te of Be)try{Te(Ne,de)}catch(je){}}getOrInitializeService({instanceIdentifier:Ne,options:de={}}){let Be=this.instances.get(Ne);if(!Be&&this.component&&(Be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=Ne,Ze===Ce?void 0:Ze),options:de}),this.instances.set(Ne,Be),this.instancesOptions.set(Ne,de),this.invokeOnInitCallbacks(Be,Ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ne,Be)}catch(Te){}var Ze;return Be||null}normalizeInstanceIdentifier(Ne=Ce){return this.component?this.component.multipleInstances?Ne:Ce:Ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(Ne){this.name=Ne,this.providers=new Map}addComponent(Ne){const de=this.getProvider(Ne.name);if(de.isComponentSet())throw new Error(`Component ${Ne.name} has already been registered with ${this.name}`);de.setComponent(Ne)}addOrOverwriteComponent(Ne){this.getProvider(Ne.name).isComponentSet()&&this.providers.delete(Ne.name),this.addComponent(Ne)}getProvider(Ne){if(this.providers.has(Ne))return this.providers.get(Ne);const de=new Ie(Ne,this);return this.providers.set(Ne,de),de}getProviders(){return Array.from(this.providers.values())}}},1877:(nn,ht,L)=>{"use strict";L.d(ht,{Am:()=>Ze,Ub:()=>Pe,Yd:()=>ge,in:()=>s});const b=[];var s=(()=>{return(Ne=s||(s={}))[Ne.DEBUG=0]="DEBUG",Ne[Ne.VERBOSE=1]="VERBOSE",Ne[Ne.INFO=2]="INFO",Ne[Ne.WARN=3]="WARN",Ne[Ne.ERROR=4]="ERROR",Ne[Ne.SILENT=5]="SILENT",s;var Ne})();const Q={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},Ce=s.INFO,Ie={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},ae=(Ne,de,...Be)=>{if(de<Ne.logLevel)return;const Te=(new Date).toISOString(),je=Ie[de];if(!je)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[je](`[${Te}]  ${Ne.name}:`,...Be)};class ge{constructor(de){this.name=de,this._logLevel=Ce,this._logHandler=ae,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in s))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?Q[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...de),this._logHandler(this,s.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...de),this._logHandler(this,s.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,s.INFO,...de),this._logHandler(this,s.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,s.WARN,...de),this._logHandler(this,s.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...de),this._logHandler(this,s.ERROR,...de)}}function Pe(Ne){b.forEach(de=>{de.setLogLevel(Ne)})}function Ze(Ne,de){for(const Be of b){let Te=null;de&&de.level&&(Te=Q[de.level]),Be.userLogHandler=null===Ne?null:(je,it,...Le)=>{const Ve=Le.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch(_e){return null}}).filter(fe=>fe).join(" ");it>=(null!=Te?Te:je.logLevel)&&Ne({level:s[it].toLowerCase(),message:Ve,args:Le,type:je.name})}}}},5861:(nn,ht,L)=>{"use strict";function b(Q,Ce,Ie,ae,ge,Pe,Ze){try{var Ne=Q[Pe](Ze),de=Ne.value}catch(Be){return void Ie(Be)}Ne.done?Ce(de):Promise.resolve(de).then(ae,ge)}function s(Q){return function(){var Ce=this,Ie=arguments;return new Promise(function(ae,ge){var Pe=Q.apply(Ce,Ie);function Ze(de){b(Pe,ae,ge,Ze,Ne,"next",de)}function Ne(de){b(Pe,ae,ge,Ze,Ne,"throw",de)}Ze(void 0)})}}L.d(ht,{Z:()=>s})}},nn=>{nn(nn.s=5900)}]);